(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();function Uo(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const be={},Gs=[],It=()=>{},ru=()=>!1,Qn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ho=t=>t.startsWith("onUpdate:"),Ne=Object.assign,Wo=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},vd=Object.prototype.hasOwnProperty,fe=(t,e)=>vd.call(t,e),Y=Array.isArray,Js=t=>Zn(t)==="[object Map]",ou=t=>Zn(t)==="[object Set]",te=t=>typeof t=="function",Pe=t=>typeof t=="string",us=t=>typeof t=="symbol",Se=t=>t!==null&&typeof t=="object",au=t=>(Se(t)||te(t))&&te(t.then)&&te(t.catch),lu=Object.prototype.toString,Zn=t=>lu.call(t),wd=t=>Zn(t).slice(8,-1),cu=t=>Zn(t)==="[object Object]",zo=t=>Pe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Si=Uo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),er=t=>{const e=Object.create(null);return(s=>e[s]||(e[s]=t(s)))},xd=/-\w/g,as=er(t=>t.replace(xd,e=>e.slice(1).toUpperCase())),Sd=/\B([A-Z])/g,Ps=er(t=>t.replace(Sd,"-$1").toLowerCase()),uu=er(t=>t.charAt(0).toUpperCase()+t.slice(1)),br=er(t=>t?`on${uu(t)}`:""),is=(t,e)=>!Object.is(t,e),kn=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},hu=(t,e,s,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:s})},Vo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ea;const tr=()=>Ea||(Ea=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qo(t){if(Y(t)){const e={};for(let s=0;s<t.length;s++){const i=t[s],n=Pe(i)?Ed(i):qo(i);if(n)for(const r in n)e[r]=n[r]}return e}else if(Pe(t)||Se(t))return t}const kd=/;(?![^(]*\))/g,Td=/:([^]+)/,Od=/\/\*[^]*?\*\//g;function Ed(t){const e={};return t.replace(Od,"").split(kd).forEach(s=>{if(s){const i=s.split(Td);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Pt(t){let e="";if(Pe(t))e=t;else if(Y(t))for(let s=0;s<t.length;s++){const i=Pt(t[s]);i&&(e+=i+" ")}else if(Se(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Ad="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Rd=Uo(Ad);function du(t){return!!t||t===""}const fu=t=>!!(t&&t.__v_isRef===!0),Oe=t=>Pe(t)?t:t==null?"":Y(t)||Se(t)&&(t.toString===lu||!te(t.toString))?fu(t)?Oe(t.value):JSON.stringify(t,gu,2):String(t),gu=(t,e)=>fu(e)?gu(t,e.value):Js(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[i,n],r)=>(s[_r(i,r)+" =>"]=n,s),{})}:ou(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>_r(s))}:us(e)?_r(e):Se(e)&&!Y(e)&&!cu(e)?String(e):e,_r=(t,e="")=>{var s;return us(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};let Ke;class Cd{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ke,!e&&Ke&&(this.index=(Ke.scopes||(Ke.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=Ke;try{return Ke=this,e()}finally{Ke=s}}}on(){++this._on===1&&(this.prevScope=Ke,Ke=this)}off(){this._on>0&&--this._on===0&&(Ke=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,i;for(s=0,i=this.effects.length;s<i;s++)this.effects[s].stop();for(this.effects.length=0,s=0,i=this.cleanups.length;s<i;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,i=this.scopes.length;s<i;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Pd(){return Ke}let we;const yr=new WeakSet;class pu{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ke&&Ke.active&&Ke.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,yr.has(this)&&(yr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||bu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Aa(this),_u(this);const e=we,s=bt;we=this,bt=!0;try{return this.fn()}finally{yu(this),we=e,bt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Jo(e);this.deps=this.depsTail=void 0,Aa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?yr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){go(this)&&this.run()}get dirty(){return go(this)}}let mu=0,ki,Ti;function bu(t,e=!1){if(t.flags|=8,e){t.next=Ti,Ti=t;return}t.next=ki,ki=t}function Ko(){mu++}function Go(){if(--mu>0)return;if(Ti){let e=Ti;for(Ti=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;ki;){let e=ki;for(ki=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=s}}if(t)throw t}function _u(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function yu(t){let e,s=t.depsTail,i=s;for(;i;){const n=i.prevDep;i.version===-1?(i===s&&(s=n),Jo(i),Id(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}t.deps=e,t.depsTail=s}function go(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(vu(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function vu(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Li)||(t.globalVersion=Li,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!go(t))))return;t.flags|=2;const e=t.dep,s=we,i=bt;we=t,bt=!0;try{_u(t);const n=t.fn(t._value);(e.version===0||is(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{we=s,bt=i,yu(t),t.flags&=-3}}function Jo(t,e=!1){const{dep:s,prevSub:i,nextSub:n}=t;if(i&&(i.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=i,t.nextSub=void 0),s.subs===t&&(s.subs=i,!i&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)Jo(r,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Id(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let bt=!0;const wu=[];function Wt(){wu.push(bt),bt=!1}function zt(){const t=wu.pop();bt=t===void 0?!0:t}function Aa(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=we;we=void 0;try{e()}finally{we=s}}}let Li=0;class Md{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Yo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!we||!bt||we===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==we)s=this.activeLink=new Md(we,this),we.deps?(s.prevDep=we.depsTail,we.depsTail.nextDep=s,we.depsTail=s):we.deps=we.depsTail=s,xu(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const i=s.nextDep;i.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=i),s.prevDep=we.depsTail,s.nextDep=void 0,we.depsTail.nextDep=s,we.depsTail=s,we.deps===s&&(we.deps=i)}return s}trigger(e){this.version++,Li++,this.notify(e)}notify(e){Ko();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Go()}}}function xu(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)xu(i)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const po=new WeakMap,Es=Symbol(""),mo=Symbol(""),ji=Symbol("");function Fe(t,e,s){if(bt&&we){let i=po.get(t);i||po.set(t,i=new Map);let n=i.get(s);n||(i.set(s,n=new Yo),n.map=i,n.key=s),n.track()}}function Ut(t,e,s,i,n,r){const o=po.get(t);if(!o){Li++;return}const a=l=>{l&&l.trigger()};if(Ko(),e==="clear")o.forEach(a);else{const l=Y(t),c=l&&zo(s);if(l&&s==="length"){const u=Number(i);o.forEach((h,d)=>{(d==="length"||d===ji||!us(d)&&d>=u)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(ji)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Es)),Js(t)&&a(o.get(mo)));break;case"delete":l||(a(o.get(Es)),Js(t)&&a(o.get(mo)));break;case"set":Js(t)&&a(o.get(Es));break}}Go()}function Is(t){const e=ae(t);return e===t?e:(Fe(e,"iterate",ji),lt(t)?e:e.map(_t))}function sr(t){return Fe(t=ae(t),"iterate",ji),t}function Gt(t,e){return Vt(t)?ti(As(t)?_t(e):e):_t(e)}const Dd={__proto__:null,[Symbol.iterator](){return vr(this,Symbol.iterator,t=>Gt(this,t))},concat(...t){return Is(this).concat(...t.map(e=>Y(e)?Is(e):e))},entries(){return vr(this,"entries",t=>(t[1]=Gt(this,t[1]),t))},every(t,e){return Dt(this,"every",t,e,void 0,arguments)},filter(t,e){return Dt(this,"filter",t,e,s=>s.map(i=>Gt(this,i)),arguments)},find(t,e){return Dt(this,"find",t,e,s=>Gt(this,s),arguments)},findIndex(t,e){return Dt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Dt(this,"findLast",t,e,s=>Gt(this,s),arguments)},findLastIndex(t,e){return Dt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Dt(this,"forEach",t,e,void 0,arguments)},includes(...t){return wr(this,"includes",t)},indexOf(...t){return wr(this,"indexOf",t)},join(t){return Is(this).join(t)},lastIndexOf(...t){return wr(this,"lastIndexOf",t)},map(t,e){return Dt(this,"map",t,e,void 0,arguments)},pop(){return ci(this,"pop")},push(...t){return ci(this,"push",t)},reduce(t,...e){return Ra(this,"reduce",t,e)},reduceRight(t,...e){return Ra(this,"reduceRight",t,e)},shift(){return ci(this,"shift")},some(t,e){return Dt(this,"some",t,e,void 0,arguments)},splice(...t){return ci(this,"splice",t)},toReversed(){return Is(this).toReversed()},toSorted(t){return Is(this).toSorted(t)},toSpliced(...t){return Is(this).toSpliced(...t)},unshift(...t){return ci(this,"unshift",t)},values(){return vr(this,"values",t=>Gt(this,t))}};function vr(t,e,s){const i=sr(t),n=i[e]();return i!==t&&!lt(t)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.done||(r.value=s(r.value)),r}),n}const Ld=Array.prototype;function Dt(t,e,s,i,n,r){const o=sr(t),a=o!==t&&!lt(t),l=o[e];if(l!==Ld[e]){const h=l.apply(t,r);return a?_t(h):h}let c=s;o!==t&&(a?c=function(h,d){return s.call(this,Gt(t,h),d,t)}:s.length>2&&(c=function(h,d){return s.call(this,h,d,t)}));const u=l.call(o,c,i);return a&&n?n(u):u}function Ra(t,e,s,i){const n=sr(t);let r=s;return n!==t&&(lt(t)?s.length>3&&(r=function(o,a,l){return s.call(this,o,a,l,t)}):r=function(o,a,l){return s.call(this,o,Gt(t,a),l,t)}),n[e](r,...i)}function wr(t,e,s){const i=ae(t);Fe(i,"iterate",ji);const n=i[e](...s);return(n===-1||n===!1)&&Yi(s[0])?(s[0]=ae(s[0]),i[e](...s)):n}function ci(t,e,s=[]){Wt(),Ko();const i=ae(t)[e].apply(t,s);return Go(),zt(),i}const jd=Uo("__proto__,__v_isRef,__isVue"),Su=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(us));function $d(t){us(t)||(t=String(t));const e=ae(this);return Fe(e,"has",t),e.hasOwnProperty(t)}class ku{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,i){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return r;if(s==="__v_raw")return i===(n?r?Kd:Au:r?Eu:Ou).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Y(e);if(!n){let l;if(o&&(l=Dd[s]))return l;if(s==="hasOwnProperty")return $d}const a=Reflect.get(e,s,Be(e)?e:i);if((us(s)?Su.has(s):jd(s))||(n||Fe(e,"get",s),r))return a;if(Be(a)){const l=o&&zo(s)?a:a.value;return n&&Se(l)?_o(l):l}return Se(a)?n?_o(a):Qo(a):a}}class Tu extends ku{constructor(e=!1){super(!1,e)}set(e,s,i,n){let r=e[s];const o=Y(e)&&zo(s);if(!this._isShallow){const c=Vt(r);if(!lt(i)&&!Vt(i)&&(r=ae(r),i=ae(i)),!o&&Be(r)&&!Be(i))return c||(r.value=i),!0}const a=o?Number(s)<e.length:fe(e,s),l=Reflect.set(e,s,i,Be(e)?e:n);return e===ae(n)&&(a?is(i,r)&&Ut(e,"set",s,i):Ut(e,"add",s,i)),l}deleteProperty(e,s){const i=fe(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&i&&Ut(e,"delete",s,void 0),n}has(e,s){const i=Reflect.has(e,s);return(!us(s)||!Su.has(s))&&Fe(e,"has",s),i}ownKeys(e){return Fe(e,"iterate",Y(e)?"length":Es),Reflect.ownKeys(e)}}class Nd extends ku{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Fd=new Tu,Bd=new Nd,Ud=new Tu(!0);const bo=t=>t,sn=t=>Reflect.getPrototypeOf(t);function Hd(t,e,s){return function(...i){const n=this.__v_raw,r=ae(n),o=Js(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...i),u=s?bo:e?ti:_t;return!e&&Fe(r,"iterate",l?mo:Es),Ne(Object.create(c),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}}})}}function nn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Wd(t,e){const s={get(n){const r=this.__v_raw,o=ae(r),a=ae(n);t||(is(n,a)&&Fe(o,"get",n),Fe(o,"get",a));const{has:l}=sn(o),c=e?bo:t?ti:_t;if(l.call(o,n))return c(r.get(n));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(n)},get size(){const n=this.__v_raw;return!t&&Fe(ae(n),"iterate",Es),n.size},has(n){const r=this.__v_raw,o=ae(r),a=ae(n);return t||(is(n,a)&&Fe(o,"has",n),Fe(o,"has",a)),n===a?r.has(n):r.has(n)||r.has(a)},forEach(n,r){const o=this,a=o.__v_raw,l=ae(a),c=e?bo:t?ti:_t;return!t&&Fe(l,"iterate",Es),a.forEach((u,h)=>n.call(r,c(u),c(h),o))}};return Ne(s,t?{add:nn("add"),set:nn("set"),delete:nn("delete"),clear:nn("clear")}:{add(n){!e&&!lt(n)&&!Vt(n)&&(n=ae(n));const r=ae(this);return sn(r).has.call(r,n)||(r.add(n),Ut(r,"add",n,n)),this},set(n,r){!e&&!lt(r)&&!Vt(r)&&(r=ae(r));const o=ae(this),{has:a,get:l}=sn(o);let c=a.call(o,n);c||(n=ae(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,r),c?is(r,u)&&Ut(o,"set",n,r):Ut(o,"add",n,r),this},delete(n){const r=ae(this),{has:o,get:a}=sn(r);let l=o.call(r,n);l||(n=ae(n),l=o.call(r,n)),a&&a.call(r,n);const c=r.delete(n);return l&&Ut(r,"delete",n,void 0),c},clear(){const n=ae(this),r=n.size!==0,o=n.clear();return r&&Ut(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Hd(n,t,e)}),s}function Xo(t,e){const s=Wd(t,e);return(i,n,r)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(fe(s,n)&&n in i?s:i,n,r)}const zd={get:Xo(!1,!1)},Vd={get:Xo(!1,!0)},qd={get:Xo(!0,!1)};const Ou=new WeakMap,Eu=new WeakMap,Au=new WeakMap,Kd=new WeakMap;function Gd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jd(t){return t.__v_skip||!Object.isExtensible(t)?0:Gd(wd(t))}function Qo(t){return Vt(t)?t:Zo(t,!1,Fd,zd,Ou)}function Yd(t){return Zo(t,!1,Ud,Vd,Eu)}function _o(t){return Zo(t,!0,Bd,qd,Au)}function Zo(t,e,s,i,n){if(!Se(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=Jd(t);if(r===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,r===2?i:s);return n.set(t,a),a}function As(t){return Vt(t)?As(t.__v_raw):!!(t&&t.__v_isReactive)}function Vt(t){return!!(t&&t.__v_isReadonly)}function lt(t){return!!(t&&t.__v_isShallow)}function Yi(t){return t?!!t.__v_raw:!1}function ae(t){const e=t&&t.__v_raw;return e?ae(e):t}function Xd(t){return!fe(t,"__v_skip")&&Object.isExtensible(t)&&hu(t,"__v_skip",!0),t}const _t=t=>Se(t)?Qo(t):t,ti=t=>Se(t)?_o(t):t;function Be(t){return t?t.__v_isRef===!0:!1}function Je(t){return Cu(t,!1)}function Ru(t){return Cu(t,!0)}function Cu(t,e){return Be(t)?t:new Qd(t,e)}class Qd{constructor(e,s){this.dep=new Yo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:ae(e),this._value=s?e:_t(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,i=this.__v_isShallow||lt(e)||Vt(e);e=i?e:ae(e),is(e,s)&&(this._rawValue=e,this._value=i?e:_t(e),this.dep.trigger())}}function Pu(t){return Be(t)?t.value:t}const Zd={get:(t,e,s)=>e==="__v_raw"?t:Pu(Reflect.get(t,e,s)),set:(t,e,s,i)=>{const n=t[e];return Be(n)&&!Be(s)?(n.value=s,!0):Reflect.set(t,e,s,i)}};function Iu(t){return As(t)?t:new Proxy(t,Zd)}class ef{constructor(e,s,i){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Yo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Li-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&we!==this)return bu(this,!0),!0}get value(){const e=this.dep.track();return vu(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function tf(t,e,s=!1){let i,n;return te(t)?i=t:(i=t.get,n=t.set),new ef(i,n,s)}const rn={},In=new WeakMap;let ys;function sf(t,e=!1,s=ys){if(s){let i=In.get(s);i||In.set(s,i=[]),i.push(t)}}function nf(t,e,s=be){const{immediate:i,deep:n,once:r,scheduler:o,augmentJob:a,call:l}=s,c=x=>n?x:lt(x)||n===!1||n===0?Ht(x,1):Ht(x);let u,h,d,f,m=!1,g=!1;if(Be(t)?(h=()=>t.value,m=lt(t)):As(t)?(h=()=>c(t),m=!0):Y(t)?(g=!0,m=t.some(x=>As(x)||lt(x)),h=()=>t.map(x=>{if(Be(x))return x.value;if(As(x))return c(x);if(te(x))return l?l(x,2):x()})):te(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){Wt();try{d()}finally{zt()}}const x=ys;ys=u;try{return l?l(t,3,[f]):t(f)}finally{ys=x}}:h=It,e&&n){const x=h,T=n===!0?1/0:n;h=()=>Ht(x(),T)}const p=Pd(),b=()=>{u.stop(),p&&p.active&&Wo(p.effects,u)};if(r&&e){const x=e;e=(...T)=>{x(...T),b()}}let w=g?new Array(t.length).fill(rn):rn;const v=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(e){const T=u.run();if(n||m||(g?T.some((P,M)=>is(P,w[M])):is(T,w))){d&&d();const P=ys;ys=u;try{const M=[T,w===rn?void 0:g&&w[0]===rn?[]:w,f];w=T,l?l(e,3,M):e(...M)}finally{ys=P}}}else u.run()};return a&&a(v),u=new pu(h),u.scheduler=o?()=>o(v,!1):v,f=x=>sf(x,!1,u),d=u.onStop=()=>{const x=In.get(u);if(x){if(l)l(x,4);else for(const T of x)T();In.delete(u)}},e?i?v(!0):w=u.run():o?o(v.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Ht(t,e=1/0,s){if(e<=0||!Se(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,Be(t))Ht(t.value,e,s);else if(Y(t))for(let i=0;i<t.length;i++)Ht(t[i],e,s);else if(ou(t)||Js(t))t.forEach(i=>{Ht(i,e,s)});else if(cu(t)){for(const i in t)Ht(t[i],e,s);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Ht(t[i],e,s)}return t}function Xi(t,e,s,i){try{return i?t(...i):t()}catch(n){ir(n,e,s)}}function Mt(t,e,s,i){if(te(t)){const n=Xi(t,e,s,i);return n&&au(n)&&n.catch(r=>{ir(r,e,s)}),n}if(Y(t)){const n=[];for(let r=0;r<t.length;r++)n.push(Mt(t[r],e,s,i));return n}}function ir(t,e,s,i=!0){const n=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||be;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(r){Wt(),Xi(r,null,10,[t,l,c]),zt();return}}rf(t,s,n,i,o)}function rf(t,e,s,i=!0,n=!1){if(n)throw t;console.error(t)}const He=[];let Ot=-1;const Ys=[];let Jt=null,Us=0;const Mu=Promise.resolve();let Mn=null;function Du(t){const e=Mn||Mu;return t?e.then(this?t.bind(this):t):e}function of(t){let e=Ot+1,s=He.length;for(;e<s;){const i=e+s>>>1,n=He[i],r=$i(n);r<t||r===t&&n.flags&2?e=i+1:s=i}return e}function ea(t){if(!(t.flags&1)){const e=$i(t),s=He[He.length-1];!s||!(t.flags&2)&&e>=$i(s)?He.push(t):He.splice(of(e),0,t),t.flags|=1,Lu()}}function Lu(){Mn||(Mn=Mu.then($u))}function af(t){Y(t)?Ys.push(...t):Jt&&t.id===-1?Jt.splice(Us+1,0,t):t.flags&1||(Ys.push(t),t.flags|=1),Lu()}function Ca(t,e,s=Ot+1){for(;s<He.length;s++){const i=He[s];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;He.splice(s,1),s--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function ju(t){if(Ys.length){const e=[...new Set(Ys)].sort((s,i)=>$i(s)-$i(i));if(Ys.length=0,Jt){Jt.push(...e);return}for(Jt=e,Us=0;Us<Jt.length;Us++){const s=Jt[Us];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Jt=null,Us=0}}const $i=t=>t.id==null?t.flags&2?-1:1/0:t.id;function $u(t){try{for(Ot=0;Ot<He.length;Ot++){const e=He[Ot];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Xi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ot<He.length;Ot++){const e=He[Ot];e&&(e.flags&=-2)}Ot=-1,He.length=0,ju(),Mn=null,(He.length||Ys.length)&&$u()}}let at=null,Nu=null;function Dn(t){const e=at;return at=t,Nu=t&&t.type.__scopeId||null,e}function lf(t,e=at,s){if(!e||t._n)return t;const i=(...n)=>{i._d&&$n(-1);const r=Dn(e);let o;try{o=t(...n)}finally{Dn(r),i._d&&$n(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Rt(t,e){if(at===null)return t;const s=lr(at),i=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[r,o,a,l=be]=e[n];r&&(te(r)&&(r={mounted:r,updated:r}),r.deep&&Ht(o),i.push({dir:r,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function hs(t,e,s,i){const n=t.dirs,r=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(Wt(),Mt(l,s,8,[t.el,a,t,e]),zt())}}function cf(t,e){if(We){let s=We.provides;const i=We.parent&&We.parent.provides;i===s&&(s=We.provides=Object.create(i)),s[t]=e}}function Tn(t,e,s=!1){const i=cg();if(i||Xs){let n=Xs?Xs._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&te(e)?e.call(i&&i.proxy):e}}const uf=Symbol.for("v-scx"),hf=()=>Tn(uf);function On(t,e,s){return Fu(t,e,s)}function Fu(t,e,s=be){const{immediate:i,deep:n,flush:r,once:o}=s,a=Ne({},s),l=e&&i||!e&&r!=="post";let c;if(Fi){if(r==="sync"){const f=hf();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=It,f.resume=It,f.pause=It,f}}const u=We;a.call=(f,m,g)=>Mt(f,u,m,g);let h=!1;r==="post"?a.scheduler=f=>{st(f,u&&u.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(f,m)=>{m?f():ea(f)}),a.augmentJob=f=>{e&&(f.flags|=4),h&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const d=nf(t,e,a);return Fi&&(c?c.push(d):l&&d()),d}function df(t,e,s){const i=this.proxy,n=Pe(t)?t.includes(".")?Bu(i,t):()=>i[t]:t.bind(i,i);let r;te(e)?r=e:(r=e.handler,s=e);const o=Qi(this),a=Fu(n,r.bind(i),s);return o(),a}function Bu(t,e){const s=e.split(".");return()=>{let i=t;for(let n=0;n<s.length&&i;n++)i=i[s[n]];return i}}const ff=Symbol("_vte"),gf=t=>t.__isTeleport,pf=Symbol("_leaveCb");function ta(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ta(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Uu(t,e){return te(t)?Ne({name:t.name},e,{setup:t}):t}function Hu(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const Ln=new WeakMap;function Oi(t,e,s,i,n=!1){if(Y(t)){t.forEach((m,g)=>Oi(m,e&&(Y(e)?e[g]:e),s,i,n));return}if(Ei(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Oi(t,e,s,i.component.subTree);return}const r=i.shapeFlag&4?lr(i.component):i.el,o=n?null:r,{i:a,r:l}=t,c=e&&e.r,u=a.refs===be?a.refs={}:a.refs,h=a.setupState,d=ae(h),f=h===be?ru:m=>fe(d,m);if(c!=null&&c!==l){if(Pa(e),Pe(c))u[c]=null,f(c)&&(h[c]=null);else if(Be(c)){c.value=null;const m=e;m.k&&(u[m.k]=null)}}if(te(l))Xi(l,a,12,[o,u]);else{const m=Pe(l),g=Be(l);if(m||g){const p=()=>{if(t.f){const b=m?f(l)?h[l]:u[l]:l.value;if(n)Y(b)&&Wo(b,r);else if(Y(b))b.includes(r)||b.push(r);else if(m)u[l]=[r],f(l)&&(h[l]=u[l]);else{const w=[r];l.value=w,t.k&&(u[t.k]=w)}}else m?(u[l]=o,f(l)&&(h[l]=o)):g&&(l.value=o,t.k&&(u[t.k]=o))};if(o){const b=()=>{p(),Ln.delete(t)};b.id=-1,Ln.set(t,b),st(b,s)}else Pa(t),p()}}}function Pa(t){const e=Ln.get(t);e&&(e.flags|=8,Ln.delete(t))}tr().requestIdleCallback;tr().cancelIdleCallback;const Ei=t=>!!t.type.__asyncLoader,Wu=t=>t.type.__isKeepAlive;function mf(t,e){zu(t,"a",e)}function bf(t,e){zu(t,"da",e)}function zu(t,e,s=We){const i=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(nr(e,i,s),s){let n=s.parent;for(;n&&n.parent;)Wu(n.parent.vnode)&&_f(i,e,s,n),n=n.parent}}function _f(t,e,s,i){const n=nr(e,t,i,!0);sa(()=>{Wo(i[e],n)},s)}function nr(t,e,s=We,i=!1){if(s){const n=s[t]||(s[t]=[]),r=e.__weh||(e.__weh=(...o)=>{Wt();const a=Qi(s),l=Mt(e,s,t,o);return a(),zt(),l});return i?n.unshift(r):n.push(r),r}}const qt=t=>(e,s=We)=>{(!Fi||t==="sp")&&nr(t,(...i)=>e(...i),s)},yf=qt("bm"),rr=qt("m"),vf=qt("bu"),wf=qt("u"),xf=qt("bum"),sa=qt("um"),Sf=qt("sp"),kf=qt("rtg"),Tf=qt("rtc");function Of(t,e=We){nr("ec",t,e)}const Ef=Symbol.for("v-ndc");function Af(t,e,s,i){let n;const r=s,o=Y(t);if(o||Pe(t)){const a=o&&As(t);let l=!1,c=!1;a&&(l=!lt(t),c=Vt(t),t=sr(t)),n=new Array(t.length);for(let u=0,h=t.length;u<h;u++)n[u]=e(l?c?ti(_t(t[u])):_t(t[u]):t[u],u,void 0,r)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,r)}else if(Se(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=e(t[u],u,l,r)}}else n=[];return n}const yo=t=>t?ch(t)?lr(t):yo(t.parent):null,Ai=Ne(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>yo(t.parent),$root:t=>yo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>qu(t),$forceUpdate:t=>t.f||(t.f=()=>{ea(t.update)}),$nextTick:t=>t.n||(t.n=Du.bind(t.proxy)),$watch:t=>df.bind(t)}),xr=(t,e)=>t!==be&&!t.__isScriptSetup&&fe(t,e),Rf={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:i,data:n,props:r,accessCache:o,type:a,appContext:l}=t;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return i[e];case 2:return n[e];case 4:return s[e];case 3:return r[e]}else{if(xr(i,e))return o[e]=1,i[e];if(n!==be&&fe(n,e))return o[e]=2,n[e];if(fe(r,e))return o[e]=3,r[e];if(s!==be&&fe(s,e))return o[e]=4,s[e];vo&&(o[e]=0)}}const c=Ai[e];let u,h;if(c)return e==="$attrs"&&Fe(t.attrs,"get",""),c(t);if((u=a.__cssModules)&&(u=u[e]))return u;if(s!==be&&fe(s,e))return o[e]=4,s[e];if(h=l.config.globalProperties,fe(h,e))return h[e]},set({_:t},e,s){const{data:i,setupState:n,ctx:r}=t;return xr(n,e)?(n[e]=s,!0):i!==be&&fe(i,e)?(i[e]=s,!0):fe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:i,appContext:n,props:r,type:o}},a){let l;return!!(s[a]||t!==be&&a[0]!=="$"&&fe(t,a)||xr(e,a)||fe(r,a)||fe(i,a)||fe(Ai,a)||fe(n.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:fe(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Ia(t){return Y(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let vo=!0;function Cf(t){const e=qu(t),s=t.proxy,i=t.ctx;vo=!1,e.beforeCreate&&Ma(e.beforeCreate,t,"bc");const{data:n,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:m,activated:g,deactivated:p,beforeDestroy:b,beforeUnmount:w,destroyed:v,unmounted:x,render:T,renderTracked:P,renderTriggered:M,errorCaptured:j,serverPrefetch:H,expose:Q,inheritAttrs:G,components:ie,directives:ue,filters:me}=e;if(c&&Pf(c,i,null),o)for(const Z in o){const re=o[Z];te(re)&&(i[Z]=re.bind(s))}if(n){const Z=n.call(s,s);Se(Z)&&(t.data=Qo(Z))}if(vo=!0,r)for(const Z in r){const re=r[Z],E=te(re)?re.bind(s,s):te(re.get)?re.get.bind(s,s):It,k=!te(re)&&te(re.set)?re.set.bind(s):It,I=gt({get:E,set:k});Object.defineProperty(i,Z,{enumerable:!0,configurable:!0,get:()=>I.value,set:B=>I.value=B})}if(a)for(const Z in a)Vu(a[Z],i,s,Z);if(l){const Z=te(l)?l.call(s):l;Reflect.ownKeys(Z).forEach(re=>{cf(re,Z[re])})}u&&Ma(u,t,"c");function ne(Z,re){Y(re)?re.forEach(E=>Z(E.bind(s))):re&&Z(re.bind(s))}if(ne(yf,h),ne(rr,d),ne(vf,f),ne(wf,m),ne(mf,g),ne(bf,p),ne(Of,j),ne(Tf,P),ne(kf,M),ne(xf,w),ne(sa,x),ne(Sf,H),Y(Q))if(Q.length){const Z=t.exposed||(t.exposed={});Q.forEach(re=>{Object.defineProperty(Z,re,{get:()=>s[re],set:E=>s[re]=E,enumerable:!0})})}else t.exposed||(t.exposed={});T&&t.render===It&&(t.render=T),G!=null&&(t.inheritAttrs=G),ie&&(t.components=ie),ue&&(t.directives=ue),H&&Hu(t)}function Pf(t,e,s=It){Y(t)&&(t=wo(t));for(const i in t){const n=t[i];let r;Se(n)?"default"in n?r=Tn(n.from||i,n.default,!0):r=Tn(n.from||i):r=Tn(n),Be(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function Ma(t,e,s){Mt(Y(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,s)}function Vu(t,e,s,i){let n=i.includes(".")?Bu(s,i):()=>s[i];if(Pe(t)){const r=e[t];te(r)&&On(n,r)}else if(te(t))On(n,t.bind(s));else if(Se(t))if(Y(t))t.forEach(r=>Vu(r,e,s,i));else{const r=te(t.handler)?t.handler.bind(s):e[t.handler];te(r)&&On(n,r,t)}}function qu(t){const e=t.type,{mixins:s,extends:i}=e,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!n.length&&!s&&!i?l=e:(l={},n.length&&n.forEach(c=>jn(l,c,o,!0)),jn(l,e,o)),Se(e)&&r.set(e,l),l}function jn(t,e,s,i=!1){const{mixins:n,extends:r}=e;r&&jn(t,r,s,!0),n&&n.forEach(o=>jn(t,o,s,!0));for(const o in e)if(!(i&&o==="expose")){const a=If[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const If={data:Da,props:La,emits:La,methods:_i,computed:_i,beforeCreate:Ue,created:Ue,beforeMount:Ue,mounted:Ue,beforeUpdate:Ue,updated:Ue,beforeDestroy:Ue,beforeUnmount:Ue,destroyed:Ue,unmounted:Ue,activated:Ue,deactivated:Ue,errorCaptured:Ue,serverPrefetch:Ue,components:_i,directives:_i,watch:Df,provide:Da,inject:Mf};function Da(t,e){return e?t?function(){return Ne(te(t)?t.call(this,this):t,te(e)?e.call(this,this):e)}:e:t}function Mf(t,e){return _i(wo(t),wo(e))}function wo(t){if(Y(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Ue(t,e){return t?[...new Set([].concat(t,e))]:e}function _i(t,e){return t?Ne(Object.create(null),t,e):e}function La(t,e){return t?Y(t)&&Y(e)?[...new Set([...t,...e])]:Ne(Object.create(null),Ia(t),Ia(e??{})):e}function Df(t,e){if(!t)return e;if(!e)return t;const s=Ne(Object.create(null),t);for(const i in e)s[i]=Ue(t[i],e[i]);return s}function Ku(){return{app:null,config:{isNativeTag:ru,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Lf=0;function jf(t,e){return function(i,n=null){te(i)||(i=Ne({},i)),n!=null&&!Se(n)&&(n=null);const r=Ku(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:Lf++,_component:i,_props:n,_container:null,_context:r,_instance:null,version:hh,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&te(u.install)?(o.add(u),u.install(c,...h)):te(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,d){if(!l){const f=c._ceVNode||Xe(i,n);return f.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),t(f,u,d),l=!0,c._container=u,u.__vue_app__=c,lr(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Mt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=Xs;Xs=c;try{return u()}finally{Xs=h}}};return c}}let Xs=null;const $f=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${as(e)}Modifiers`]||t[`${Ps(e)}Modifiers`];function Nf(t,e,...s){if(t.isUnmounted)return;const i=t.vnode.props||be;let n=s;const r=e.startsWith("update:"),o=r&&$f(i,e.slice(7));o&&(o.trim&&(n=s.map(u=>Pe(u)?u.trim():u)),o.number&&(n=s.map(Vo)));let a,l=i[a=br(e)]||i[a=br(as(e))];!l&&r&&(l=i[a=br(Ps(e))]),l&&Mt(l,t,6,n);const c=i[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Mt(c,t,6,n)}}const Ff=new WeakMap;function Gu(t,e,s=!1){const i=s?Ff:e.emitsCache,n=i.get(t);if(n!==void 0)return n;const r=t.emits;let o={},a=!1;if(!te(t)){const l=c=>{const u=Gu(c,e,!0);u&&(a=!0,Ne(o,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Se(t)&&i.set(t,null),null):(Y(r)?r.forEach(l=>o[l]=null):Ne(o,r),Se(t)&&i.set(t,o),o)}function or(t,e){return!t||!Qn(e)?!1:(e=e.slice(2).replace(/Once$/,""),fe(t,e[0].toLowerCase()+e.slice(1))||fe(t,Ps(e))||fe(t,e))}function ja(t){const{type:e,vnode:s,proxy:i,withProxy:n,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:f,ctx:m,inheritAttrs:g}=t,p=Dn(t);let b,w;try{if(s.shapeFlag&4){const x=n||i,T=x;b=At(c.call(T,x,u,h,f,d,m)),w=a}else{const x=e;b=At(x.length>1?x(h,{attrs:a,slots:o,emit:l}):x(h,null)),w=e.props?a:Bf(a)}}catch(x){Ri.length=0,ir(x,t,1),b=Xe(ls)}let v=b;if(w&&g!==!1){const x=Object.keys(w),{shapeFlag:T}=v;x.length&&T&7&&(r&&x.some(Ho)&&(w=Uf(w,r)),v=si(v,w,!1,!0))}return s.dirs&&(v=si(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(s.dirs):s.dirs),s.transition&&ta(v,s.transition),b=v,Dn(p),b}const Bf=t=>{let e;for(const s in t)(s==="class"||s==="style"||Qn(s))&&((e||(e={}))[s]=t[s]);return e},Uf=(t,e)=>{const s={};for(const i in t)(!Ho(i)||!(i.slice(9)in e))&&(s[i]=t[i]);return s};function Hf(t,e,s){const{props:i,children:n,component:r}=t,{props:o,children:a,patchFlag:l}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return i?$a(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==i[d]&&!or(c,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?$a(i,o,c):!0:!!o;return!1}function $a(t,e,s){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(e[r]!==t[r]&&!or(s,r))return!0}return!1}function Wf({vnode:t,parent:e},s){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=s,e=e.parent;else break}}const Ju={},Yu=()=>Object.create(Ju),Xu=t=>Object.getPrototypeOf(t)===Ju;function zf(t,e,s,i=!1){const n={},r=Yu();t.propsDefaults=Object.create(null),Qu(t,e,n,r);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=i?n:Yd(n):t.type.props?t.props=n:t.props=r,t.attrs=r}function Vf(t,e,s,i){const{props:n,attrs:r,vnode:{patchFlag:o}}=t,a=ae(n),[l]=t.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(or(t.emitsOptions,d))continue;const f=e[d];if(l)if(fe(r,d))f!==r[d]&&(r[d]=f,c=!0);else{const m=as(d);n[m]=xo(l,a,m,f,t,!1)}else f!==r[d]&&(r[d]=f,c=!0)}}}else{Qu(t,e,n,r)&&(c=!0);let u;for(const h in a)(!e||!fe(e,h)&&((u=Ps(h))===h||!fe(e,u)))&&(l?s&&(s[h]!==void 0||s[u]!==void 0)&&(n[h]=xo(l,a,h,void 0,t,!0)):delete n[h]);if(r!==a)for(const h in r)(!e||!fe(e,h))&&(delete r[h],c=!0)}c&&Ut(t.attrs,"set","")}function Qu(t,e,s,i){const[n,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Si(l))continue;const c=e[l];let u;n&&fe(n,u=as(l))?!r||!r.includes(u)?s[u]=c:(a||(a={}))[u]=c:or(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=ae(s),c=a||be;for(let u=0;u<r.length;u++){const h=r[u];s[h]=xo(n,l,h,c[h],t,!fe(c,h))}}return o}function xo(t,e,s,i,n,r){const o=t[s];if(o!=null){const a=fe(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&te(l)){const{propsDefaults:c}=n;if(s in c)i=c[s];else{const u=Qi(n);i=c[s]=l.call(null,e),u()}}else i=l;n.ce&&n.ce._setProp(s,i)}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Ps(s))&&(i=!0))}return i}const qf=new WeakMap;function Zu(t,e,s=!1){const i=s?qf:e.propsCache,n=i.get(t);if(n)return n;const r=t.props,o={},a=[];let l=!1;if(!te(t)){const u=h=>{l=!0;const[d,f]=Zu(h,e,!0);Ne(o,d),f&&a.push(...f)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!l)return Se(t)&&i.set(t,Gs),Gs;if(Y(r))for(let u=0;u<r.length;u++){const h=as(r[u]);Na(h)&&(o[h]=be)}else if(r)for(const u in r){const h=as(u);if(Na(h)){const d=r[u],f=o[h]=Y(d)||te(d)?{type:d}:Ne({},d),m=f.type;let g=!1,p=!0;if(Y(m))for(let b=0;b<m.length;++b){const w=m[b],v=te(w)&&w.name;if(v==="Boolean"){g=!0;break}else v==="String"&&(p=!1)}else g=te(m)&&m.name==="Boolean";f[0]=g,f[1]=p,(g||fe(f,"default"))&&a.push(h)}}const c=[o,a];return Se(t)&&i.set(t,c),c}function Na(t){return t[0]!=="$"&&!Si(t)}const ia=t=>t==="_"||t==="_ctx"||t==="$stable",na=t=>Y(t)?t.map(At):[At(t)],Kf=(t,e,s)=>{if(e._n)return e;const i=lf((...n)=>na(e(...n)),s);return i._c=!1,i},eh=(t,e,s)=>{const i=t._ctx;for(const n in t){if(ia(n))continue;const r=t[n];if(te(r))e[n]=Kf(n,r,i);else if(r!=null){const o=na(r);e[n]=()=>o}}},th=(t,e)=>{const s=na(e);t.slots.default=()=>s},sh=(t,e,s)=>{for(const i in e)(s||!ia(i))&&(t[i]=e[i])},Gf=(t,e,s)=>{const i=t.slots=Yu();if(t.vnode.shapeFlag&32){const n=e._;n?(sh(i,e,s),s&&hu(i,"_",n,!0)):eh(e,i)}else e&&th(t,e)},Jf=(t,e,s)=>{const{vnode:i,slots:n}=t;let r=!0,o=be;if(i.shapeFlag&32){const a=e._;a?s&&a===1?r=!1:sh(n,e,s):(r=!e.$stable,eh(e,n)),o=e}else e&&(th(t,e),o={default:1});if(r)for(const a in n)!ia(a)&&o[a]==null&&delete n[a]},st=eg;function Yf(t){return Xf(t)}function Xf(t,e){const s=tr();s.__VUE__=!0;const{insert:i,remove:n,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=It,insertStaticContent:m}=t,g=(_,y,S,C=null,O=null,A=null,$=void 0,L=null,D=!!y.dynamicChildren)=>{if(_===y)return;_&&!ui(_,y)&&(C=Ie(_),B(_,O,A,!0),_=null),y.patchFlag===-2&&(D=!1,y.dynamicChildren=null);const{type:R,ref:V,shapeFlag:N}=y;switch(R){case ar:p(_,y,S,C);break;case ls:b(_,y,S,C);break;case kr:_==null&&w(y,S,C,$);break;case ft:ie(_,y,S,C,O,A,$,L,D);break;default:N&1?T(_,y,S,C,O,A,$,L,D):N&6?ue(_,y,S,C,O,A,$,L,D):(N&64||N&128)&&R.process(_,y,S,C,O,A,$,L,D,X)}V!=null&&O?Oi(V,_&&_.ref,A,y||_,!y):V==null&&_&&_.ref!=null&&Oi(_.ref,null,A,_,!0)},p=(_,y,S,C)=>{if(_==null)i(y.el=a(y.children),S,C);else{const O=y.el=_.el;y.children!==_.children&&c(O,y.children)}},b=(_,y,S,C)=>{_==null?i(y.el=l(y.children||""),S,C):y.el=_.el},w=(_,y,S,C)=>{[_.el,_.anchor]=m(_.children,y,S,C,_.el,_.anchor)},v=({el:_,anchor:y},S,C)=>{let O;for(;_&&_!==y;)O=d(_),i(_,S,C),_=O;i(y,S,C)},x=({el:_,anchor:y})=>{let S;for(;_&&_!==y;)S=d(_),n(_),_=S;n(y)},T=(_,y,S,C,O,A,$,L,D)=>{if(y.type==="svg"?$="svg":y.type==="math"&&($="mathml"),_==null)P(y,S,C,O,A,$,L,D);else{const R=_.el&&_.el._isVueCE?_.el:null;try{R&&R._beginPatch(),H(_,y,O,A,$,L,D)}finally{R&&R._endPatch()}}},P=(_,y,S,C,O,A,$,L)=>{let D,R;const{props:V,shapeFlag:N,transition:z,dirs:J}=_;if(D=_.el=o(_.type,A,V&&V.is,V),N&8?u(D,_.children):N&16&&j(_.children,D,null,C,O,Sr(_,A),$,L),J&&hs(_,null,C,"created"),M(D,_,_.scopeId,$,C),V){for(const ye in V)ye!=="value"&&!Si(ye)&&r(D,ye,null,V[ye],A,C);"value"in V&&r(D,"value",null,V.value,A),(R=V.onVnodeBeforeMount)&&St(R,C,_)}J&&hs(_,null,C,"beforeMount");const oe=Qf(O,z);oe&&z.beforeEnter(D),i(D,y,S),((R=V&&V.onVnodeMounted)||oe||J)&&st(()=>{R&&St(R,C,_),oe&&z.enter(D),J&&hs(_,null,C,"mounted")},O)},M=(_,y,S,C,O)=>{if(S&&f(_,S),C)for(let A=0;A<C.length;A++)f(_,C[A]);if(O){let A=O.subTree;if(y===A||oh(A.type)&&(A.ssContent===y||A.ssFallback===y)){const $=O.vnode;M(_,$,$.scopeId,$.slotScopeIds,O.parent)}}},j=(_,y,S,C,O,A,$,L,D=0)=>{for(let R=D;R<_.length;R++){const V=_[R]=L?Yt(_[R]):At(_[R]);g(null,V,y,S,C,O,A,$,L)}},H=(_,y,S,C,O,A,$)=>{const L=y.el=_.el;let{patchFlag:D,dynamicChildren:R,dirs:V}=y;D|=_.patchFlag&16;const N=_.props||be,z=y.props||be;let J;if(S&&ds(S,!1),(J=z.onVnodeBeforeUpdate)&&St(J,S,y,_),V&&hs(y,_,S,"beforeUpdate"),S&&ds(S,!0),(N.innerHTML&&z.innerHTML==null||N.textContent&&z.textContent==null)&&u(L,""),R?Q(_.dynamicChildren,R,L,S,C,Sr(y,O),A):$||re(_,y,L,null,S,C,Sr(y,O),A,!1),D>0){if(D&16)G(L,N,z,S,O);else if(D&2&&N.class!==z.class&&r(L,"class",null,z.class,O),D&4&&r(L,"style",N.style,z.style,O),D&8){const oe=y.dynamicProps;for(let ye=0;ye<oe.length;ye++){const ge=oe[ye],ze=N[ge],Ve=z[ge];(Ve!==ze||ge==="value")&&r(L,ge,ze,Ve,O,S)}}D&1&&_.children!==y.children&&u(L,y.children)}else!$&&R==null&&G(L,N,z,S,O);((J=z.onVnodeUpdated)||V)&&st(()=>{J&&St(J,S,y,_),V&&hs(y,_,S,"updated")},C)},Q=(_,y,S,C,O,A,$)=>{for(let L=0;L<y.length;L++){const D=_[L],R=y[L],V=D.el&&(D.type===ft||!ui(D,R)||D.shapeFlag&198)?h(D.el):S;g(D,R,V,null,C,O,A,$,!0)}},G=(_,y,S,C,O)=>{if(y!==S){if(y!==be)for(const A in y)!Si(A)&&!(A in S)&&r(_,A,y[A],null,O,C);for(const A in S){if(Si(A))continue;const $=S[A],L=y[A];$!==L&&A!=="value"&&r(_,A,L,$,O,C)}"value"in S&&r(_,"value",y.value,S.value,O)}},ie=(_,y,S,C,O,A,$,L,D)=>{const R=y.el=_?_.el:a(""),V=y.anchor=_?_.anchor:a("");let{patchFlag:N,dynamicChildren:z,slotScopeIds:J}=y;J&&(L=L?L.concat(J):J),_==null?(i(R,S,C),i(V,S,C),j(y.children||[],S,V,O,A,$,L,D)):N>0&&N&64&&z&&_.dynamicChildren&&_.dynamicChildren.length===z.length?(Q(_.dynamicChildren,z,S,O,A,$,L),(y.key!=null||O&&y===O.subTree)&&ih(_,y,!0)):re(_,y,S,V,O,A,$,L,D)},ue=(_,y,S,C,O,A,$,L,D)=>{y.slotScopeIds=L,_==null?y.shapeFlag&512?O.ctx.activate(y,S,C,$,D):me(y,S,C,O,A,$,D):he(_,y,D)},me=(_,y,S,C,O,A,$)=>{const L=_.component=lg(_,C,O);if(Wu(_)&&(L.ctx.renderer=X),ug(L,!1,$),L.asyncDep){if(O&&O.registerDep(L,ne,$),!_.el){const D=L.subTree=Xe(ls);b(null,D,y,S),_.placeholder=D.el}}else ne(L,_,y,S,O,A,$)},he=(_,y,S)=>{const C=y.component=_.component;if(Hf(_,y,S))if(C.asyncDep&&!C.asyncResolved){Z(C,y,S);return}else C.next=y,C.update();else y.el=_.el,C.vnode=y},ne=(_,y,S,C,O,A,$)=>{const L=()=>{if(_.isMounted){let{next:N,bu:z,u:J,parent:oe,vnode:ye}=_;{const wt=nh(_);if(wt){N&&(N.el=ye.el,Z(_,N,$)),wt.asyncDep.then(()=>{_.isUnmounted||L()});return}}let ge=N,ze;ds(_,!1),N?(N.el=ye.el,Z(_,N,$)):N=ye,z&&kn(z),(ze=N.props&&N.props.onVnodeBeforeUpdate)&&St(ze,oe,N,ye),ds(_,!0);const Ve=ja(_),vt=_.subTree;_.subTree=Ve,g(vt,Ve,h(vt.el),Ie(vt),_,O,A),N.el=Ve.el,ge===null&&Wf(_,Ve.el),J&&st(J,O),(ze=N.props&&N.props.onVnodeUpdated)&&st(()=>St(ze,oe,N,ye),O)}else{let N;const{el:z,props:J}=y,{bm:oe,m:ye,parent:ge,root:ze,type:Ve}=_,vt=Ei(y);ds(_,!1),oe&&kn(oe),!vt&&(N=J&&J.onVnodeBeforeMount)&&St(N,ge,y),ds(_,!0);{ze.ce&&ze.ce._def.shadowRoot!==!1&&ze.ce._injectChildStyle(Ve);const wt=_.subTree=ja(_);g(null,wt,S,C,_,O,A),y.el=wt.el}if(ye&&st(ye,O),!vt&&(N=J&&J.onVnodeMounted)){const wt=y;st(()=>St(N,ge,wt),O)}(y.shapeFlag&256||ge&&Ei(ge.vnode)&&ge.vnode.shapeFlag&256)&&_.a&&st(_.a,O),_.isMounted=!0,y=S=C=null}};_.scope.on();const D=_.effect=new pu(L);_.scope.off();const R=_.update=D.run.bind(D),V=_.job=D.runIfDirty.bind(D);V.i=_,V.id=_.uid,D.scheduler=()=>ea(V),ds(_,!0),R()},Z=(_,y,S)=>{y.component=_;const C=_.vnode.props;_.vnode=y,_.next=null,Vf(_,y.props,C,S),Jf(_,y.children,S),Wt(),Ca(_),zt()},re=(_,y,S,C,O,A,$,L,D=!1)=>{const R=_&&_.children,V=_?_.shapeFlag:0,N=y.children,{patchFlag:z,shapeFlag:J}=y;if(z>0){if(z&128){k(R,N,S,C,O,A,$,L,D);return}else if(z&256){E(R,N,S,C,O,A,$,L,D);return}}J&8?(V&16&&de(R,O,A),N!==R&&u(S,N)):V&16?J&16?k(R,N,S,C,O,A,$,L,D):de(R,O,A,!0):(V&8&&u(S,""),J&16&&j(N,S,C,O,A,$,L,D))},E=(_,y,S,C,O,A,$,L,D)=>{_=_||Gs,y=y||Gs;const R=_.length,V=y.length,N=Math.min(R,V);let z;for(z=0;z<N;z++){const J=y[z]=D?Yt(y[z]):At(y[z]);g(_[z],J,S,null,O,A,$,L,D)}R>V?de(_,O,A,!0,!1,N):j(y,S,C,O,A,$,L,D,N)},k=(_,y,S,C,O,A,$,L,D)=>{let R=0;const V=y.length;let N=_.length-1,z=V-1;for(;R<=N&&R<=z;){const J=_[R],oe=y[R]=D?Yt(y[R]):At(y[R]);if(ui(J,oe))g(J,oe,S,null,O,A,$,L,D);else break;R++}for(;R<=N&&R<=z;){const J=_[N],oe=y[z]=D?Yt(y[z]):At(y[z]);if(ui(J,oe))g(J,oe,S,null,O,A,$,L,D);else break;N--,z--}if(R>N){if(R<=z){const J=z+1,oe=J<V?y[J].el:C;for(;R<=z;)g(null,y[R]=D?Yt(y[R]):At(y[R]),S,oe,O,A,$,L,D),R++}}else if(R>z)for(;R<=N;)B(_[R],O,A,!0),R++;else{const J=R,oe=R,ye=new Map;for(R=oe;R<=z;R++){const et=y[R]=D?Yt(y[R]):At(y[R]);et.key!=null&&ye.set(et.key,R)}let ge,ze=0;const Ve=z-oe+1;let vt=!1,wt=0;const li=new Array(Ve);for(R=0;R<Ve;R++)li[R]=0;for(R=J;R<=N;R++){const et=_[R];if(ze>=Ve){B(et,O,A,!0);continue}let xt;if(et.key!=null)xt=ye.get(et.key);else for(ge=oe;ge<=z;ge++)if(li[ge-oe]===0&&ui(et,y[ge])){xt=ge;break}xt===void 0?B(et,O,A,!0):(li[xt-oe]=R+1,xt>=wt?wt=xt:vt=!0,g(et,y[xt],S,null,O,A,$,L,D),ze++)}const ka=vt?Zf(li):Gs;for(ge=ka.length-1,R=Ve-1;R>=0;R--){const et=oe+R,xt=y[et],Ta=y[et+1],Oa=et+1<V?Ta.el||rh(Ta):C;li[R]===0?g(null,xt,S,Oa,O,A,$,L,D):vt&&(ge<0||R!==ka[ge]?I(xt,S,Oa,2):ge--)}}},I=(_,y,S,C,O=null)=>{const{el:A,type:$,transition:L,children:D,shapeFlag:R}=_;if(R&6){I(_.component.subTree,y,S,C);return}if(R&128){_.suspense.move(y,S,C);return}if(R&64){$.move(_,y,S,X);return}if($===ft){i(A,y,S);for(let N=0;N<D.length;N++)I(D[N],y,S,C);i(_.anchor,y,S);return}if($===kr){v(_,y,S);return}if(C!==2&&R&1&&L)if(C===0)L.beforeEnter(A),i(A,y,S),st(()=>L.enter(A),O);else{const{leave:N,delayLeave:z,afterLeave:J}=L,oe=()=>{_.ctx.isUnmounted?n(A):i(A,y,S)},ye=()=>{A._isLeaving&&A[pf](!0),N(A,()=>{oe(),J&&J()})};z?z(A,oe,ye):ye()}else i(A,y,S)},B=(_,y,S,C=!1,O=!1)=>{const{type:A,props:$,ref:L,children:D,dynamicChildren:R,shapeFlag:V,patchFlag:N,dirs:z,cacheIndex:J}=_;if(N===-2&&(O=!1),L!=null&&(Wt(),Oi(L,null,S,_,!0),zt()),J!=null&&(y.renderCache[J]=void 0),V&256){y.ctx.deactivate(_);return}const oe=V&1&&z,ye=!Ei(_);let ge;if(ye&&(ge=$&&$.onVnodeBeforeUnmount)&&St(ge,y,_),V&6)ke(_.component,S,C);else{if(V&128){_.suspense.unmount(S,C);return}oe&&hs(_,null,y,"beforeUnmount"),V&64?_.type.remove(_,y,S,X,C):R&&!R.hasOnce&&(A!==ft||N>0&&N&64)?de(R,y,S,!1,!0):(A===ft&&N&384||!O&&V&16)&&de(D,y,S),C&&U(_)}(ye&&(ge=$&&$.onVnodeUnmounted)||oe)&&st(()=>{ge&&St(ge,y,_),oe&&hs(_,null,y,"unmounted")},S)},U=_=>{const{type:y,el:S,anchor:C,transition:O}=_;if(y===ft){se(S,C);return}if(y===kr){x(_);return}const A=()=>{n(S),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(_.shapeFlag&1&&O&&!O.persisted){const{leave:$,delayLeave:L}=O,D=()=>$(S,A);L?L(_.el,A,D):D()}else A()},se=(_,y)=>{let S;for(;_!==y;)S=d(_),n(_),_=S;n(y)},ke=(_,y,S)=>{const{bum:C,scope:O,job:A,subTree:$,um:L,m:D,a:R}=_;Fa(D),Fa(R),C&&kn(C),O.stop(),A&&(A.flags|=8,B($,_,y,S)),L&&st(L,y),st(()=>{_.isUnmounted=!0},y)},de=(_,y,S,C=!1,O=!1,A=0)=>{for(let $=A;$<_.length;$++)B(_[$],y,S,C,O)},Ie=_=>{if(_.shapeFlag&6)return Ie(_.component.subTree);if(_.shapeFlag&128)return _.suspense.next();const y=d(_.anchor||_.el),S=y&&y[ff];return S?d(S):y};let Re=!1;const ee=(_,y,S)=>{let C;_==null?y._vnode&&(B(y._vnode,null,null,!0),C=y._vnode.component):g(y._vnode||null,_,y,null,null,null,S),y._vnode=_,Re||(Re=!0,Ca(C),ju(),Re=!1)},X={p:g,um:B,m:I,r:U,mt:me,mc:j,pc:re,pbc:Q,n:Ie,o:t};return{render:ee,hydrate:void 0,createApp:jf(ee)}}function Sr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function ds({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Qf(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function ih(t,e,s=!1){const i=t.children,n=e.children;if(Y(i)&&Y(n))for(let r=0;r<i.length;r++){const o=i[r];let a=n[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[r]=Yt(n[r]),a.el=o.el),!s&&a.patchFlag!==-2&&ih(o,a)),a.type===ar&&(a.patchFlag!==-1?a.el=o.el:a.__elIndex=r+(t.type===ft?1:0)),a.type===ls&&!a.el&&(a.el=o.el)}}function Zf(t){const e=t.slice(),s=[0];let i,n,r,o,a;const l=t.length;for(i=0;i<l;i++){const c=t[i];if(c!==0){if(n=s[s.length-1],t[n]<c){e[i]=n,s.push(i);continue}for(r=0,o=s.length-1;r<o;)a=r+o>>1,t[s[a]]<c?r=a+1:o=a;c<t[s[r]]&&(r>0&&(e[i]=s[r-1]),s[r]=i)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=e[o];return s}function nh(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:nh(e)}function Fa(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}function rh(t){if(t.placeholder)return t.placeholder;const e=t.component;return e?rh(e.subTree):null}const oh=t=>t.__isSuspense;function eg(t,e){e&&e.pendingBranch?Y(t)?e.effects.push(...t):e.effects.push(t):af(t)}const ft=Symbol.for("v-fgt"),ar=Symbol.for("v-txt"),ls=Symbol.for("v-cmt"),kr=Symbol.for("v-stc"),Ri=[];let rt=null;function De(t=!1){Ri.push(rt=t?null:[])}function tg(){Ri.pop(),rt=Ri[Ri.length-1]||null}let Ni=1;function $n(t,e=!1){Ni+=t,t<0&&rt&&e&&(rt.hasOnce=!0)}function ah(t){return t.dynamicChildren=Ni>0?rt||Gs:null,tg(),Ni>0&&rt&&rt.push(t),t}function Ge(t,e,s,i,n,r){return ah(F(t,e,s,i,n,r,!0))}function Nn(t,e,s,i,n){return ah(Xe(t,e,s,i,n,!0))}function Fn(t){return t?t.__v_isVNode===!0:!1}function ui(t,e){return t.type===e.type&&t.key===e.key}const lh=({key:t})=>t??null,En=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?Pe(t)||Be(t)||te(t)?{i:at,r:t,k:e,f:!!s}:t:null);function F(t,e=null,s=null,i=0,n=null,r=t===ft?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&lh(e),ref:e&&En(e),scopeId:Nu,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:at};return a?(ra(l,s),r&128&&t.normalize(l)):s&&(l.shapeFlag|=Pe(s)?8:16),Ni>0&&!o&&rt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&rt.push(l),l}const Xe=sg;function sg(t,e=null,s=null,i=0,n=null,r=!1){if((!t||t===Ef)&&(t=ls),Fn(t)){const a=si(t,e,!0);return s&&ra(a,s),Ni>0&&!r&&rt&&(a.shapeFlag&6?rt[rt.indexOf(t)]=a:rt.push(a)),a.patchFlag=-2,a}if(gg(t)&&(t=t.__vccOpts),e){e=ig(e);let{class:a,style:l}=e;a&&!Pe(a)&&(e.class=Pt(a)),Se(l)&&(Yi(l)&&!Y(l)&&(l=Ne({},l)),e.style=qo(l))}const o=Pe(t)?1:oh(t)?128:gf(t)?64:Se(t)?4:te(t)?2:0;return F(t,e,s,i,n,o,r,!0)}function ig(t){return t?Yi(t)||Xu(t)?Ne({},t):t:null}function si(t,e,s=!1,i=!1){const{props:n,ref:r,patchFlag:o,children:a,transition:l}=t,c=e?rg(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&lh(c),ref:e&&e.ref?s&&r?Y(r)?r.concat(En(e)):[r,En(e)]:En(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ft?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&si(t.ssContent),ssFallback:t.ssFallback&&si(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&ta(u,l.clone(u)),u}function ng(t=" ",e=0){return Xe(ar,null,t,e)}function ks(t="",e=!1){return e?(De(),Nn(ls,null,t)):Xe(ls,null,t)}function At(t){return t==null||typeof t=="boolean"?Xe(ls):Y(t)?Xe(ft,null,t.slice()):Fn(t)?Yt(t):Xe(ar,null,String(t))}function Yt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:si(t)}function ra(t,e){let s=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Y(e))s=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),ra(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Xu(e)?e._ctx=at:n===3&&at&&(at.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else te(e)?(e={default:e,_ctx:at},s=32):(e=String(e),i&64?(s=16,e=[ng(e)]):s=8);t.children=e,t.shapeFlag|=s}function rg(...t){const e={};for(let s=0;s<t.length;s++){const i=t[s];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=Pt([e.class,i.class]));else if(n==="style")e.style=qo([e.style,i.style]);else if(Qn(n)){const r=e[n],o=i[n];o&&r!==o&&!(Y(r)&&r.includes(o))&&(e[n]=r?[].concat(r,o):o)}else n!==""&&(e[n]=i[n])}return e}function St(t,e,s,i=null){Mt(t,e,7,[s,i])}const og=Ku();let ag=0;function lg(t,e,s){const i=t.type,n=(e?e.appContext:t.appContext)||og,r={uid:ag++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Cd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zu(i,n),emitsOptions:Gu(i,n),emit:null,emitted:null,propsDefaults:be,inheritAttrs:i.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Nf.bind(null,r),t.ce&&t.ce(r),r}let We=null;const cg=()=>We||at;let Bn,So;{const t=tr(),e=(s,i)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(i),r=>{n.length>1?n.forEach(o=>o(r)):n[0](r)}};Bn=e("__VUE_INSTANCE_SETTERS__",s=>We=s),So=e("__VUE_SSR_SETTERS__",s=>Fi=s)}const Qi=t=>{const e=We;return Bn(t),t.scope.on(),()=>{t.scope.off(),Bn(e)}},Ba=()=>{We&&We.scope.off(),Bn(null)};function ch(t){return t.vnode.shapeFlag&4}let Fi=!1;function ug(t,e=!1,s=!1){e&&So(e);const{props:i,children:n}=t.vnode,r=ch(t);zf(t,i,r,e),Gf(t,n,s||e);const o=r?hg(t,e):void 0;return e&&So(!1),o}function hg(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Rf);const{setup:i}=s;if(i){Wt();const n=t.setupContext=i.length>1?fg(t):null,r=Qi(t),o=Xi(i,t,0,[t.props,n]),a=au(o);if(zt(),r(),(a||t.sp)&&!Ei(t)&&Hu(t),a){if(o.then(Ba,Ba),e)return o.then(l=>{Ua(t,l)}).catch(l=>{ir(l,t,0)});t.asyncDep=o}else Ua(t,o)}else uh(t)}function Ua(t,e,s){te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Se(e)&&(t.setupState=Iu(e)),uh(t)}function uh(t,e,s){const i=t.type;t.render||(t.render=i.render||It);{const n=Qi(t);Wt();try{Cf(t)}finally{zt(),n()}}}const dg={get(t,e){return Fe(t,"get",""),t[e]}};function fg(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,dg),slots:t.slots,emit:t.emit,expose:e}}function lr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Iu(Xd(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Ai)return Ai[s](t)},has(e,s){return s in e||s in Ai}})):t.proxy}function gg(t){return te(t)&&"__vccOpts"in t}const gt=(t,e)=>tf(t,e,Fi);function ko(t,e,s){try{$n(-1);const i=arguments.length;return i===2?Se(e)&&!Y(e)?Fn(e)?Xe(t,null,[e]):Xe(t,e):Xe(t,null,e):(i>3?s=Array.prototype.slice.call(arguments,2):i===3&&Fn(s)&&(s=[s]),Xe(t,e,s))}finally{$n(1)}}const hh="3.5.27";let To;const Ha=typeof window<"u"&&window.trustedTypes;if(Ha)try{To=Ha.createPolicy("vue",{createHTML:t=>t})}catch{}const dh=To?t=>To.createHTML(t):t=>t,pg="http://www.w3.org/2000/svg",mg="http://www.w3.org/1998/Math/MathML",Nt=typeof document<"u"?document:null,Wa=Nt&&Nt.createElement("template"),bg={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,i)=>{const n=e==="svg"?Nt.createElementNS(pg,t):e==="mathml"?Nt.createElementNS(mg,t):s?Nt.createElement(t,{is:s}):Nt.createElement(t);return t==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:t=>Nt.createTextNode(t),createComment:t=>Nt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Nt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,i,n,r){const o=s?s.previousSibling:e.lastChild;if(n&&(n===r||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===r||!(n=n.nextSibling)););else{Wa.innerHTML=dh(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=Wa.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},_g=Symbol("_vtc");function yg(t,e,s){const i=t[_g];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const za=Symbol("_vod"),vg=Symbol("_vsh"),wg=Symbol(""),xg=/(?:^|;)\s*display\s*:/;function Sg(t,e,s){const i=t.style,n=Pe(s);let r=!1;if(s&&!n){if(e)if(Pe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&An(i,a,"")}else for(const o in e)s[o]==null&&An(i,o,"");for(const o in s)o==="display"&&(r=!0),An(i,o,s[o])}else if(n){if(e!==s){const o=i[wg];o&&(s+=";"+o),i.cssText=s,r=xg.test(s)}}else e&&t.removeAttribute("style");za in t&&(t[za]=r?i.display:"",t[vg]&&(i.display="none"))}const Va=/\s*!important$/;function An(t,e,s){if(Y(s))s.forEach(i=>An(t,e,i));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const i=kg(t,e);Va.test(s)?t.setProperty(Ps(i),s.replace(Va,""),"important"):t[i]=s}}const qa=["Webkit","Moz","ms"],Tr={};function kg(t,e){const s=Tr[e];if(s)return s;let i=as(e);if(i!=="filter"&&i in t)return Tr[e]=i;i=uu(i);for(let n=0;n<qa.length;n++){const r=qa[n]+i;if(r in t)return Tr[e]=r}return e}const Ka="http://www.w3.org/1999/xlink";function Ga(t,e,s,i,n,r=Rd(e)){i&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Ka,e.slice(6,e.length)):t.setAttributeNS(Ka,e,s):s==null||r&&!du(s)?t.removeAttribute(e):t.setAttribute(e,r?"":us(s)?String(s):s)}function Ja(t,e,s,i,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?dh(s):s);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=du(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function Hs(t,e,s,i){t.addEventListener(e,s,i)}function Tg(t,e,s,i){t.removeEventListener(e,s,i)}const Ya=Symbol("_vei");function Og(t,e,s,i,n=null){const r=t[Ya]||(t[Ya]={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=Eg(e);if(i){const c=r[e]=Cg(i,n);Hs(t,a,c,l)}else o&&(Tg(t,a,o,l),r[e]=void 0)}}const Xa=/(?:Once|Passive|Capture)$/;function Eg(t){let e;if(Xa.test(t)){e={};let i;for(;i=t.match(Xa);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ps(t.slice(2)),e]}let Or=0;const Ag=Promise.resolve(),Rg=()=>Or||(Ag.then(()=>Or=0),Or=Date.now());function Cg(t,e){const s=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=s.attached)return;Mt(Pg(i,s.value),e,5,[i])};return s.value=t,s.attached=Rg(),s}function Pg(t,e){if(Y(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const Qa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Ig=(t,e,s,i,n,r)=>{const o=n==="svg";e==="class"?yg(t,i,o):e==="style"?Sg(t,s,i):Qn(e)?Ho(e)||Og(t,e,s,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Mg(t,e,i,o))?(Ja(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ga(t,e,i,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Pe(i))?Ja(t,as(e),i,r,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Ga(t,e,i,o))};function Mg(t,e,s,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&Qa(e)&&te(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&t.tagName==="IFRAME"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Qa(e)&&Pe(s)?!1:e in t}const Za=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Y(e)?s=>kn(e,s):e};function Dg(t){t.target.composing=!0}function el(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Er=Symbol("_assign");function tl(t,e,s){return e&&(t=t.trim()),s&&(t=Vo(t)),t}const Ct={created(t,{modifiers:{lazy:e,trim:s,number:i}},n){t[Er]=Za(n);const r=i||n.props&&n.props.type==="number";Hs(t,e?"change":"input",o=>{o.target.composing||t[Er](tl(t.value,s,r))}),(s||r)&&Hs(t,"change",()=>{t.value=tl(t.value,s,r)}),e||(Hs(t,"compositionstart",Dg),Hs(t,"compositionend",el),Hs(t,"change",el))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:i,trim:n,number:r}},o){if(t[Er]=Za(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?Vo(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(i&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Lg=Ne({patchProp:Ig},bg);let sl;function jg(){return sl||(sl=Yf(Lg))}const $g=((...t)=>{const e=jg().createApp(...t),{mount:s}=e;return e.mount=i=>{const n=Fg(i);if(!n)return;const r=e._component;!te(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Ng(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e});function Ng(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Fg(t){return Pe(t)?document.querySelector(t):t}const oa=(t,e)=>{const s=t.__vccOpts||t;for(const[i,n]of e)s[i]=n;return s},Bg={class:"card"},Ug={key:0,class:"error-text"},Hg=["disabled"],Wg={__name:"GoalSetting",props:{goal:Object},emits:["save"],setup(t,{emit:e}){const s=t,i=e,n=gt(()=>Math.round(s.goal.calorie*s.goal.ratioProtein/100/4)),r=gt(()=>Math.round(s.goal.calorie*s.goal.ratioFat/100/9)),o=gt(()=>Math.round(s.goal.calorie*s.goal.ratioCarb/100/4)),a=gt(()=>Number(s.goal.ratioProtein)+Number(s.goal.ratioFat)+Number(s.goal.ratioCarb)),l=gt(()=>a.value>100),c=()=>{l.value||i("save")};return(u,h)=>(De(),Ge("div",Bg,[h[4]||(h[4]=F("label",null,"Calories",-1)),Rt(F("input",{type:"number","onUpdate:modelValue":h[0]||(h[0]=d=>t.goal.calorie=d)},null,512),[[Ct,t.goal.calorie]]),h[5]||(h[5]=F("label",null,"P (%)",-1)),Rt(F("input",{type:"number","onUpdate:modelValue":h[1]||(h[1]=d=>t.goal.ratioProtein=d),class:Pt({error:l.value})},null,2),[[Ct,t.goal.ratioProtein]]),h[6]||(h[6]=F("label",null,"F (%)",-1)),Rt(F("input",{type:"number","onUpdate:modelValue":h[2]||(h[2]=d=>t.goal.ratioFat=d),class:Pt({error:l.value})},null,2),[[Ct,t.goal.ratioFat]]),h[7]||(h[7]=F("label",null,"C (%)",-1)),Rt(F("input",{type:"number","onUpdate:modelValue":h[3]||(h[3]=d=>t.goal.ratioCarb=d),class:Pt({error:l.value})},null,2),[[Ct,t.goal.ratioCarb]]),F("p",null,": "+Oe(a.value)+" %",1),l.value?(De(),Ge("p",Ug,"  100% ")):ks("",!0),h[8]||(h[8]=F("p",null,"---  ---",-1)),F("p",null,"Protein: "+Oe(n.value)+" g",1),F("p",null,"Fat: "+Oe(r.value)+" g",1),F("p",null,"Carb: "+Oe(o.value)+" g",1),F("button",{onClick:c,disabled:l.value},"  ",8,Hg)]))}},zg=oa(Wg,[["__scopeId","data-v-b23492a2"]]);function cr(t,e){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(s[i[n]]=t[i[n]]);return s}function Vg(t,e,s,i){function n(r){return r instanceof s?r:new s(function(o){o(r)})}return new(s||(s=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):n(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})}const qg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class aa extends Error{constructor(e,s="FunctionsError",i){super(e),this.name=s,this.context=i}}class Kg extends aa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class il extends aa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class nl extends aa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Oo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Oo||(Oo={}));class Gg{constructor(e,{headers:s={},customFetch:i,region:n=Oo.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=qg(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Vg(this,arguments,void 0,function*(s,i={}){var n;let r,o;try{const{headers:a,method:l,body:c,signal:u,timeout:h}=i;let d={},{region:f}=i;f||(f=this.region);const m=new URL(`${this.url}/${s}`);f&&f!=="any"&&(d["x-region"]=f,m.searchParams.set("forceFunctionRegion",f));let g;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(d["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(d["Content-Type"]="application/json",g=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?g=JSON.stringify(c):g=c;let p=u;h&&(o=new AbortController,r=setTimeout(()=>o.abort(),h),u?(p=o.signal,u.addEventListener("abort",()=>o.abort())):p=o.signal);const b=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:g,signal:p}).catch(T=>{throw new Kg(T)}),w=b.headers.get("x-relay-error");if(w&&w==="true")throw new il(b);if(!b.ok)throw new nl(b);let v=((n=b.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return v==="application/json"?x=yield b.json():v==="application/octet-stream"||v==="application/pdf"?x=yield b.blob():v==="text/event-stream"?x=b:v==="multipart/form-data"?x=yield b.formData():x=yield b.text(),{data:x,error:null,response:b}}catch(a){return{data:null,error:a,response:a instanceof nl||a instanceof il?a.context:void 0}}finally{r&&clearTimeout(r)}})}}var Jg=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Yg=class{constructor(t){var e,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let n=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{let o=null,a=null,l=null,c=r.status,u=r.statusText;if(r.ok){var h,d;if(s.method!=="HEAD"){var f;const b=await r.text();b===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((f=s.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=b:a=JSON.parse(b))}const g=(h=s.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),p=(d=r.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");g&&p&&p.length>1&&(l=parseInt(p[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,u="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var m;const g=await r.text();try{o=JSON.parse(g),Array.isArray(o)&&r.status===404&&(a=[],o=null,c=200,u="OK")}catch{r.status===404&&g===""?(c=204,u="No Content"):o={message:g}}if(o&&s.isMaybeSingle&&(!(o==null||(m=o.details)===null||m===void 0)&&m.includes("0 rows"))&&(o=null,c=200,u="OK"),o&&s.shouldThrowOnError)throw new Jg(o)}return{error:o,data:a,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(n=n.catch(r=>{var o;let a="";const l=r?.cause;if(l){var c,u,h,d;const m=(c=l?.message)!==null&&c!==void 0?c:"",g=(u=l?.code)!==null&&u!==void 0?u:"";a=`${(h=r?.name)!==null&&h!==void 0?h:"FetchError"}: ${r?.message}`,a+=`

Caused by: ${(d=l?.name)!==null&&d!==void 0?d:"Error"}: ${m}`,g&&(a+=` (${g})`),l?.stack&&(a+=`
${l.stack}`)}else{var f;a=(f=r?.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(o=r?.name)!==null&&o!==void 0?o:"FetchError"}: ${r?.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),n.then(t,e)}returns(){return this}overrideTypes(){return this}},Xg=class extends Yg{select(t){let e=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:s,foreignTable:i,referencedTable:n=i}={}){const r=n?`${n}.order`:"order",o=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:s=e}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:s,referencedTable:i=s}={}){const n=typeof i>"u"?"offset":`${i}.offset`,r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${t}`),this.url.searchParams.set(r,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:s=!1,buffers:i=!1,wal:n=!1,format:r="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,s?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${r}; for="${l}"; options=${a};`),r==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const rl=new RegExp("[,()]");var Ws=class extends Xg{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const s=Array.from(new Set(e)).map(i=>typeof i=="string"&&rl.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}notIn(t,e){const s=Array.from(new Set(e)).map(i=>typeof i=="string"&&rl.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${s})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:s,type:i}={}){let n="";i==="plain"?n="pl":i==="phrase"?n="ph":i==="websearch"&&(n="w");const r=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${n}fts${r}.${e}`),this}match(t){return Object.entries(t).forEach(([e,s])=>{this.url.searchParams.append(e,`eq.${s}`)}),this}not(t,e,s){return this.url.searchParams.append(t,`not.${e}.${s}`),this}or(t,{foreignTable:e,referencedTable:s=e}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,s){return this.url.searchParams.append(t,`${e}.${s}`),this}},Qg=class{constructor(t,{headers:e={},schema:s,fetch:i}){this.url=t,this.headers=new Headers(e),this.schema=s,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:s=!1,count:i}=e??{},n=s?"HEAD":"GET";let r=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!r?"":(c==='"'&&(r=!r),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),i&&l.append("Prefer",`count=${i}`),new Ws({method:n,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:s=!0}={}){var i;const n="POST",{url:r,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),s||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);r.searchParams.set("columns",l.join(","))}}return new Ws({method:n,url:r,headers:o,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:s=!1,count:i,defaultToNull:n=!0}={}){var r;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),i&&l.append("Prefer",`count=${i}`),n||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);a.searchParams.set("columns",u.join(","))}}return new Ws({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}update(t,{count:e}={}){var s;const i="PATCH",{url:n,headers:r}=this.cloneRequestState();return e&&r.append("Prefer",`count=${e}`),new Ws({method:i,url:n,headers:r,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var e;const s="DELETE",{url:i,headers:n}=this.cloneRequestState();return t&&n.append("Prefer",`count=${t}`),new Ws({method:s,url:i,headers:n,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},Zg=class fh{constructor(e,{headers:s={},schema:i,fetch:n}={}){this.url=e,this.headers=new Headers(s),this.schemaName=i,this.fetch=n}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Qg(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new fh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:i=!1,get:n=!1,count:r}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;const u=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(u)),h=i&&Object.values(s).some(u);h?(a="POST",c=s):i||n?(a=i?"HEAD":"GET",Object.entries(s).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{l.searchParams.append(f,m)})):(a="POST",c=s);const d=new Headers(this.headers);return h?d.set("Prefer",r?`count=${r},return=minimal`:"return=minimal"):r&&d.set("Prefer",`count=${r}`),new Ws({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class ep{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const i=s.versions;if(i&&i.node){const n=i.node,r=parseInt(n.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const i=this.getWebSocketConstructor();return new i(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const tp="2.93.3",sp=`realtime-js/${tp}`,ip="1.0.0",gh="2.0.0",ol=gh,Eo=1e4,np=1e3,rp=100;var Xt;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xt||(Xt={}));var Me;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Me||(Me={}));var dt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(dt||(dt={}));var Ao;(function(t){t.websocket="websocket"})(Ao||(Ao={}));var xs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(xs||(xs={}));class op{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,s){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,i;const n=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var s,i;const n=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},o=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,s,i){var n,r;const o=e.topic,a=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",c=e.payload.event,u=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let m=new DataView(f),g=0;m.setUint8(g++,this.KINDS.userBroadcastPush),m.setUint8(g++,l.length),m.setUint8(g++,a.length),m.setUint8(g++,o.length),m.setUint8(g++,c.length),m.setUint8(g++,h.length),m.setUint8(g++,s),Array.from(l,b=>m.setUint8(g++,b.charCodeAt(0))),Array.from(a,b=>m.setUint8(g++,b.charCodeAt(0))),Array.from(o,b=>m.setUint8(g++,b.charCodeAt(0))),Array.from(c,b=>m.setUint8(g++,b.charCodeAt(0))),Array.from(h,b=>m.setUint8(g++,b.charCodeAt(0)));var p=new Uint8Array(f.byteLength+i.byteLength);return p.set(new Uint8Array(f),0),p.set(new Uint8Array(i),f.byteLength),p.buffer}decode(e,s){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return s(i)}if(typeof e=="string"){const i=JSON.parse(e),[n,r,o,a,l]=i;return s({join_ref:n,ref:r,topic:o,event:a,payload:l})}return s({})}_binaryDecode(e){const s=new DataView(e),i=s.getUint8(0),n=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,s,n)}_decodeUserBroadcast(e,s,i){const n=s.getUint8(1),r=s.getUint8(2),o=s.getUint8(3),a=s.getUint8(4);let l=this.HEADER_LENGTH+4;const c=i.decode(e.slice(l,l+n));l=l+n;const u=i.decode(e.slice(l,l+r));l=l+r;const h=i.decode(e.slice(l,l+o));l=l+o;const d=e.slice(l,e.byteLength),f=a===this.JSON_ENCODING?JSON.parse(i.decode(d)):d,m={type:this.BROADCAST_EVENT,event:u,payload:f};return o>0&&(m.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(e,s){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>s.includes(i)))}}class ph{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ve;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ve||(ve={}));const al=(t,e,s={})=>{var i;const n=(i=s.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((r,o)=>(r[o]=ap(o,t,e,n),r),{}):{}},ap=(t,e,s,i)=>{const n=e.find(a=>a.name===t),r=n?.type,o=s[t];return r&&!i.includes(r)?mh(r,o):Ro(o)},mh=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return hp(e,s)}switch(t){case ve.bool:return lp(e);case ve.float4:case ve.float8:case ve.int2:case ve.int4:case ve.int8:case ve.numeric:case ve.oid:return cp(e);case ve.json:case ve.jsonb:return up(e);case ve.timestamp:return dp(e);case ve.abstime:case ve.date:case ve.daterange:case ve.int4range:case ve.int8range:case ve.money:case ve.reltime:case ve.text:case ve.time:case ve.timestamptz:case ve.timetz:case ve.tsrange:case ve.tstzrange:return Ro(e);default:return Ro(e)}},Ro=t=>t,lp=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},cp=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},up=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},hp=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,i=t[s];if(t[0]==="{"&&i==="}"){let r;const o=t.slice(1,s);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>mh(e,a))}return t},dp=t=>typeof t=="string"?t.replace(" ","T"):t,bh=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Ar{constructor(e,s,i={},n=Eo){this.channel=e,this.event=s,this.payload=i,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var i;return this._hasReceived(e)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ll;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ll||(ll={}));class Ci{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},n=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ci.syncState(this.state,n,r,o),this.pendingDiffs.forEach(l=>{this.state=Ci.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},n=>{const{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Ci.syncDiff(this.state,n,r,o),a())}),this.onJoin((n,r,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:r,newPresences:o})}),this.onLeave((n,r,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,i,n){const r=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=r[c];if(h){const d=u.map(p=>p.presence_ref),f=h.map(p=>p.presence_ref),m=u.filter(p=>f.indexOf(p.presence_ref)<0),g=h.filter(p=>d.indexOf(p.presence_ref)<0);m.length>0&&(a[c]=m),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},i,n)}static syncDiff(e,s,i,n){const{joins:r,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),n||(n=()=>{}),this.map(r,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),d=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...d)}i(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(i=>s(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,i)=>{const n=e[i];return"metas"in n?s[i]=n.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):s[i]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cl;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(cl||(cl={}));var Pi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Pi||(Pi={}));var Ft;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Ft||(Ft={}));class qs{constructor(e,s={config:{}},i){var n,r;if(this.topic=e,this.params=s,this.socket=i,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new Ar(this,dt.join,this.params,this.timeout),this.rejoinTimer=new ph(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ci(this),this.broadcastEndpointURL=bh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((r=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||r===void 0)&&r.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var i,n,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Me.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(n=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(f=>f.filter))!==null&&n!==void 0?n:[],u=!!this.bindings[Pi.PRESENCE]&&this.bindings[Pi.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,h={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>e?.(Ft.CHANNEL_ERROR,f)),this._onClose(()=>e?.(Ft.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:f})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){e?.(Ft.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,p=(m=g?.length)!==null&&m!==void 0?m:0,b=[];for(let w=0;w<p;w++){const v=g[w],{filter:{event:x,schema:T,table:P,filter:M}}=v,j=f&&f[w];if(j&&j.event===x&&qs.isFilterValueEqual(j.schema,T)&&qs.isFilterValueEqual(j.table,P)&&qs.isFilterValueEqual(j.filter,M))b.push(Object.assign(Object.assign({},v),{id:j.id}));else{this.unsubscribe(),this.state=Me.errored,e?.(Ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(Ft.SUBSCRIBED);return}}).receive("error",f=>{this.state=Me.errored,e?.(Ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{e?.(Ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,i){return this.state===Me.joined&&e===Pi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,s,i)}async httpSend(e,s,i={}){var n;if(s==null)return Promise.reject("Payload is required for httpSend()");const r={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(r.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:r,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=i.timeout)!==null&&n!==void 0?n:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,s={}){var i,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:r,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&r("ok"),c.receive("ok",()=>r("ok")),c.receive("error",()=>r("error")),c.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Me.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(n=>{i=new Ar(this,dt.leave,{},e),i.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Me.closed,this.bindings={}}async _fetchWithTimeout(e,s,i){const n=new AbortController,r=setTimeout(()=>n.abort(),i),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(r),o}_push(e,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Ar(this,e,s,i);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>rp){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,i){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,i){var n,r;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=dt;if(i&&[a,l,c,u].indexOf(o)>=0&&i!==this._joinRef())return;let d=this._onMessage(o,s,i);if(s&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(f=>{var m,g,p;return((m=f.filter)===null||m===void 0?void 0:m.event)==="*"||((p=(g=f.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(f=>f.callback(d,i)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var m,g,p,b,w,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const x=f.id,T=(m=f.filter)===null||m===void 0?void 0:m.event;return x&&((g=s.ids)===null||g===void 0?void 0:g.includes(x))&&(T==="*"||T?.toLocaleLowerCase()===((p=s.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const x=(w=(b=f?.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return x==="*"||x===((v=s?.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:g,table:p,commit_timestamp:b,type:w,errors:v}=m;d=Object.assign(Object.assign({},{schema:g,table:p,commit_timestamp:b,eventType:w,new:{},old:{},errors:v}),this._getPayloadRecords(m))}f.callback(d,i)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,i){const n=e.toLocaleLowerCase(),r={type:n,filter:s,callback:i};return this.bindings[n]?this.bindings[n].push(r):this.bindings[n]=[r],this}_off(e,s){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(n=>{var r;return!(((r=n.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===i&&qs.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const i in e)if(e[i]!==s[i])return!1;return!0}static isFilterValueEqual(e,s){return(e??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(dt.close,{},e)}_onError(e){this._on(dt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=al(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=al(e.columns,e.old_record)),s}}const Rr=()=>{},on={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fp=[1e3,2e3,5e3,1e4],gp=1e4,pp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class mp{constructor(e,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Eo,this.transport=null,this.heartbeatIntervalMs=on.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rr,this.ref=0,this.reconnectTimer=null,this.vsn=ol,this.logger=Rr,this.conn=null,this.sendBuffer=[],this.serializer=new op,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=n=>n?(...r)=>n(...r):(...r)=>fetch(...r),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Ao.websocket}`,this.httpEndpoint=bh(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ep.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,i){this.logger(e,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Xt.connecting:return xs.Connecting;case Xt.open:return xs.Open;case Xt.closing:return xs.Closing;default:return xs.Closed}}isConnected(){return this.connectionState()===xs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const i=`realtime:${e}`,n=this.getChannels().find(r=>r.topic===i);if(n)return n;{const r=new qs(`realtime:${e}`,s,this);return this.channels.push(r),r}}push(e){const{topic:s,event:i,payload:n,ref:r}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${i} (${r})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(np,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},on.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:n,payload:r,ref:o}=s,a=o?`(${o})`:"",l=r.status||"";this.log("receive",`${l} ${i} ${n} ${a}`.trim(),r),this.channels.filter(c=>c._isMember(i)).forEach(c=>c._trigger(n,r,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Xt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Xt.open||this.conn.readyState===Xt.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(dt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const i=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${i}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const i=new Blob([pp],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s,i=!1;if(e)s=e,i=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(n){this.log("error","Error fetching access token from callback",n),s=this.accessTokenValue}else s=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(n=>{const r={access_token:s,version:sp};s&&n.updateJoinPayload(r),n.joinedOnce&&n._isJoined()&&n._push(dt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new ph(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},on.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,i,n,r,o,a,l,c,u,h,d,f;switch(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Eo,this.heartbeatIntervalMs=(n=e?.heartbeatIntervalMs)!==null&&n!==void 0?n:on.HEARTBEAT_INTERVAL,this.worker=(r=e?.worker)!==null&&r!==void 0?r:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e?.heartbeatCallback)!==null&&a!==void 0?a:Rr,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:ol,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e?.reconnectAfterMs)!==null&&c!==void 0?c:(m=>fp[m-1]||gp),this.vsn){case ip:this.encode=(u=e?.encode)!==null&&u!==void 0?u:((m,g)=>g(JSON.stringify(m))),this.decode=(h=e?.decode)!==null&&h!==void 0?h:((m,g)=>g(JSON.parse(m)));break;case gh:this.encode=(d=e?.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(f=e?.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Bi=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function bp(t,e,s){const i=new URL(e,t);if(s)for(const[n,r]of Object.entries(s))r!==void 0&&i.searchParams.set(n,r);return i.toString()}async function _p(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function yp(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:n,body:r,headers:o}){const a=bp(t.baseUrl,i,n),l=await _p(t.auth),c=await e(a,{method:s,headers:{...r?{"Content-Type":"application/json"}:{},...l,...o},body:r?JSON.stringify(r):void 0}),u=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),d=h&&u?JSON.parse(u):u;if(!c.ok){const f=h?d:void 0,m=f?.error;throw new Bi(m?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:m?.type,icebergCode:m?.code,details:f})}return{status:c.status,headers:c.headers,data:d}}}}function an(t){return t.join("")}var vp=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:an(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const s={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${an(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${an(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${an(t.namespace)}`}),!0}catch(e){if(e instanceof Bi&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(s){if(s instanceof Bi&&s.status===409)return;throw s}}};function Ms(t){return t.join("")}var wp=class{constructor(t,e="",s){this.client=t,this.prefix=e,this.accessDelegation=s}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ms(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ms(t.namespace)}/tables`,body:e,headers:s})).data.metadata}async updateTable(t,e){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ms(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ms(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ms(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ms(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(s){if(s instanceof Bi&&s.status===404)return!1;throw s}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(s){if(s instanceof Bi&&s.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw s}}},xp=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const s=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=yp({baseUrl:s,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new vp(this.client,e),this.tableOps=new wp(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},ur=class extends Error{constructor(t,e="storage",s,i){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=i}};function hr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var ln=class extends ur{constructor(t,e,s,i="storage"){super(t,i,e,s),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_h=class extends ur{constructor(t,e,s="storage"){super(t,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const Sp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),kp=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Co=t=>{if(Array.isArray(t))return t.map(s=>Co(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,i])=>{const n=s.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[n]=Co(i)}),e},Tp=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Ui(t){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ui(t)}function Op(t,e){if(Ui(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var i=s.call(t,e);if(Ui(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ep(t){var e=Op(t,"string");return Ui(e)=="symbol"?e:e+""}function Ap(t,e,s){return(e=Ep(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function ul(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,i)}return s}function K(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?ul(Object(s),!0).forEach(function(i){Ap(t,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):ul(Object(s)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(s,i))})}return t}const hl=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Rp=async(t,e,s,i)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!s?.noResolveJson){const n=t,r=n.status||500;if(typeof n.json=="function")n.json().then(o=>{const a=o?.statusCode||o?.code||r+"";e(new ln(hl(o),r,a,i))}).catch(()=>{if(i==="vectors"){const o=r+"";e(new ln(n.statusText||`HTTP ${r} error`,r,o,i))}else{const o=r+"";e(new ln(n.statusText||`HTTP ${r} error`,r,o,i))}});else{const o=r+"";e(new ln(n.statusText||`HTTP ${r} error`,r,o,i))}}else e(new _h(hl(t),t,i))},Cp=(t,e,s,i)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!i?K(K({},n),s):(kp(i)?(n.headers=K({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(i)):n.body=i,e?.duplex&&(n.duplex=e.duplex),K(K({},n),s))};async function hi(t,e,s,i,n,r,o){return new Promise((a,l)=>{t(s,Cp(e,i,n,r)).then(c=>{if(!c.ok)throw c;if(i?.noResolveJson)return c;if(o==="vectors"){const u=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>a(c)).catch(c=>Rp(c,l,i,o))})}function yh(t="storage"){return{get:async(e,s,i,n)=>hi(e,"GET",s,i,n,void 0,t),post:async(e,s,i,n,r)=>hi(e,"POST",s,n,r,i,t),put:async(e,s,i,n,r)=>hi(e,"PUT",s,n,r,i,t),head:async(e,s,i,n)=>hi(e,"HEAD",s,K(K({},i),{},{noResolveJson:!0}),n,void 0,t),remove:async(e,s,i,n,r)=>hi(e,"DELETE",s,n,r,i,t)}}const Pp=yh("storage"),{get:Hi,post:ht,put:Po,head:Ip,remove:la}=Pp,nt=yh("vectors");var ri=class{constructor(t,e={},s,i="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=Sp(s),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(hr(s))return{data:null,error:s};throw s}}},Mp=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(hr(e))return{data:null,error:e};throw e}}};let vh;vh=Symbol.toStringTag;var Dp=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[vh]="BlobDownloadBuilder",this.promise=null}asStream(){return new Mp(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(hr(e))return{data:null,error:e};throw e}}};const Lp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dl={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var jp=class extends ri{constructor(t,e={},s,i){super(t,e,i,"storage"),this.bucketId=s}async uploadOrUpdate(t,e,s,i){var n=this;return n.handleOperation(async()=>{let r;const o=K(K({},dl),i);let a=K(K({},n.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",n.encodeMetadata(l)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.has("cacheControl")||r.append("cacheControl",o.cacheControl),l&&!r.has("metadata")&&r.append("metadata",n.encodeMetadata(l))):(r=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=n.toBase64(n.encodeMetadata(l))),(typeof ReadableStream<"u"&&r instanceof ReadableStream||r&&typeof r=="object"&&"pipe"in r&&typeof r.pipe=="function")&&!o.duplex&&(o.duplex="half")),i?.headers&&(a=K(K({},a),i.headers));const c=n._removeEmptyFolders(e),u=n._getFinalPath(c),h=await(t=="PUT"?Po:ht)(n.fetch,`${n.url}/object/${u}`,r,K({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{path:c,id:h.Id,fullPath:h.Key}})}async upload(t,e,s){return this.uploadOrUpdate("POST",t,e,s)}async uploadToSignedUrl(t,e,s,i){var n=this;const r=n._removeEmptyFolders(t),o=n._getFinalPath(r),a=new URL(n.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",e),n.handleOperation(async()=>{let l;const c=K({upsert:dl.upsert},i),u=K(K({},n.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl)):(l=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:r,fullPath:(await Po(n.fetch,a.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(t,e){var s=this;return s.handleOperation(async()=>{let i=s._getFinalPath(t);const n=K({},s.headers);e?.upsert&&(n["x-upsert"]="true");const r=await ht(s.fetch,`${s.url}/object/upload/sign/${i}`,{},{headers:n}),o=new URL(s.url+r.url),a=o.searchParams.get("token");if(!a)throw new ur("No token returned by API");return{signedUrl:o.toString(),path:t,token:a}})}async update(t,e,s){return this.uploadOrUpdate("PUT",t,e,s)}async move(t,e,s){var i=this;return i.handleOperation(async()=>await ht(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:i.headers}))}async copy(t,e,s){var i=this;return i.handleOperation(async()=>({path:(await ht(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(t,e,s){var i=this;return i.handleOperation(async()=>{let n=i._getFinalPath(t),r=await ht(i.fetch,`${i.url}/object/sign/${n}`,K({expiresIn:e},s?.transform?{transform:s.transform}:{}),{headers:i.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${i.url}${r.signedURL}${o}`)}})}async createSignedUrls(t,e,s){var i=this;return i.handleOperation(async()=>{const n=await ht(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),r=s?.download?`&download=${s.download===!0?"":s.download}`:"";return n.map(o=>K(K({},o),{},{signedUrl:o.signedURL?encodeURI(`${i.url}${o.signedURL}${r}`):null}))})}download(t,e){const s=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),n=i?`?${i}`:"",r=this._getFinalPath(t),o=()=>Hi(this.fetch,`${this.url}/${s}/${r}${n}`,{headers:this.headers,noResolveJson:!0});return new Dp(o,this.shouldThrowOnError)}async info(t){var e=this;const s=e._getFinalPath(t);return e.handleOperation(async()=>Co(await Hi(e.fetch,`${e.url}/object/info/${s}`,{headers:e.headers})))}async exists(t){var e=this;const s=e._getFinalPath(t);try{return await Ip(e.fetch,`${e.url}/object/${s}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(hr(i)&&i instanceof _h){const n=i.originalError;if([400,404].includes(n?.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const s=this._getFinalPath(t),i=[],n=e?.download?`download=${e.download===!0?"":e.download}`:"";n!==""&&i.push(n);const r=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&i.push(o);let a=i.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${r}/public/${s}${a}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await la(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,s){var i=this;return i.handleOperation(async()=>{const n=K(K(K({},Lp),e),{},{prefix:t||""});return await ht(i.fetch,`${i.url}/object/list/${i.bucketId}`,n,{headers:i.headers},s)})}async listV2(t,e){var s=this;return s.handleOperation(async()=>{const i=K({},t);return await ht(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,i,{headers:s.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const $p="2.93.3",Zi={"X-Client-Info":`storage-js/${$p}`};var Np=class extends ri{constructor(t,e={},s,i){const n=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase."));const r=n.href.replace(/\/$/,""),o=K(K({},Zi),e);super(r,o,s,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const s=e.listBucketOptionsToQueryString(t);return await Hi(e.fetch,`${e.url}/bucket${s}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Hi(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var s=this;return s.handleOperation(async()=>await ht(s.fetch,`${s.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}))}async updateBucket(t,e){var s=this;return s.handleOperation(async()=>await Po(s.fetch,`${s.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await ht(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await la(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Fp=class extends ri{constructor(t,e={},s){const i=t.replace(/\/$/,""),n=K(K({},Zi),e);super(i,n,s,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await ht(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const s=new URLSearchParams;t?.limit!==void 0&&s.set("limit",t.limit.toString()),t?.offset!==void 0&&s.set("offset",t.offset.toString()),t?.sortColumn&&s.set("sortColumn",t.sortColumn),t?.sortOrder&&s.set("sortOrder",t.sortOrder),t?.search&&s.set("search",t.search);const i=s.toString(),n=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return await Hi(e.fetch,n,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await la(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!Tp(t))throw new ur("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new xp({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(s,{get(n,r){const o=n[r];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(n,a),error:null}}catch(l){if(i)throw l;return{data:null,error:l}}}}})}},Bp=class extends ri{constructor(t,e={},s){const i=t.replace(/\/$/,""),n=K(K({},Zi),{},{"Content-Type":"application/json"},e);super(i,n,s,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await nt.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var s=this;return s.handleOperation(async()=>await nt.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:s.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await nt.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var s=this;return s.handleOperation(async()=>await nt.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:s.headers})||{})}},Up=class extends ri{constructor(t,e={},s){const i=t.replace(/\/$/,""),n=K(K({},Zi),{},{"Content-Type":"application/json"},e);super(i,n,s,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await nt.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await nt.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await nt.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await nt.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await nt.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},Hp=class extends ri{constructor(t,e={},s){const i=t.replace(/\/$/,""),n=K(K({},Zi),{},{"Content-Type":"application/json"},e);super(i,n,s,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await nt.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await nt.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await nt.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await nt.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},Wp=class extends Hp{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new zp(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,s=this;return e().call(s,t)}async getBucket(t){var e=()=>super.getBucket,s=this;return e().call(s,t)}async listBuckets(t={}){var e=()=>super.listBuckets,s=this;return e().call(s,t)}async deleteBucket(t){var e=()=>super.deleteBucket,s=this;return e().call(s,t)}},zp=class extends Bp{constructor(t,e,s,i){super(t,e,i),this.vectorBucketName=s}async createIndex(t){var e=()=>super.createIndex,s=this;return e().call(s,K(K({},t),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,s=this;return e().call(s,K(K({},t),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,s=this;return e().call(s,s.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,s=this;return e().call(s,s.vectorBucketName,t)}index(t){return new Vp(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},Vp=class extends Up{constructor(t,e,s,i,n){super(t,e,n),this.vectorBucketName=s,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,s=this;return e().call(s,K(K({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(t){var e=()=>super.getVectors,s=this;return e().call(s,K(K({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,s=this;return e().call(s,K(K({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,s=this;return e().call(s,K(K({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,s=this;return e().call(s,K(K({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},qp=class extends Np{constructor(t,e={},s,i){super(t,e,s,i)}from(t){return new jp(this.url,this.headers,t,this.fetch)}get vectors(){return new Wp(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Fp(this.url+"/iceberg",this.headers,this.fetch)}};const wh="2.93.3",zs=30*1e3,Io=3,Cr=Io*zs,Kp="http://localhost:9999",Gp="supabase.auth.token",Jp={"X-Client-Info":`gotrue-js/${wh}`},Mo="X-Supabase-Api-Version",xh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xp=600*1e3;class Wi extends Error{constructor(e,s,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function W(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Qp extends Wi{constructor(e,s,i){super(e,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function Zp(t){return W(t)&&t.name==="AuthApiError"}class Ss extends Wi{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Kt extends Wi{constructor(e,s,i,n){super(e,i,n),this.name=s,this.status=i}}class tt extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Pr(t){return W(t)&&t.name==="AuthSessionMissingError"}class Ds extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cn extends Kt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class un extends Kt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function em(t){return W(t)&&t.name==="AuthImplicitGrantRedirectError"}class fl extends Kt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tm extends Kt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Do extends Kt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Ir(t){return W(t)&&t.name==="AuthRetryableFetchError"}class gl extends Kt{constructor(e,s,i){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class Lo extends Kt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Un="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pl=` 	
\r=`.split(""),sm=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<pl.length;e+=1)t[pl[e].charCodeAt(0)]=-2;for(let e=0;e<Un.length;e+=1)t[Un[e].charCodeAt(0)]=e;return t})();function ml(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(Un[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(Un[i]),e.queuedBits-=6}}function Sh(t,e,s){const i=sm[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function bl(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},r=o=>{rm(o,i,s)};for(let o=0;o<t.length;o+=1)Sh(t.charCodeAt(o),n,r);return e.join("")}function im(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function nm(t,e){for(let s=0;s<t.length;s+=1){let i=t.charCodeAt(s);if(i>55295&&i<=56319){const n=(i-55296)*1024&65535;i=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}im(i,e)}}function rm(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Qs(t){const e=[],s={queue:0,queuedBits:0},i=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Sh(t.charCodeAt(n),s,i);return new Uint8Array(e)}function om(t){const e=[];return nm(t,s=>e.push(s)),new Uint8Array(e)}function Ts(t){const e=[],s={queue:0,queuedBits:0},i=n=>{e.push(n)};return t.forEach(n=>ml(n,s,i)),ml(null,s,i),e.join("")}function am(t){return Math.round(Date.now()/1e3)+t}function lm(){return Symbol("auth-callback")}const $e=()=>typeof window<"u"&&typeof document<"u",fs={tested:!1,writable:!1},kh=()=>{if(!$e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fs.tested)return fs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),fs.tested=!0,fs.writable=!0}catch{fs.tested=!0,fs.writable=!1}return fs.writable};function cm(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,r)=>{e[r]=n})}catch{}return s.searchParams.forEach((i,n)=>{e[n]=i}),e}const Th=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),um=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Vs=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},gs=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},je=async(t,e)=>{await t.removeItem(e)};class dr{constructor(){this.promise=new dr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}dr.promiseConstructor=Promise;function hn(t){const e=t.split(".");if(e.length!==3)throw new Lo("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!Yp.test(e[i]))throw new Lo("JWT not in base64url format");return{header:JSON.parse(bl(e[0])),payload:JSON.parse(bl(e[1])),signature:Qs(e[2]),raw:{header:e[0],payload:e[1]}}}async function hm(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function dm(t,e){return new Promise((i,n)=>{(async()=>{for(let r=0;r<1/0;r++)try{const o=await t(r);if(!e(r,null,o)){i(o);return}}catch(o){if(!e(r,o)){n(o);return}}})()})}function fm(t){return("0"+t.toString(16)).substr(-2)}function gm(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let n="";for(let r=0;r<56;r++)n+=s.charAt(Math.floor(Math.random()*i));return n}return crypto.getRandomValues(e),Array.from(e,fm).join("")}async function pm(t){const s=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(i);return Array.from(n).map(r=>String.fromCharCode(r)).join("")}async function mm(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await pm(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ls(t,e,s=!1){const i=gm();let n=i;s&&(n+="/PASSWORD_RECOVERY"),await Vs(t,`${e}-code-verifier`,n);const r=await mm(i);return[r,i===r?"plain":"s256"]}const bm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _m(t){const e=t.headers.get(Mo);if(!e||!e.match(bm))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ym(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function vm(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function js(t){if(!wm.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mr(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xm(t,e){return new Proxy(t,{get:(s,i,n)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const r=i.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)"||r==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,n)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,i,n)}})}function _l(t){return JSON.parse(JSON.stringify(t))}const vs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Sm=[502,503,504];async function yl(t){var e;if(!um(t))throw new Do(vs(t),0);if(Sm.includes(t.status))throw new Do(vs(t),t.status);let s;try{s=await t.json()}catch(r){throw new Ss(vs(r),r)}let i;const n=_m(t);if(n&&n.getTime()>=xh["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new gl(vs(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new tt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new gl(vs(s),t.status,s.weak_password.reasons);throw new Qp(vs(s),t.status||500,i)}const km=(t,e,s,i)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),s))};async function q(t,e,s,i){var n;const r=Object.assign({},i?.headers);r[Mo]||(r[Mo]=xh["2024-01-01"].name),i?.jwt&&(r.Authorization=`Bearer ${i.jwt}`);const o=(n=i?.query)!==null&&n!==void 0?n:{};i?.redirectTo&&(o.redirect_to=i.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Tm(t,e,s+a,{headers:r,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(l):{data:Object.assign({},l),error:null}}async function Tm(t,e,s,i,n,r){const o=km(e,i,n,r);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Do(vs(l),0)}if(a.ok||await yl(a),i?.noResolveJson)return a;try{return await a.json()}catch(l){await yl(l)}}function ut(t){var e;let s=null;Am(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=am(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:i},error:null}}function vl(t){const e=ut(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Qt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Om(t){return{data:t,error:null}}function Em(t){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:n,verification_type:r}=t,o=cr(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:i,redirect_to:n,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function wl(t){return t}function Am(t){return t.access_token&&t.refresh_token&&t.expires_in}const Dr=["global","local","others"];class Rm{constructor({url:e="",headers:s={},fetch:i}){this.url=e,this.headers=s,this.fetch=Th(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Dr[0]){if(Dr.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dr.join(", ")}`);try{return await q(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(W(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,s={}){try{return await q(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Qt})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:s}=e,i=cr(e,["options"]),n=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(n.new_email=i?.newEmail,delete n.newEmail),await q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Em,redirectTo:s?.redirectTo})}catch(s){if(W(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await q(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Qt})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,i,n,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(r=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""},xform:wl});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(m.split(";")[1].split("=")[1]);c[`${p}Page`]=g}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(W(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){js(e);try{return await q(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Qt})}catch(s){if(W(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){js(e);try{return await q(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Qt})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,s=!1){js(e);try{return await q(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Qt})}catch(i){if(W(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){js(e.userId);try{const{data:s,error:i}=await q(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:i}}catch(s){if(W(s))return{data:null,error:s};throw s}}async _deleteFactor(e){js(e.userId),js(e.id);try{return{data:await q(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,i,n,r,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await q(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(r=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:""},xform:wl});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(m.split(";")[1].split("=")[1]);c[`${p}Page`]=g}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(W(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await q(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await q(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await q(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(W(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await q(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(W(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await q(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(W(s))return{data:null,error:s};throw s}}}function xl(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const $s={debug:!!(globalThis&&kh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Oh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Cm extends Oh{}async function Pm(t,e,s){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),$s.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async n=>{if(n){$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{$s.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw $s.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Cm(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if($s.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Im(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Eh(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Mm(t){return parseInt(t,16)}function Dm(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function Lm(t){var e;const{chainId:s,domain:i,expirationTime:n,issuedAt:r=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:h,version:d}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const f=Eh(t.address),m=u?`${u}://${i}`:i,g=t.statement?`${t.statement}
`:"",p=`${m} wants you to sign in with your Ethereum account:
${f}

${g}`;let b=`URI: ${h}
Version: ${d}
Chain ID: ${s}${o?`
Nonce: ${o}`:""}
Issued At: ${r.toISOString()}`;if(n&&(b+=`
Expiration Time: ${n.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const v of c){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);w+=`
- ${v}`}b+=w}return`${p}
${b}`}class Ce extends Error{constructor({message:e,code:s,cause:i,name:n}){var r;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(r=n??(i instanceof Error?i.name:void 0))!==null&&r!==void 0?r:"Unknown Error",this.code=s}}class Hn extends Ce{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function jm({error:t,options:e}){var s,i,n;const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ce({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=r.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ce({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=r.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ce({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((n=r.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ce({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ce({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ce({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return r.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ce({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ce({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(Ah(o)){if(r.rp.id!==o)return new Ce({message:`The RP ID "${r.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(r.user.id.byteLength<1||r.user.id.byteLength>64)return new Ce({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ce({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function $m({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ce({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ce({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(Ah(i)){if(s.rpId!==i)return new Ce({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ce({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Nm{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Fm=new Nm;function Bm(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:i}=t,n=cr(t,["challenge","user","excludeCredentials"]),r=Qs(e).buffer,o=Object.assign(Object.assign({},s),{id:Qs(s.id).buffer}),a=Object.assign(Object.assign({},n),{challenge:r,user:o});if(i&&i.length>0){a.excludeCredentials=new Array(i.length);for(let l=0;l<i.length;l++){const c=i[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Qs(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Um(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,i=cr(t,["challenge","allowCredentials"]),n=Qs(e).buffer,r=Object.assign(Object.assign({},i),{challenge:n});if(s&&s.length>0){r.allowCredentials=new Array(s.length);for(let o=0;o<s.length;o++){const a=s[o];r.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Qs(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return r}function Hm(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ts(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ts(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Wm(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,i=t.getClientExtensionResults(),n=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ts(new Uint8Array(n.authenticatorData)),clientDataJSON:Ts(new Uint8Array(n.clientDataJSON)),signature:Ts(new Uint8Array(n.signature)),userHandle:n.userHandle?Ts(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ah(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Sl(){var t,e;return!!($e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function zm(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hn("Browser returned unexpected credential type",e)}:{data:null,error:new Hn("Empty credential response",e)}}catch(e){return{data:null,error:jm({error:e,options:t})}}}async function Vm(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Hn("Browser returned unexpected credential type",e)}:{data:null,error:new Hn("Empty credential response",e)}}catch(e){return{data:null,error:$m({error:e,options:t})}}}const qm={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Km={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wn(...t){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),s=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),i={};for(const n of t)if(n)for(const r in n){const o=n[r];if(o!==void 0)if(Array.isArray(o))i[r]=o;else if(s(o))i[r]=o;else if(e(o)){const a=i[r];e(a)?i[r]=Wn(a,o):i[r]=Wn(o)}else i[r]=o}return i}function Gm(t,e){return Wn(qm,t,e||{})}function Jm(t,e){return Wn(Km,t,e||{})}class Ym{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:i,signal:n},r){var o;try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!a)return{data:null,error:l};const c=n??Fm.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;if(!u.name){const h=i;if(h)u.name=`${u.id}:${h}`;else{const f=(await this.client.getUser()).data.user,m=((o=f?.user_metadata)===null||o===void 0?void 0:o.name)||f?.email||f?.id||"User";u.name=`${u.id}:${m}`}}u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Gm(a.webauthn.credential_options.publicKey,r?.create),{data:h,error:d}=await zm({publicKey:u,signal:c});return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const u=Jm(a.webauthn.credential_options.publicKey,r?.request),{data:h,error:d}=await Vm(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(a){return W(a)?{data:null,error:a}:{data:null,error:new Ss("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},r){if(!s)return{data:null,error:new Wi("rpId is required for WebAuthn authentication")};try{if(!Sl())return{data:null,error:new Ss("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:i},signal:n},{request:r});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:s,rpOrigins:i,credential_response:l.credential_response}})}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new Ss("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:n}={}},r){if(!s)return{data:null,error:new Wi("rpId is required for WebAuthn registration")};try{if(!Sl())return{data:null,error:new Ss("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var h;return(h=u.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:n},{create:r});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:s,rpOrigins:i,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return W(o)?{data:null,error:o}:{data:null,error:new Ss("Unexpected error in register",o)}}}}Im();const Xm={url:Kp,storageKey:Gp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function kl(t,e,s){return await s()}const Ns={};class zi{get jwks(){var e,s;return(s=(e=Ns[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Ns[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ns[this.storageKey]=Object.assign(Object.assign({},Ns[this.storageKey]),{cachedAt:e})}constructor(e){var s,i,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const r=Object.assign(Object.assign({},Xm),e);if(this.storageKey=r.storageKey,this.instanceID=(s=zi.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,zi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.instanceID>0&&$e()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=r.persistSession,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Rm({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Th(r.fetch),this.lock=r.lock||kl,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,this.throwOnError=r.throwOnError,this.lockAcquireTimeout=r.lockAcquireTimeout,r.lock?this.lock=r.lock:this.persistSession&&$e()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Pm:this.lock=kl,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ym(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:kh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=xl(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=xl(this.memoryStorage)),$e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(a){this._debug("#broadcastChannel","error",a)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wh}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},i="none";if($e()&&(s=cm(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),$e()&&this.detectSessionInUrl&&i!=="none"){const{data:n,error:r}=await this._getSessionFromURL(s,i);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),em(r)){const l=(e=r.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:r}}return{error:r}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return W(s)?this._returnResult({error:s}):this._returnResult({error:new Ss("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,i,n;try{const r=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:ut}),{data:o,error:a}=r;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(r){if(W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signUp(e){var s,i,n;try{let r;if("email"in e){const{email:u,password:h,options:d}=e;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Ls(this.storage,this.storageKey)),r=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:u,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},xform:ut})}else if("phone"in e){const{phone:u,password:h,options:d}=e;r=await q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(i=d?.data)!==null&&i!==void 0?i:{},channel:(n=d?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:ut})}else throw new cn("You must provide either an email or phone number and a password");const{data:o,error:a}=r;if(a||!o)return await je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(r){if(await je(this.storage,`${this.storageKey}-code-verifier`),W(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithPassword(e){try{let s;if("email"in e){const{email:r,password:o,options:a}=e;s=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:vl})}else if("phone"in e){const{phone:r,password:o,options:a}=e;s=await q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:vl})}else throw new cn("You must provide either an email or phone number and a password");const{data:i,error:n}=s;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!i||!i.session||!i.user){const r=new Ds;return this._returnResult({data:{user:null,session:null},error:r})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:n})}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,i,n,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,i,n,r,o,a,l,c,u,h,d;let f,m;if("message"in e)f=e.message,m=e.signature;else{const{chain:g,wallet:p,statement:b,options:w}=e;let v;if($e())if(typeof p=="object")v=p;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")v=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=p}const x=new URL((s=w?.url)!==null&&s!==void 0?s:window.location.href),T=await v.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=Eh(T[0]);let M=(i=w?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!M){const H=await v.request({method:"eth_chainId"});M=Mm(H)}const j={domain:x.host,address:P,statement:b,uri:x.href,version:"1",chainId:M,nonce:(n=w?.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(o=(r=w?.signInWithEthereum)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=w?.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=w?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w?.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Lm(j),m=await v.request({method:"personal_sign",params:[Dm(f),P]})}try{const{data:g,error:p}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:m},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:ut});if(p)throw p;if(!g||!g.session||!g.user){const b=new Ds;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:p})}catch(g){if(W(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var s,i,n,r,o,a,l,c,u,h,d,f;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:p,wallet:b,statement:w,options:v}=e;let x;if($e())if(typeof b=="object")x=b;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))x=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!v?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=b}const T=new URL((s=v?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in x&&x.signIn){const P=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v?.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),w?{statement:w}:null));let M;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")M=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)M=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)m=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),g=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${T.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(n=(i=v?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((r=v?.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((a=v?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((l=v?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((c=v?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((h=(u=v?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...v.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const P=await x.signMessage(new TextEncoder().encode(m),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=P}}try{const{data:p,error:b}=await q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Ts(g)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:ut});if(b)throw b;if(!p||!p.session||!p.user){const w=new Ds;return this._returnResult({data:{user:null,session:null},error:w})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:b})}catch(p){if(W(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async _exchangeCodeForSession(e){const s=await gs(this.storage,`${this.storageKey}-code-verifier`),[i,n]=(s??"").split("/");try{if(!i&&this.flowType==="pkce")throw new tm;const{data:r,error:o}=await q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:ut});if(await je(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!r||!r.session||!r.user){const a=new Ds;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign(Object.assign({},r),{redirectType:n??null}),error:o})}catch(r){if(await je(this.storage,`${this.storageKey}-code-verifier`),W(r))return this._returnResult({data:{user:null,session:null,redirectType:null},error:r});throw r}}async signInWithIdToken(e){try{const{options:s,provider:i,token:n,access_token:r,nonce:o}=e,a=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:n,access_token:r,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:ut}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Ds;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,i,n,r,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Ls(this.storage,this.storageKey));const{error:h}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new cn("You must provide either an email or phone number.")}catch(a){if(await je(this.storage,`${this.storageKey}-code-verifier`),W(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var s,i;try{let n,r;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,r=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:a}=await q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:n,xform:ut});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(n){if(W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var s,i,n,r,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Ls(this.storage,this.storageKey));const c=await q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:Om});return!((r=c.data)===null||r===void 0)&&r.url&&$e()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await je(this.storage,`${this.storageKey}-code-verifier`),W(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;if(i)throw i;if(!s)throw new tt;const{error:n}=await q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(W(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:i,type:n,options:r}=e,{error:o}=await q(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:n,gotrue_meta_security:{captcha_token:r?.captchaToken}},redirectTo:r?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:i,type:n,options:r}=e,{data:o,error:a}=await q(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:n,gotrue_meta_security:{captcha_token:r?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:a})}throw new cn("You must provide either an email or phone number and a type")}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await gs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Cr:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const o=await gs(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Mr()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=xm(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:r}=await this._callRefreshToken(e.refresh_token);return r?this._returnResult({data:{session:null},error:r}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(e){try{return e?await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Qt}):await this._useSession(async s=>{var i,n,r;const{data:o,error:a}=s;if(a)throw a;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tt}:await q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0,xform:Qt})})}catch(s){if(W(s))return Pr(s)&&(await this._removeSession(),await je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async i=>{const{data:n,error:r}=i;if(r)throw r;if(!n.session)throw new tt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Ls(this.storage,this.storageKey));const{data:c,error:u}=await q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Qt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(i){if(await je(this.storage,`${this.storageKey}-code-verifier`),W(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new tt;const s=Date.now()/1e3;let i=s,n=!0,r=null;const{payload:o}=hn(e.access_token);if(o.exp&&(i=o.exp,n=i<=s),n){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};r=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});r={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return this._returnResult({data:{user:r.user,session:r},error:null})}catch(s){if(W(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var i;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new tt;const{data:n,error:r}=await this._callRefreshToken(e.refresh_token);return r?this._returnResult({data:{user:null,session:null},error:r}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(W(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!$e())throw new un("No browser detected.");if(e.error||e.error_description||e.error_code)throw new un(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new fl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new un("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new fl("No code detected.");const{data:w,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:n,access_token:r,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!r||!a||!o||!c)throw new un("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const f=d-u;f*1e3<=zs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const m=d-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,u);const{data:g,error:p}=await this._getUser(r);if(p)throw p;const b={provider_token:i,provider_refresh_token:n,access_token:r,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(i){if(W(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await gs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:n,error:r}=s;if(r&&!Pr(r))return this._returnResult({error:r});const o=(i=n.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Zp(a)&&(a.status===404||a.status===401||a.status===403)||Pr(a)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=lm(),i={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async s=>{var i,n;try{const{data:{session:r},error:o}=s;if(o)throw o;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,s={}){let i=null,n=null;this.flowType==="pkce"&&([i,n]=await Ls(this.storage,this.storageKey,!0));try{return await q(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(r){if(await je(this.storage,`${this.storageKey}-code-verifier`),W(r))return this._returnResult({data:null,error:r});throw r}}async getUserIdentities(){var e;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:i,error:n}=await this._useSession(async r=>{var o,a,l,c,u;const{data:h,error:d}=r;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await q(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return $e()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(W(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var i;try{const{error:n,data:{session:r}}=s;if(n)throw n;const{options:o,provider:a,token:l,access_token:c,nonce:u}=e,h=await q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=r?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:ut}),{data:d,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new Ds}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:f}))}catch(n){if(await je(this.storage,`${this.storageKey}-code-verifier`),W(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var i,n;const{data:r,error:o}=s;if(o)throw o;return await q(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await dm(async n=>(n>0&&await hm(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ut})),(n,r)=>{const o=200*Math.pow(2,n);return r&&Ir(r)&&Date.now()+o-i<zs})}catch(i){if(this._debug(s,"error",i),W(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",i),$e()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const n=await gs(this.storage,this.storageKey);if(n&&this.userStorage){let o=await gs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Vs(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o?.user)!==null&&e!==void 0?e:Mr()}else if(n&&!n.user&&!n.user){const o=await gs(this.storage,this.storageKey+"-user");o&&o?.user?(n.user=o.user,await je(this.storage,this.storageKey+"-user"),await Vs(this.storage,this.storageKey,n)):n.user=Mr()}if(this._debug(i,"session from storage",n),!this._isValidSession(n)){this._debug(i,"session is not valid"),n!==null&&await this._removeSession();return}const r=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Cr;if(this._debug(i,`session has${r?"":" not"} expired with margin of ${Cr}s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Ir(o)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&o?.user?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(i,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(i,"error",n),console.error(n);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var s,i;if(!e)throw new tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new dr;const{data:r,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!r.session)throw new tt;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const a={data:r.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(r){if(this._debug(n,"error",r),W(r)){const o={data:null,error:r};return Ir(r)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(r),r}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,i=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:s});const r=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){r.push(l)}});if(await Promise.all(o),r.length>0){for(let a=0;a<r.length;a+=1)console.error(r[a]);throw r[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await je(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},e),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Vs(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const r=_l(n);await Vs(this.storage,this.storageKey,r)}else{const n=_l(s);await Vs(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await je(this.storage,this.storageKey),await je(this.storage,this.storageKey+"-code-verifier"),await je(this.storage,this.storageKey+"-user"),this.userStorage&&await je(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$e()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),zs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((i.expires_at*1e3-e)/zs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${zs}ms, refresh threshold is ${Io} ticks`),n<=Io&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Oh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$e()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,i){const n=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&n.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[r,o]=await Ls(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(i?.queryParams){const r=new URLSearchParams(i.queryParams);n.push(r.toString())}return i?.skipBrowserRedirect&&n.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var i;const{data:n,error:r}=s;return r?this._returnResult({data:null,error:r}):await q(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var i,n;const{data:r,error:o}=s;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await q(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(i=r?.session)===null||i===void 0?void 0:i.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:n,error:r}=s;if(r)return this._returnResult({data:null,error:r});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Hm(e.webauthn.credential_response):Wm(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:n,error:r}=s;if(r)return this._returnResult({data:null,error:r});const o=await q(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Bm(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Um(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const n={all:[],phone:[],totp:[],webauthn:[]};for(const r of(e=s?.factors)!==null&&e!==void 0?e:[])n.all.push(r),r.status==="verified"&&n[r.factor_type].push(r);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(e){var s,i,n,r;if(e)try{const{payload:f}=hn(e);let m=null;f.aal&&(m=f.aal);let g=m;const{data:{user:p},error:b}=await this.getUser(e);if(b)return this._returnResult({data:null,error:b});((i=(s=p?.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const v=f.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:v},error:null}}catch(f){if(W(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:o},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=hn(o.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:i},error:n}=s;return n?this._returnResult({data:null,error:n}):i?await q(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new tt})})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async i=>{const{data:{session:n},error:r}=i;if(r)return this._returnResult({data:null,error:r});if(!n)return this._returnResult({data:null,error:new tt});const o=await q(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&$e()&&!s?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,s){try{return await this._useSession(async i=>{const{data:{session:n},error:r}=i;if(r)return this._returnResult({data:null,error:r});if(!n)return this._returnResult({data:null,error:new tt});const o=await q(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&$e()&&!s?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;return i?this._returnResult({data:null,error:i}):s?await q(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new tt})})}catch(e){if(W(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async s=>{const{data:{session:i},error:n}=s;return n?this._returnResult({data:null,error:n}):i?(await q(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new tt})})}catch(s){if(W(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,s={keys:[]}){let i=s.keys.find(a=>a.kid===e);if(i)return i;const n=Date.now();if(i=this.jwks.keys.find(a=>a.kid===e),i&&this.jwks_cached_at+Xp>n)return i;const{data:r,error:o}=await q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=n,i=r.keys.find(a=>a.kid===e),!i)?null:i}async getClaims(e,s={}){try{let i=e;if(!i){const{data:f,error:m}=await this.getSession();if(m||!f.session)return this._returnResult({data:null,error:m});i=f.session.access_token}const{header:n,payload:r,signature:o,raw:{header:a,payload:l}}=hn(i);s?.allowExpired||ym(r.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!c){const{error:f}=await this.getUser(i);if(f)throw f;return{data:{claims:r,header:n,signature:o},error:null}}const u=vm(n.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,om(`${a}.${l}`)))throw new Lo("Invalid JWT signature");return{data:{claims:r,header:n,signature:o},error:null}}catch(i){if(W(i))return this._returnResult({data:null,error:i});throw i}}}zi.nextInstanceID={};const Qm=zi,Zm="2.93.3";let yi="";typeof Deno<"u"?yi="deno":typeof document<"u"?yi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yi="react-native":yi="node";const eb={"X-Client-Info":`supabase-js-${yi}/${Zm}`},tb={headers:eb},sb={schema:"public"},ib={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nb={};function Vi(t){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vi(t)}function rb(t,e){if(Vi(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var i=s.call(t,e);if(Vi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ob(t){var e=rb(t,"string");return Vi(e)=="symbol"?e:e+""}function ab(t,e,s){return(e=ob(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Tl(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,i)}return s}function Ee(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Tl(Object(s),!0).forEach(function(i){ab(t,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Tl(Object(s)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(s,i))})}return t}const lb=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cb=()=>Headers,ub=(t,e,s)=>{const i=lb(s),n=cb();return async(r,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new n(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),i(r,Ee(Ee({},o),{},{headers:c}))}};function hb(t){return t.endsWith("/")?t:t+"/"}function db(t,e){var s,i;const{db:n,auth:r,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,d={db:Ee(Ee({},l),n),auth:Ee(Ee({},c),r),realtime:Ee(Ee({},u),o),storage:{},global:Ee(Ee(Ee({},h),a),{},{headers:Ee(Ee({},(s=h?.headers)!==null&&s!==void 0?s:{}),(i=a?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function fb(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(hb(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var gb=class extends Qm{constructor(t){super(t)}},pb=class{constructor(t,e,s){var i,n;this.supabaseUrl=t,this.supabaseKey=e;const r=fb(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",r),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",r),this.storageUrl=new URL("storage/v1",r),this.functionsUrl=new URL("functions/v1",r);const o=`sb-${r.hostname.split(".")[0]}-auth-token`,a={db:sb,realtime:nb,auth:Ee(Ee({},ib),{},{storageKey:o}),global:tb},l=db(s??{},a);if(this.storageKey=(i=l.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(n=l.global.headers)!==null&&n!==void 0?n:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=ub(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Ee({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new Zg(new URL("rest/v1",r).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new qp(this.storageUrl.href,this.headers,this.fetch,s?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Gg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,s)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,s;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:i,userStorage:n,storageKey:r,flowType:o,lock:a,debug:l,throwOnError:c},u,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gb({url:this.authUrl.href,headers:Ee(Ee({},d),u),storageKey:r,autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:i,userStorage:n,flowType:o,lock:a,debug:l,throwOnError:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new mp(this.realtimeUrl.href,Ee(Ee({},t),{},{params:Ee(Ee({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const mb=(t,e,s)=>new pb(t,e,s);function bb(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const s=e.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}bb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _b="https://aatirfpbcgvgbyuemsgb.supabase.co",yb="sb_publishable_yG7gPa2OZqDw0pWXHGD36w_McWdwa1x",Ol=mb(_b,yb);function vb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lr={exports:{}},El;function wb(){return El||(El=1,(function(t){var e=(function(s){var i=Object.prototype,n=i.hasOwnProperty,r=Object.defineProperty||function(E,k,I){E[k]=I.value},o,a=typeof Symbol=="function"?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function h(E,k,I){return Object.defineProperty(E,k,{value:I,enumerable:!0,configurable:!0,writable:!0}),E[k]}try{h({},"")}catch{h=function(k,I,B){return k[I]=B}}function d(E,k,I,B){var U=k&&k.prototype instanceof v?k:v,se=Object.create(U.prototype),ke=new ne(B||[]);return r(se,"_invoke",{value:ie(E,I,ke)}),se}s.wrap=d;function f(E,k,I){try{return{type:"normal",arg:E.call(k,I)}}catch(B){return{type:"throw",arg:B}}}var m="suspendedStart",g="suspendedYield",p="executing",b="completed",w={};function v(){}function x(){}function T(){}var P={};h(P,l,function(){return this});var M=Object.getPrototypeOf,j=M&&M(M(Z([])));j&&j!==i&&n.call(j,l)&&(P=j);var H=T.prototype=v.prototype=Object.create(P);x.prototype=T,r(H,"constructor",{value:T,configurable:!0}),r(T,"constructor",{value:x,configurable:!0}),x.displayName=h(T,u,"GeneratorFunction");function Q(E){["next","throw","return"].forEach(function(k){h(E,k,function(I){return this._invoke(k,I)})})}s.isGeneratorFunction=function(E){var k=typeof E=="function"&&E.constructor;return k?k===x||(k.displayName||k.name)==="GeneratorFunction":!1},s.mark=function(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,T):(E.__proto__=T,h(E,u,"GeneratorFunction")),E.prototype=Object.create(H),E},s.awrap=function(E){return{__await:E}};function G(E,k){function I(se,ke,de,Ie){var Re=f(E[se],E,ke);if(Re.type==="throw")Ie(Re.arg);else{var ee=Re.arg,X=ee.value;return X&&typeof X=="object"&&n.call(X,"__await")?k.resolve(X.__await).then(function(Te){I("next",Te,de,Ie)},function(Te){I("throw",Te,de,Ie)}):k.resolve(X).then(function(Te){ee.value=Te,de(ee)},function(Te){return I("throw",Te,de,Ie)})}}var B;function U(se,ke){function de(){return new k(function(Ie,Re){I(se,ke,Ie,Re)})}return B=B?B.then(de,de):de()}r(this,"_invoke",{value:U})}Q(G.prototype),h(G.prototype,c,function(){return this}),s.AsyncIterator=G,s.async=function(E,k,I,B,U){U===void 0&&(U=Promise);var se=new G(d(E,k,I,B),U);return s.isGeneratorFunction(k)?se:se.next().then(function(ke){return ke.done?ke.value:se.next()})};function ie(E,k,I){var B=m;return function(se,ke){if(B===p)throw new Error("Generator is already running");if(B===b){if(se==="throw")throw ke;return re()}for(I.method=se,I.arg=ke;;){var de=I.delegate;if(de){var Ie=ue(de,I);if(Ie){if(Ie===w)continue;return Ie}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(B===m)throw B=b,I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);B=p;var Re=f(E,k,I);if(Re.type==="normal"){if(B=I.done?b:g,Re.arg===w)continue;return{value:Re.arg,done:I.done}}else Re.type==="throw"&&(B=b,I.method="throw",I.arg=Re.arg)}}}function ue(E,k){var I=k.method,B=E.iterator[I];if(B===o)return k.delegate=null,I==="throw"&&E.iterator.return&&(k.method="return",k.arg=o,ue(E,k),k.method==="throw")||I!=="return"&&(k.method="throw",k.arg=new TypeError("The iterator does not provide a '"+I+"' method")),w;var U=f(B,E.iterator,k.arg);if(U.type==="throw")return k.method="throw",k.arg=U.arg,k.delegate=null,w;var se=U.arg;if(!se)return k.method="throw",k.arg=new TypeError("iterator result is not an object"),k.delegate=null,w;if(se.done)k[E.resultName]=se.value,k.next=E.nextLoc,k.method!=="return"&&(k.method="next",k.arg=o);else return se;return k.delegate=null,w}Q(H),h(H,u,"Generator"),h(H,l,function(){return this}),h(H,"toString",function(){return"[object Generator]"});function me(E){var k={tryLoc:E[0]};1 in E&&(k.catchLoc=E[1]),2 in E&&(k.finallyLoc=E[2],k.afterLoc=E[3]),this.tryEntries.push(k)}function he(E){var k=E.completion||{};k.type="normal",delete k.arg,E.completion=k}function ne(E){this.tryEntries=[{tryLoc:"root"}],E.forEach(me,this),this.reset(!0)}s.keys=function(E){var k=Object(E),I=[];for(var B in k)I.push(B);return I.reverse(),function U(){for(;I.length;){var se=I.pop();if(se in k)return U.value=se,U.done=!1,U}return U.done=!0,U}};function Z(E){if(E){var k=E[l];if(k)return k.call(E);if(typeof E.next=="function")return E;if(!isNaN(E.length)){var I=-1,B=function U(){for(;++I<E.length;)if(n.call(E,I))return U.value=E[I],U.done=!1,U;return U.value=o,U.done=!0,U};return B.next=B}}return{next:re}}s.values=Z;function re(){return{value:o,done:!0}}return ne.prototype={constructor:ne,reset:function(E){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(he),!E)for(var k in this)k.charAt(0)==="t"&&n.call(this,k)&&!isNaN(+k.slice(1))&&(this[k]=o)},stop:function(){this.done=!0;var E=this.tryEntries[0],k=E.completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(E){if(this.done)throw E;var k=this;function I(Ie,Re){return se.type="throw",se.arg=E,k.next=Ie,Re&&(k.method="next",k.arg=o),!!Re}for(var B=this.tryEntries.length-1;B>=0;--B){var U=this.tryEntries[B],se=U.completion;if(U.tryLoc==="root")return I("end");if(U.tryLoc<=this.prev){var ke=n.call(U,"catchLoc"),de=n.call(U,"finallyLoc");if(ke&&de){if(this.prev<U.catchLoc)return I(U.catchLoc,!0);if(this.prev<U.finallyLoc)return I(U.finallyLoc)}else if(ke){if(this.prev<U.catchLoc)return I(U.catchLoc,!0)}else if(de){if(this.prev<U.finallyLoc)return I(U.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(E,k){for(var I=this.tryEntries.length-1;I>=0;--I){var B=this.tryEntries[I];if(B.tryLoc<=this.prev&&n.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var U=B;break}}U&&(E==="break"||E==="continue")&&U.tryLoc<=k&&k<=U.finallyLoc&&(U=null);var se=U?U.completion:{};return se.type=E,se.arg=k,U?(this.method="next",this.next=U.finallyLoc,w):this.complete(se)},complete:function(E,k){if(E.type==="throw")throw E.arg;return E.type==="break"||E.type==="continue"?this.next=E.arg:E.type==="return"?(this.rval=this.arg=E.arg,this.method="return",this.next="end"):E.type==="normal"&&k&&(this.next=k),w},finish:function(E){for(var k=this.tryEntries.length-1;k>=0;--k){var I=this.tryEntries[k];if(I.finallyLoc===E)return this.complete(I.completion,I.afterLoc),he(I),w}},catch:function(E){for(var k=this.tryEntries.length-1;k>=0;--k){var I=this.tryEntries[k];if(I.tryLoc===E){var B=I.completion;if(B.type==="throw"){var U=B.arg;he(I)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(E,k,I){return this.delegate={iterator:Z(E),resultName:k,nextLoc:I},this.method==="next"&&(this.arg=o),w}},s})(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Lr)),Lr.exports}var jr,Al;function ca(){return Al||(Al=1,jr=(t,e)=>`${t}-${e}-${Math.random().toString(16).slice(3,8)}`),jr}var $r,Rl;function Rh(){if(Rl)return $r;Rl=1;const t=ca();let e=0;return $r=({id:s,action:i,payload:n={}})=>{let r=s;return typeof r>"u"&&(r=t("Job",e),e+=1),{id:r,action:i,payload:n}},$r}var di={},Cl;function ua(){if(Cl)return di;Cl=1;let t=!1;return di.logging=t,di.setLogging=e=>{t=e},di.log=(...e)=>t?console.log.apply(this,e):null,di}var Nr,Pl;function xb(){if(Pl)return Nr;Pl=1;const t=Rh(),{log:e}=ua(),s=ca();let i=0;return Nr=()=>{const n=s("Scheduler",i),r={},o={};let a=[];i+=1;const l=()=>a.length,c=()=>Object.keys(r).length,u=()=>{if(a.length!==0){const g=Object.keys(r);for(let p=0;p<g.length;p+=1)if(typeof o[g[p]]>"u"){a[0](r[g[p]]);break}}},h=(g,p)=>new Promise((b,w)=>{const v=t({action:g,payload:p});a.push(async x=>{a.shift(),o[x.id]=v;try{b(await x[g].apply(this,[...p,v.id]))}catch(T){w(T)}finally{delete o[x.id],u()}}),e(`[${n}]: Add ${v.id} to JobQueue`),e(`[${n}]: JobQueue length=${a.length}`),u()});return{addWorker:g=>(r[g.id]=g,e(`[${n}]: Add ${g.id}`),e(`[${n}]: Number of workers=${c()}`),u(),g.id),addJob:async(g,...p)=>{if(c()===0)throw Error(`[${n}]: You need to have at least one worker before adding jobs`);return h(g,p)},terminate:async()=>{Object.keys(r).forEach(async g=>{await r[g].terminate()}),a=[]},getQueueLen:l,getNumWorkers:c}},Nr}function Sb(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Fr,Il;function kb(){return Il||(Il=1,Fr=t=>{const e={};return typeof WorkerGlobalScope<"u"?e.type="webworker":typeof document=="object"?e.type="browser":typeof process=="object"&&typeof Sb=="function"&&(e.type="node"),typeof t>"u"?e:e[t]}),Fr}var Br,Ml;function Tb(){if(Ml)return Br;Ml=1;const e=kb()("type")==="browser"?s=>new URL(s,window.location.href).href:s=>s;return Br=s=>{const i={...s};return["corePath","workerPath","langPath"].forEach(n=>{s[n]&&(i[n]=e(i[n]))}),i},Br}var Ur,Dl;function Ch(){return Dl||(Dl=1,Ur={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}),Ur}const Ob="7.0.0",Eb={version:Ob};var Hr,Ll;function Ab(){return Ll||(Ll=1,Hr={workerBlobURL:!0,logger:()=>{}}),Hr}var Wr,jl;function Rb(){if(jl)return Wr;jl=1;const t=Eb.version;return Wr={...Ab(),workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${t}/dist/worker.min.js`},Wr}var zr,$l;function Cb(){return $l||($l=1,zr=({workerPath:t,workerBlobURL:e})=>{let s;if(Blob&&URL&&e){const i=new Blob([`importScripts("${t}");`],{type:"application/javascript"});s=new Worker(URL.createObjectURL(i))}else s=new Worker(t);return s}),zr}var Vr,Nl;function Pb(){return Nl||(Nl=1,Vr=t=>{t.terminate()}),Vr}var qr,Fl;function Ib(){return Fl||(Fl=1,qr=(t,e)=>{t.onmessage=({data:s})=>{e(s)}}),qr}var Kr,Bl;function Mb(){return Bl||(Bl=1,Kr=async(t,e)=>{t.postMessage(e)}),Kr}var Gr,Ul;function Db(){if(Ul)return Gr;Ul=1;const t=s=>new Promise((i,n)=>{const r=new FileReader;r.onload=()=>{i(r.result)},r.onerror=({target:{error:{code:o}}})=>{n(Error(`File could not be read! Code=${o}`))},r.readAsArrayBuffer(s)}),e=async s=>{let i=s;if(typeof s>"u")return"undefined";if(typeof s=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(s)?i=atob(s.split(",")[1]).split("").map(n=>n.charCodeAt(0)):i=await(await fetch(s)).arrayBuffer();else if(typeof HTMLElement<"u"&&s instanceof HTMLElement)s.tagName==="IMG"&&(i=await e(s.src)),s.tagName==="VIDEO"&&(i=await e(s.poster)),s.tagName==="CANVAS"&&await new Promise(n=>{s.toBlob(async r=>{i=await t(r),n()})});else if(typeof OffscreenCanvas<"u"&&s instanceof OffscreenCanvas){const n=await s.convertToBlob();i=await t(n)}else(s instanceof File||s instanceof Blob)&&(i=await t(s));return new Uint8Array(i)};return Gr=e,Gr}var Jr,Hl;function Lb(){if(Hl)return Jr;Hl=1;const t=Rb(),e=Cb(),s=Pb(),i=Ib(),n=Mb(),r=Db();return Jr={defaultOptions:t,spawnWorker:e,terminateWorker:s,onMessage:i,send:n,loadImage:r},Jr}var Yr,Wl;function Ph(){if(Wl)return Yr;Wl=1;const t=Tb(),e=Rh(),{log:s}=ua(),i=ca(),n=Ch(),{defaultOptions:r,spawnWorker:o,terminateWorker:a,onMessage:l,loadImage:c,send:u}=Lb();let h=0;return Yr=async(d="eng",f=n.LSTM_ONLY,m={},g={})=>{const p=i("Worker",h),{logger:b,errorHandler:w,...v}=t({...r,...m}),x={},T=typeof d=="string"?d.split("+"):d;let P=f,M=g;const j=[n.DEFAULT,n.LSTM_ONLY].includes(f)&&!v.legacyCore;let H,Q;const G=new Promise((ee,X)=>{Q=ee,H=X}),ie=ee=>{H(ee.message)};let ue=o(v);ue.onerror=ie,h+=1;const me=({id:ee,action:X,payload:Te})=>new Promise((_,y)=>{s(`[${p}]: Start ${ee}, action=${X}`);const S=`${X}-${ee}`;x[S]={resolve:_,reject:y},u(ue,{workerId:p,jobId:ee,action:X,payload:Te})}),he=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),ne=ee=>me(e({id:ee,action:"load",payload:{options:{lstmOnly:j,corePath:v.corePath,logging:v.logging}}})),Z=(ee,X,Te)=>me(e({id:Te,action:"FS",payload:{method:"writeFile",args:[ee,X]}})),re=(ee,X)=>me(e({id:X,action:"FS",payload:{method:"readFile",args:[ee,{encoding:"utf8"}]}})),E=(ee,X)=>me(e({id:X,action:"FS",payload:{method:"unlink",args:[ee]}})),k=(ee,X,Te)=>me(e({id:Te,action:"FS",payload:{method:ee,args:X}})),I=(ee,X)=>me(e({id:X,action:"loadLanguage",payload:{langs:ee,options:{langPath:v.langPath,dataPath:v.dataPath,cachePath:v.cachePath,cacheMethod:v.cacheMethod,gzip:v.gzip,lstmOnly:[n.DEFAULT,n.LSTM_ONLY].includes(P)&&!v.legacyLang}}})),B=(ee,X,Te,_)=>me(e({id:_,action:"initialize",payload:{langs:ee,oem:X,config:Te}})),U=(ee="eng",X,Te,_)=>{if(j&&[n.TESSERACT_ONLY,n.TESSERACT_LSTM_COMBINED].includes(X))throw Error("Legacy model requested but code missing.");const y=X||P;P=y;const S=Te||M;M=S;const O=(typeof ee=="string"?ee.split("+"):ee).filter(A=>!T.includes(A));return T.push(...O),O.length>0?I(O,_).then(()=>B(ee,y,S,_)):B(ee,y,S,_)},se=(ee={},X)=>me(e({id:X,action:"setParameters",payload:{params:ee}})),ke=async(ee,X={},Te={text:!0},_)=>me(e({id:_,action:"recognize",payload:{image:await c(ee),options:X,output:Te}})),de=async(ee,X)=>{if(j)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return me(e({id:X,action:"detect",payload:{image:await c(ee)}}))},Ie=async()=>(ue!==null&&(a(ue),ue=null),Promise.resolve());l(ue,({workerId:ee,jobId:X,status:Te,action:_,data:y})=>{const S=`${_}-${X}`;if(Te==="resolve")s(`[${ee}]: Complete ${X}`),x[S].resolve({jobId:X,data:y}),delete x[S];else if(Te==="reject")if(x[S].reject(y),delete x[S],_==="load"&&H(y),w)w(y);else throw Error(y);else Te==="progress"&&b({...y,userJobId:X})});const Re={id:p,worker:ue,load:he,writeText:Z,readText:re,removeFile:E,FS:k,reinitialize:U,setParameters:se,recognize:ke,detect:de,terminate:Ie};return ne().then(()=>I(d)).then(()=>B(d,f,g)).then(()=>Q(Re)).catch(()=>{}),G},Yr}var Xr,zl;function jb(){if(zl)return Xr;zl=1;const t=Ph();return Xr={recognize:async(i,n,r)=>{const o=await t(n,1,r);return o.recognize(i).finally(async()=>{await o.terminate()})},detect:async(i,n)=>{const r=await t("osd",0,n);return r.detect(i).finally(async()=>{await r.terminate()})}},Xr}var Qr,Vl;function $b(){return Vl||(Vl=1,Qr={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}),Qr}var Zr,ql;function Nb(){return ql||(ql=1,Zr={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}),Zr}var eo,Kl;function Fb(){if(Kl)return eo;Kl=1,wb();const t=xb(),e=Ph(),s=jb(),i=$b(),n=Ch(),r=Nb(),{setLogging:o}=ua();return eo={languages:i,OEM:n,PSM:r,createScheduler:t,createWorker:e,setLogging:o,...s},eo}var Bb=Fb();const Ub=vb(Bb),Hb={class:"overlay"},Wb={class:"panel"},zb={class:"tabs"},Vb={key:0,class:"manual-form"},qb={class:"form-group"},Kb={class:"form-group"},Gb={class:"form-group"},Jb={class:"form-group"},Yb={class:"form-group"},Xb={key:1,class:"food-list"},Qb=["onClick"],Zb={key:2,class:"camera-mode"},e_={key:0},t_={key:1},s_=["src"],i_={key:0},n_={__name:"MealForm",emits:["add","close"],setup(t,{emit:e}){const s=Je(null),i=Je({calorie:0,protein:0,fat:0,carb:0}),n=async()=>{if(!s.value)return;const p=(await Ub.recognize(s.value,"eng")).data.text;console.log("OCR:",p);const b=/calories?\s*[:=]?\s*(\d+)/i,w=/protein\s*[:=]?\s*(\d+)/i,v=/fat\s*[:=]?\s*(\d+)/i,x=/carbs?\s*[:=]?\s*(\d+)/i;i.value.calorie=Number((p.match(b)||[0,0])[1]),i.value.protein=Number((p.match(w)||[0,0])[1]),i.value.fat=Number((p.match(v)||[0,0])[1]),i.value.carb=Number((p.match(x)||[0,0])[1]),l.value={name:"OCR",...i.value}},r=async()=>{try{const g=await navigator.mediaDevices.getUserMedia({video:!0}),p=document.createElement("video");p.srcObject=g,await p.play();const b=document.createElement("canvas");b.width=p.videoWidth,b.height=p.videoHeight,b.getContext("2d").drawImage(p,0,0,b.width,b.height),s.value=b.toDataURL("image/png"),g.getTracks().forEach(v=>v.stop())}catch(g){console.error(":",g),alert("")}},o=e,a=Je("manual"),l=Je({name:"",calorie:0,protein:0,fat:0,carb:0}),c=Je([]),u=Je(null);rr(async()=>{const{data:g,error:p}=await Ol.from("foods").select("*");p||(c.value=g)});const h=g=>{u.value=g,l.value={...g}},d=async()=>{l.value.name&&(a.value==="manual"?await f():a.value==="db"&&await m(),o("add",{...l.value}),o("close"),l.value={name:"",calorie:0,protein:0,fat:0,carb:0},u.value=null)},f=async()=>{const{data:g,error:p}=await Ol.from("foods").insert([{name:l.value.name,calorie:Number(l.value.calorie),protein:Number(l.value.protein),fat:Number(l.value.fat),carb:Number(l.value.carb)}]).select();p&&(console.error("DB:",p),alert("DB"))},m=async()=>{console.log("DB:",l.value)};return(g,p)=>(De(),Ge("div",Hb,[F("div",Wb,[p[15]||(p[15]=F("h2",null," ",-1)),F("div",zb,[F("button",{onClick:p[0]||(p[0]=b=>a.value="manual"),class:Pt({active:a.value==="manual"})},"",2),F("button",{onClick:p[1]||(p[1]=b=>a.value="db"),class:Pt({active:a.value==="db"})},"DB",2),F("button",{onClick:p[2]||(p[2]=b=>a.value="camera"),class:Pt({active:a.value==="camera"})},"",2)]),a.value==="manual"?(De(),Ge("div",Vb,[F("div",qb,[p[10]||(p[10]=F("label",null,"",-1)),Rt(F("input",{"onUpdate:modelValue":p[3]||(p[3]=b=>l.value.name=b),placeholder:": "},null,512),[[Ct,l.value.name]])]),F("div",Kb,[p[11]||(p[11]=F("label",null,"(kcal)",-1)),Rt(F("input",{type:"number","onUpdate:modelValue":p[4]||(p[4]=b=>l.value.calorie=b),placeholder:": 165"},null,512),[[Ct,l.value.calorie]])]),F("div",Gb,[p[12]||(p[12]=F("label",null,"(P, g)",-1)),Rt(F("input",{type:"number","onUpdate:modelValue":p[5]||(p[5]=b=>l.value.protein=b),placeholder:": 31"},null,512),[[Ct,l.value.protein]])]),F("div",Jb,[p[13]||(p[13]=F("label",null,"(F, g)",-1)),Rt(F("input",{type:"number","onUpdate:modelValue":p[6]||(p[6]=b=>l.value.fat=b),placeholder:": 3.6"},null,512),[[Ct,l.value.fat]])]),F("div",Yb,[p[14]||(p[14]=F("label",null,"(C, g)",-1)),Rt(F("input",{type:"number","onUpdate:modelValue":p[7]||(p[7]=b=>l.value.carb=b),placeholder:": 0"},null,512),[[Ct,l.value.carb]])])])):ks("",!0),a.value==="db"?(De(),Ge("div",Xb,[(De(!0),Ge(ft,null,Af(c.value,b=>(De(),Ge("div",{key:b.id,class:Pt(["food-item",{selected:u.value&&u.value.id===b.id}]),onClick:w=>h(b)},[F("strong",null,Oe(b.name),1),F("p",null,Oe(b.calorie)+"kcal | P"+Oe(b.protein)+" F"+Oe(b.fat)+" C"+Oe(b.carb),1)],10,Qb))),128))])):ks("",!0),a.value==="camera"?(De(),Ge("div",Zb,[s.value?(De(),Ge("div",t_,[F("img",{src:s.value,alt:"Captured"},null,8,s_),F("button",{onClick:n}," "),i.value.calorie||i.value.protein||i.value.fat||i.value.carb?(De(),Ge("div",i_,[F("p",null,": "+Oe(i.value.calorie)+" kcal",1),F("p",null,": "+Oe(i.value.protein)+" g",1),F("p",null,": "+Oe(i.value.fat)+" g",1),F("p",null,": "+Oe(i.value.carb)+" g",1)])):ks("",!0),F("button",{onClick:p[8]||(p[8]=b=>s.value=null)},"")])):(De(),Ge("div",e_,[F("button",{onClick:r}," ")]))])):ks("",!0),F("button",{onClick:d},""),F("button",{class:"close",onClick:p[9]||(p[9]=b=>g.$emit("close"))},"")])]))}},r_=oa(n_,[["__scopeId","data-v-60714683"]]);function en(t){return t+.5|0}const Zt=(t,e,s)=>Math.max(Math.min(t,s),e);function vi(t){return Zt(en(t*2.55),0,255)}function ns(t){return Zt(en(t*255),0,255)}function Bt(t){return Zt(en(t/2.55)/100,0,1)}function Gl(t){return Zt(en(t*100),0,100)}const ot={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},jo=[..."0123456789ABCDEF"],o_=t=>jo[t&15],a_=t=>jo[(t&240)>>4]+jo[t&15],dn=t=>(t&240)>>4===(t&15),l_=t=>dn(t.r)&&dn(t.g)&&dn(t.b)&&dn(t.a);function c_(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&ot[t[1]]*17,g:255&ot[t[2]]*17,b:255&ot[t[3]]*17,a:e===5?ot[t[4]]*17:255}:(e===7||e===9)&&(s={r:ot[t[1]]<<4|ot[t[2]],g:ot[t[3]]<<4|ot[t[4]],b:ot[t[5]]<<4|ot[t[6]],a:e===9?ot[t[7]]<<4|ot[t[8]]:255})),s}const u_=(t,e)=>t<255?e(t):"";function h_(t){var e=l_(t)?o_:a_;return t?"#"+e(t.r)+e(t.g)+e(t.b)+u_(t.a,e):void 0}const d_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ih(t,e,s){const i=e*Math.min(s,1-s),n=(r,o=(r+t/30)%12)=>s-i*Math.max(Math.min(o-3,9-o,1),-1);return[n(0),n(8),n(4)]}function f_(t,e,s){const i=(n,r=(n+t/60)%6)=>s-s*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function g_(t,e,s){const i=Ih(t,1,.5);let n;for(e+s>1&&(n=1/(e+s),e*=n,s*=n),n=0;n<3;n++)i[n]*=1-e-s,i[n]+=e;return i}function p_(t,e,s,i,n){return t===n?(e-s)/i+(e<s?6:0):e===n?(s-t)/i+2:(t-e)/i+4}function ha(t){const s=t.r/255,i=t.g/255,n=t.b/255,r=Math.max(s,i,n),o=Math.min(s,i,n),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=p_(s,i,n,u,r),l=l*60+.5),[l|0,c||0,a]}function da(t,e,s,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,i)).map(ns)}function fa(t,e,s){return da(Ih,t,e,s)}function m_(t,e,s){return da(g_,t,e,s)}function b_(t,e,s){return da(f_,t,e,s)}function Mh(t){return(t%360+360)%360}function __(t){const e=d_.exec(t);let s=255,i;if(!e)return;e[5]!==i&&(s=e[6]?vi(+e[5]):ns(+e[5]));const n=Mh(+e[2]),r=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=m_(n,r,o):e[1]==="hsv"?i=b_(n,r,o):i=fa(n,r,o),{r:i[0],g:i[1],b:i[2],a:s}}function y_(t,e){var s=ha(t);s[0]=Mh(s[0]+e),s=fa(s),t.r=s[0],t.g=s[1],t.b=s[2]}function v_(t){if(!t)return;const e=ha(t),s=e[0],i=Gl(e[1]),n=Gl(e[2]);return t.a<255?`hsla(${s}, ${i}%, ${n}%, ${Bt(t.a)})`:`hsl(${s}, ${i}%, ${n}%)`}const Jl={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Yl={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function w_(){const t={},e=Object.keys(Yl),s=Object.keys(Jl);let i,n,r,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],n=0;n<s.length;n++)r=s[n],a=a.replace(r,Jl[r]);r=parseInt(Yl[o],16),t[a]=[r>>16&255,r>>8&255,r&255]}return t}let fn;function x_(t){fn||(fn=w_(),fn.transparent=[0,0,0,0]);const e=fn[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const S_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function k_(t){const e=S_.exec(t);let s=255,i,n,r;if(e){if(e[7]!==i){const o=+e[7];s=e[8]?vi(o):Zt(o*255,0,255)}return i=+e[1],n=+e[3],r=+e[5],i=255&(e[2]?vi(i):Zt(i,0,255)),n=255&(e[4]?vi(n):Zt(n,0,255)),r=255&(e[6]?vi(r):Zt(r,0,255)),{r:i,g:n,b:r,a:s}}}function T_(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Bt(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const to=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Fs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function O_(t,e,s){const i=Fs(Bt(t.r)),n=Fs(Bt(t.g)),r=Fs(Bt(t.b));return{r:ns(to(i+s*(Fs(Bt(e.r))-i))),g:ns(to(n+s*(Fs(Bt(e.g))-n))),b:ns(to(r+s*(Fs(Bt(e.b))-r))),a:t.a+s*(e.a-t.a)}}function gn(t,e,s){if(t){let i=ha(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*s,e===0?360:1)),i=fa(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function Dh(t,e){return t&&Object.assign(e||{},t)}function Xl(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=ns(t[3]))):(e=Dh(t,{r:0,g:0,b:0,a:1}),e.a=ns(e.a)),e}function E_(t){return t.charAt(0)==="r"?k_(t):__(t)}class qi{constructor(e){if(e instanceof qi)return e;const s=typeof e;let i;s==="object"?i=Xl(e):s==="string"&&(i=c_(e)||x_(e)||E_(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Dh(this._rgb);return e&&(e.a=Bt(e.a)),e}set rgb(e){this._rgb=Xl(e)}rgbString(){return this._valid?T_(this._rgb):void 0}hexString(){return this._valid?h_(this._rgb):void 0}hslString(){return this._valid?v_(this._rgb):void 0}mix(e,s){if(e){const i=this.rgb,n=e.rgb;let r;const o=s===r?.5:s,a=2*o-1,l=i.a-n.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*n.r+.5,i.g=255&c*i.g+r*n.g+.5,i.b=255&c*i.b+r*n.b+.5,i.a=o*i.a+(1-o)*n.a,this.rgb=i}return this}interpolate(e,s){return e&&(this._rgb=O_(this._rgb,e._rgb,s)),this}clone(){return new qi(this.rgb)}alpha(e){return this._rgb.a=ns(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=en(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return gn(this._rgb,2,e),this}darken(e){return gn(this._rgb,2,-e),this}saturate(e){return gn(this._rgb,1,e),this}desaturate(e){return gn(this._rgb,1,-e),this}rotate(e){return y_(this._rgb,e),this}}function Lt(){}const A_=(()=>{let t=0;return()=>t++})();function _e(t){return t==null}function Le(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function le(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ct(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function kt(t,e){return ct(t)?t:e}function ce(t,e){return typeof t>"u"?e:t}const R_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function xe(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function pe(t,e,s,i){let n,r,o;if(Le(t))for(r=t.length,n=0;n<r;n++)e.call(s,t[n],n);else if(le(t))for(o=Object.keys(t),r=o.length,n=0;n<r;n++)e.call(s,t[o[n]],o[n])}function zn(t,e){let s,i,n,r;if(!t||!e||t.length!==e.length)return!1;for(s=0,i=t.length;s<i;++s)if(n=t[s],r=e[s],n.datasetIndex!==r.datasetIndex||n.index!==r.index)return!1;return!0}function Vn(t){if(Le(t))return t.map(Vn);if(le(t)){const e=Object.create(null),s=Object.keys(t),i=s.length;let n=0;for(;n<i;++n)e[s[n]]=Vn(t[s[n]]);return e}return t}function Lh(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function C_(t,e,s,i){if(!Lh(t))return;const n=e[t],r=s[t];le(n)&&le(r)?Ki(n,r,i):e[t]=Vn(r)}function Ki(t,e,s){const i=Le(e)?e:[e],n=i.length;if(!le(t))return t;s=s||{};const r=s.merger||C_;let o;for(let a=0;a<n;++a){if(o=i[a],!le(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],t,o,s)}return t}function Ii(t,e){return Ki(t,e,{merger:P_})}function P_(t,e,s){if(!Lh(t))return;const i=e[t],n=s[t];le(i)&&le(n)?Ii(i,n):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Vn(n))}const Ql={"":t=>t,x:t=>t.x,y:t=>t.y};function I_(t){const e=t.split("."),s=[];let i="";for(const n of e)i+=n,i.endsWith("\\")?i=i.slice(0,-1)+".":(s.push(i),i="");return s}function M_(t){const e=I_(t);return s=>{for(const i of e){if(i==="")break;s=s&&s[i]}return s}}function ii(t,e){return(Ql[e]||(Ql[e]=M_(e)))(t)}function ga(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Gi=t=>typeof t<"u",cs=t=>typeof t=="function",Zl=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function D_(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ze=Math.PI,rs=2*Ze,qn=Number.POSITIVE_INFINITY,L_=Ze/180,pt=Ze/2,ps=Ze/4,ec=Ze*2/3,jh=Math.log10,os=Math.sign;function Rn(t,e,s){return Math.abs(t-e)<s}function tc(t){const e=Math.round(t);t=Rn(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(jh(t))),i=t/s;return(i<=1?1:i<=2?2:i<=5?5:10)*s}function j_(t){const e=[],s=Math.sqrt(t);let i;for(i=1;i<s;i++)t%i===0&&(e.push(i),e.push(t/i));return s===(s|0)&&e.push(s),e.sort((n,r)=>n-r).pop(),e}function $_(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Kn(t){return!$_(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function N_(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function F_(t,e,s){let i,n,r;for(i=0,n=t.length;i<n;i++)r=t[i][s],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function Os(t){return t*(Ze/180)}function B_(t){return t*(180/Ze)}function sc(t){if(!ct(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function U_(t,e){const s=e.x-t.x,i=e.y-t.y,n=Math.sqrt(s*s+i*i);let r=Math.atan2(i,s);return r<-.5*Ze&&(r+=rs),{angle:r,distance:n}}function H_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ms(t){return(t%rs+rs)%rs}function W_(t,e,s,i){const n=ms(t),r=ms(e),o=ms(s),a=ms(r-n),l=ms(o-n),c=ms(n-r),u=ms(n-o);return n===r||n===o||i||a>l&&c<u}function mt(t,e,s){return Math.max(e,Math.min(s,t))}function z_(t){return mt(t,-32768,32767)}function Ks(t,e,s,i=1e-6){return t>=Math.min(e,s)-i&&t<=Math.max(e,s)+i}function pa(t,e,s){s=s||(o=>t[o]<e);let i=t.length-1,n=0,r;for(;i-n>1;)r=n+i>>1,s(r)?n=r:i=r;return{lo:n,hi:i}}const $o=(t,e,s,i)=>pa(t,s,i?n=>{const r=t[n][e];return r<s||r===s&&t[n+1][e]===s}:n=>t[n][e]<s),V_=(t,e,s)=>pa(t,s,i=>t[i][e]>=s);function q_(t,e,s){let i=0,n=t.length;for(;i<n&&t[i]<e;)i++;for(;n>i&&t[n-1]>s;)n--;return i>0||n<t.length?t.slice(i,n):t}const $h=["push","pop","shift","splice","unshift"];function K_(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),$h.forEach(s=>{const i="_onData"+ga(s),n=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...r){const o=n.apply(this,r);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function ic(t,e){const s=t._chartjs;if(!s)return;const i=s.listeners,n=i.indexOf(e);n!==-1&&i.splice(n,1),!(i.length>0)&&($h.forEach(r=>{delete t[r]}),delete t._chartjs)}function Nh(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Fh=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function Bh(t,e){let s=[],i=!1;return function(...n){s=n,i||(i=!0,Fh.call(window,()=>{i=!1,t.apply(e,s)}))}}function G_(t,e){let s;return function(...i){return e?(clearTimeout(s),s=setTimeout(t,e,i)):t.apply(this,i),e}}const Uh=t=>t==="start"?"left":t==="end"?"right":"center",it=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,J_=(t,e,s,i)=>t===(i?"left":"right")?s:t==="center"?(e+s)/2:e,pn=t=>t===0||t===1,nc=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*rs/s)),rc=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*rs/s)+1,Mi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*pt)+1,easeOutSine:t=>Math.sin(t*pt),easeInOutSine:t=>-.5*(Math.cos(Ze*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>pn(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>pn(t)?t:nc(t,.075,.3),easeOutElastic:t=>pn(t)?t:rc(t,.075,.3),easeInOutElastic(t){return pn(t)?t:t<.5?.5*nc(t*2,.1125,.45):.5+.5*rc(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Mi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Mi.easeInBounce(t*2)*.5:Mi.easeOutBounce(t*2-1)*.5+.5};function Hh(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function oc(t){return Hh(t)?t:new qi(t)}function so(t){return Hh(t)?t:new qi(t).saturate(.5).darken(.1).hexString()}const Y_=["x","y","borderWidth","radius","tension"],X_=["color","borderColor","backgroundColor"];function Q_(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:X_},numbers:{type:"number",properties:Y_}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Z_(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ac=new Map;function ey(t,e){e=e||{};const s=t+JSON.stringify(e);let i=ac.get(s);return i||(i=new Intl.NumberFormat(t,e),ac.set(s,i)),i}function Wh(t,e,s){return ey(e,s).format(t)}const ty={values(t){return Le(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const i=this.chart.options.locale;let n,r=t;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(n="scientific"),r=sy(t,s)}const o=jh(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:n,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Wh(t,i,l)}};function sy(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var zh={formatters:ty};function iy(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:zh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Cs=Object.create(null),No=Object.create(null);function Di(t,e){if(!e)return t;const s=e.split(".");for(let i=0,n=s.length;i<n;++i){const r=s[i];t=t[r]||(t[r]=Object.create(null))}return t}function io(t,e,s){return typeof e=="string"?Ki(Di(t,e),s):Ki(Di(t,""),e)}class ny{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>so(n.backgroundColor),this.hoverBorderColor=(i,n)=>so(n.borderColor),this.hoverColor=(i,n)=>so(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return io(this,e,s)}get(e){return Di(this,e)}describe(e,s){return io(No,e,s)}override(e,s){return io(Cs,e,s)}route(e,s,i,n){const r=Di(this,e),o=Di(this,i),a="_"+s;Object.defineProperties(r,{[a]:{value:r[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=o[n];return le(l)?Object.assign({},c,l):ce(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(s=>s(this))}}var Ae=new ny({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Q_,Z_,iy]);function ry(t){return!t||_e(t.size)||_e(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function lc(t,e,s,i,n){let r=e[n];return r||(r=e[n]=t.measureText(n).width,s.push(n)),r>i&&(i=r),i}function bs(t,e,s){const i=t.currentDevicePixelRatio,n=s!==0?Math.max(s/2,.5):0;return Math.round((e-n)*i)/i+n}function cc(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function uc(t,e,s,i){Vh(t,e,s,i,null)}function Vh(t,e,s,i,n){let r,o,a,l,c,u,h,d;const f=e.pointStyle,m=e.rotation,g=e.radius;let p=(m||0)*L_;if(f&&typeof f=="object"&&(r=f.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){t.save(),t.translate(s,i),t.rotate(p),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:n?t.ellipse(s,i,n/2,g,0,0,rs):t.arc(s,i,g,0,rs),t.closePath();break;case"triangle":u=n?n/2:g,t.moveTo(s+Math.sin(p)*u,i-Math.cos(p)*g),p+=ec,t.lineTo(s+Math.sin(p)*u,i-Math.cos(p)*g),p+=ec,t.lineTo(s+Math.sin(p)*u,i-Math.cos(p)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(p+ps)*l,h=Math.cos(p+ps)*(n?n/2-c:l),a=Math.sin(p+ps)*l,d=Math.sin(p+ps)*(n?n/2-c:l),t.arc(s-h,i-a,c,p-Ze,p-pt),t.arc(s+d,i-o,c,p-pt,p),t.arc(s+h,i+a,c,p,p+pt),t.arc(s-d,i+o,c,p+pt,p+Ze),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,u=n?n/2:l,t.rect(s-u,i-l,2*u,2*l);break}p+=ps;case"rectRot":h=Math.cos(p)*(n?n/2:g),o=Math.cos(p)*g,a=Math.sin(p)*g,d=Math.sin(p)*(n?n/2:g),t.moveTo(s-h,i-a),t.lineTo(s+d,i-o),t.lineTo(s+h,i+a),t.lineTo(s-d,i+o),t.closePath();break;case"crossRot":p+=ps;case"cross":h=Math.cos(p)*(n?n/2:g),o=Math.cos(p)*g,a=Math.sin(p)*g,d=Math.sin(p)*(n?n/2:g),t.moveTo(s-h,i-a),t.lineTo(s+h,i+a),t.moveTo(s+d,i-o),t.lineTo(s-d,i+o);break;case"star":h=Math.cos(p)*(n?n/2:g),o=Math.cos(p)*g,a=Math.sin(p)*g,d=Math.sin(p)*(n?n/2:g),t.moveTo(s-h,i-a),t.lineTo(s+h,i+a),t.moveTo(s+d,i-o),t.lineTo(s-d,i+o),p+=ps,h=Math.cos(p)*(n?n/2:g),o=Math.cos(p)*g,a=Math.sin(p)*g,d=Math.sin(p)*(n?n/2:g),t.moveTo(s-h,i-a),t.lineTo(s+h,i+a),t.moveTo(s+d,i-o),t.lineTo(s-d,i+o);break;case"line":o=n?n/2:Math.cos(p)*g,a=Math.sin(p)*g,t.moveTo(s-o,i-a),t.lineTo(s+o,i+a);break;case"dash":t.moveTo(s,i),t.lineTo(s+Math.cos(p)*(n?n/2:g),i+Math.sin(p)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function qh(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function ma(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ba(t){t.restore()}function oy(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),_e(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function ay(t,e,s,i,n){if(n.strikethrough||n.underline){const r=t.measureText(i),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=s-r.actualBoundingBoxAscent,c=s+r.actualBoundingBoxDescent,u=n.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=n.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function ly(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function Gn(t,e,s,i,n,r={}){const o=Le(e)?e:[e],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(t.save(),t.font=n.string,oy(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&ly(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),_e(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,s,i,r.maxWidth)),t.fillText(c,s,i,r.maxWidth),ay(t,s,i,c,r),i+=Number(n.lineHeight);t.restore()}function Jn(t,e){const{x:s,y:i,w:n,h:r,radius:o}=e;t.arc(s+o.topLeft,i+o.topLeft,o.topLeft,1.5*Ze,Ze,!0),t.lineTo(s,i+r-o.bottomLeft),t.arc(s+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Ze,pt,!0),t.lineTo(s+n-o.bottomRight,i+r),t.arc(s+n-o.bottomRight,i+r-o.bottomRight,o.bottomRight,pt,0,!0),t.lineTo(s+n,i+o.topRight),t.arc(s+n-o.topRight,i+o.topRight,o.topRight,0,-pt,!0),t.lineTo(s+o.topLeft,i)}const cy=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,uy=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hy(t,e){const s=(""+t).match(cy);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const dy=t=>+t||0;function Kh(t,e){const s={},i=le(e),n=i?Object.keys(e):e,r=le(t)?i?o=>ce(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of n)s[o]=dy(r(o));return s}function Gh(t){return Kh(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Zs(t){return Kh(t,["topLeft","topRight","bottomLeft","bottomRight"])}function yt(t){const e=Gh(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Qe(t,e){t=t||{},e=e||Ae.font;let s=ce(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let i=ce(t.style,e.style);i&&!(""+i).match(uy)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const n={family:ce(t.family,e.family),lineHeight:hy(ce(t.lineHeight,e.lineHeight),s),size:s,style:i,weight:ce(t.weight,e.weight),string:""};return n.string=ry(n),n}function mn(t,e,s,i){let n,r,o;for(n=0,r=t.length;n<r;++n)if(o=t[n],o!==void 0&&o!==void 0)return o}function fy(t,e,s){const{min:i,max:n}=t,r=R_(e,(n-i)/2),o=(a,l)=>s&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(n,r)}}function oi(t,e){return Object.assign(Object.create(t),e)}function _a(t,e=[""],s,i,n=()=>t[0]){const r=s||t;typeof i>"u"&&(i=Qh("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:r,_fallback:i,_getTarget:n,override:a=>_a([a,...t],e,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Yh(a,l,()=>wy(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return dc(a).includes(l)},ownKeys(a){return dc(a)},set(a,l,c){const u=a._storage||(a._storage=n());return a[l]=u[l]=c,delete a._keys,!0}})}function ni(t,e,s,i){const n={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:Jh(t,i),setContext:r=>ni(t,r,s,i),override:r=>ni(t.override(r),e,s,i)};return new Proxy(n,{deleteProperty(r,o){return delete r[o],delete t[o],!0},get(r,o,a){return Yh(r,o,()=>py(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(r,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(r,o,a){return t[o]=a,delete r[o],!0}})}function Jh(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:i=e.indexable,_allKeys:n=e.allKeys}=t;return{allKeys:n,scriptable:s,indexable:i,isScriptable:cs(s)?s:()=>s,isIndexable:cs(i)?i:()=>i}}const gy=(t,e)=>t?t+ga(e):e,ya=(t,e)=>le(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Yh(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=s();return t[e]=i,i}function py(t,e,s){const{_proxy:i,_context:n,_subProxy:r,_descriptors:o}=t;let a=i[e];return cs(a)&&o.isScriptable(e)&&(a=my(e,a,t,s)),Le(a)&&a.length&&(a=by(e,a,t,o.isIndexable)),ya(e,a)&&(a=ni(a,n,r&&r[e],o)),a}function my(t,e,s,i){const{_proxy:n,_context:r,_subProxy:o,_stack:a}=s;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(r,o||i);return a.delete(t),ya(t,l)&&(l=va(n._scopes,n,t,l)),l}function by(t,e,s,i){const{_proxy:n,_context:r,_subProxy:o,_descriptors:a}=s;if(typeof r.index<"u"&&i(t))return e[r.index%e.length];if(le(e[0])){const l=e,c=n._scopes.filter(u=>u!==l);e=[];for(const u of l){const h=va(c,n,t,u);e.push(ni(h,r,o&&o[t],a))}}return e}function Xh(t,e,s){return cs(t)?t(e,s):t}const _y=(t,e)=>t===!0?e:typeof t=="string"?ii(e,t):void 0;function yy(t,e,s,i,n){for(const r of e){const o=_y(s,r);if(o){t.add(o);const a=Xh(o._fallback,s,n);if(typeof a<"u"&&a!==s&&a!==i)return a}else if(o===!1&&typeof i<"u"&&s!==i)return null}return!1}function va(t,e,s,i){const n=e._rootScopes,r=Xh(e._fallback,s,i),o=[...t,...n],a=new Set;a.add(i);let l=hc(a,o,s,r||s,i);return l===null||typeof r<"u"&&r!==s&&(l=hc(a,o,r,l,i),l===null)?!1:_a(Array.from(a),[""],n,r,()=>vy(e,s,i))}function hc(t,e,s,i,n){for(;s;)s=yy(t,e,s,i,n);return s}function vy(t,e,s){const i=t._getTarget();e in i||(i[e]={});const n=i[e];return Le(n)&&le(s)?s:n||{}}function wy(t,e,s,i){let n;for(const r of e)if(n=Qh(gy(r,t),s),typeof n<"u")return ya(t,n)?va(s,i,t,n):n}function Qh(t,e){for(const s of e){if(!s)continue;const i=s[t];if(typeof i<"u")return i}}function dc(t){let e=t._keys;return e||(e=t._keys=xy(t._scopes)),e}function xy(t){const e=new Set;for(const s of t)for(const i of Object.keys(s).filter(n=>!n.startsWith("_")))e.add(i);return Array.from(e)}function wa(){return typeof window<"u"&&typeof document<"u"}function xa(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Yn(t,e,s){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[s])):i=t,i}const fr=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Sy(t,e){return fr(t).getPropertyValue(e)}const ky=["top","right","bottom","left"];function Rs(t,e,s){const i={};s=s?"-"+s:"";for(let n=0;n<4;n++){const r=ky[n];i[r]=parseFloat(t[e+"-"+r+s])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Ty=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function Oy(t,e){const s=t.touches,i=s&&s.length?s[0]:t,{offsetX:n,offsetY:r}=i;let o=!1,a,l;if(Ty(n,r,t.target))a=n,l=r;else{const c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ws(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:i}=e,n=fr(s),r=n.boxSizing==="border-box",o=Rs(n,"padding"),a=Rs(n,"border","width"),{x:l,y:c,box:u}=Oy(t,s),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:m}=e;return r&&(f-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-h)/f*s.width/i),y:Math.round((c-d)/m*s.height/i)}}function Ey(t,e,s){let i,n;if(e===void 0||s===void 0){const r=t&&xa(t);if(!r)e=t.clientWidth,s=t.clientHeight;else{const o=r.getBoundingClientRect(),a=fr(r),l=Rs(a,"border","width"),c=Rs(a,"padding");e=o.width-c.width-l.width,s=o.height-c.height-l.height,i=Yn(a.maxWidth,r,"clientWidth"),n=Yn(a.maxHeight,r,"clientHeight")}}return{width:e,height:s,maxWidth:i||qn,maxHeight:n||qn}}const es=t=>Math.round(t*10)/10;function Ay(t,e,s,i){const n=fr(t),r=Rs(n,"margin"),o=Yn(n.maxWidth,t,"clientWidth")||qn,a=Yn(n.maxHeight,t,"clientHeight")||qn,l=Ey(t,e,s);let{width:c,height:u}=l;if(n.boxSizing==="content-box"){const d=Rs(n,"border","width"),f=Rs(n,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=es(Math.min(c,o,l.maxWidth)),u=es(Math.min(u,a,l.maxHeight)),c&&!u&&(u=es(c/2)),(e!==void 0||s!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=es(Math.floor(u*i))),{width:c,height:u}}function fc(t,e,s){const i=e||1,n=es(t.height*i),r=es(t.width*i);t.height=es(t.height),t.width=es(t.width);const o=t.canvas;return o.style&&(s||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==n||o.width!==r?(t.currentDevicePixelRatio=i,o.height=n,o.width=r,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Ry=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};wa()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function gc(t,e){const s=Sy(t,e),i=s&&s.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const Cy=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,i){return s-i},leftForLtr(s,i){return s-i}}},Py=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ei(t,e,s){return t?Cy(e,s):Py()}function Zh(t,e){let s,i;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,i=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=i)}function ed(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function bn(t,e,s){return t.options.clip?t[s]:e[s]}function Iy(t,e){const{xScale:s,yScale:i}=t;return s&&i?{left:bn(s,e,"left"),right:bn(s,e,"right"),top:bn(i,e,"top"),bottom:bn(i,e,"bottom")}:e}function My(t,e){const s=e._clip;if(s.disabled)return!1;const i=Iy(e,t.chartArea);return{left:s.left===!1?0:i.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:i.right+(s.right===!0?0:s.right),top:s.top===!1?0:i.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:i.bottom+(s.bottom===!0?0:s.bottom)}}class Dy{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,i,n){const r=s.listeners[n],o=s.duration;r.forEach(a=>a({chart:e,initial:s.initial,numSteps:o,currentStep:Math.min(i-s.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Fh.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((i,n)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(r[o]=r[r.length-1],r.pop());a&&(n.draw(),this._notify(n,i,e,"progress")),r.length||(i.running=!1,this._notify(n,i,e,"complete"),i.initial=!1),s+=r.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let i=s.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,i)),i}listen(e,s,i){this._getAnims(e).listeners[s].push(i)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((i,n)=>Math.max(i,n._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const i=s.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var jt=new Dy;const pc="transparent",Ly={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const i=oc(t||pc),n=i.valid&&oc(e||pc);return n&&n.valid?n.mix(i,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class jy{constructor(e,s,i,n){const r=s[i];n=mn([e.to,n,r,e.from]);const o=mn([e.from,r,n]);this._active=!0,this._fn=e.fn||Ly[e.type||typeof o],this._easing=Mi[e.easing]||Mi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=i,this._from=o,this._to=n,this._promises=void 0}active(){return this._active}update(e,s,i){if(this._active){this._notify(!1);const n=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=mn([e.to,s,n,e.from]),this._from=mn([e.from,n,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,i=this._duration,n=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||s<i),!this._active){this._target[n]=a,this._notify(!0);return}if(s<0){this._target[n]=r;return}l=s/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[n]=this._fn(r,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,i)=>{e.push({res:s,rej:i})})}_notify(e){const s=e?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][s]()}}class td{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!le(e))return;const s=Object.keys(Ae.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const r=e[n];if(!le(r))return;const o={};for(const a of s)o[a]=r[a];(Le(r.properties)&&r.properties||[n]).forEach(a=>{(a===n||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,s){const i=s.options,n=Ny(e,i);if(!n)return[];const r=this._createAnimations(n,i);return i.$shared&&$y(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,s){const i=this._properties,n=[],r=e.$animations||(e.$animations={}),o=Object.keys(s),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){n.push(...this._animateOptions(e,s));continue}const u=s[c];let h=r[c];const d=i.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){e[c]=u;continue}r[c]=h=new jy(d,e,c,u),n.push(h)}return n}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const i=this._createAnimations(e,s);if(i.length)return jt.add(this._chart,i),!0}}function $y(t,e){const s=[],i=Object.keys(e);for(let n=0;n<i.length;n++){const r=t[i[n]];r&&r.active()&&s.push(r.wait())}return Promise.all(s)}function Ny(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function mc(t,e){const s=t&&t.options||{},i=s.reverse,n=s.min===void 0?e:0,r=s.max===void 0?e:0;return{start:i?r:n,end:i?n:r}}function Fy(t,e,s){if(s===!1)return!1;const i=mc(t,s),n=mc(e,s);return{top:n.end,right:i.end,bottom:n.start,left:i.start}}function By(t){let e,s,i,n;return le(t)?(e=t.top,s=t.right,i=t.bottom,n=t.left):e=s=i=n=t,{top:e,right:s,bottom:i,left:n,disabled:t===!1}}function sd(t,e){const s=[],i=t._getSortedDatasetMetas(e);let n,r;for(n=0,r=i.length;n<r;++n)s.push(i[n].index);return s}function bc(t,e,s,i={}){const n=t.keys,r=i.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=n.length;o<a;++o){if(l=+n[o],l===s){if(u=!0,i.all)continue;break}c=t.values[l],ct(c)&&(r||e===0||os(e)===os(c))&&(e+=c)}return!u&&!i.all?0:e}function Uy(t,e){const{iScale:s,vScale:i}=e,n=s.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[n]:u,[r]:t[u]};return a}function no(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function Hy(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function Wy(t){const{min:e,max:s,minDefined:i,maxDefined:n}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:n?s:Number.POSITIVE_INFINITY}}function zy(t,e,s){const i=t[e]||(t[e]={});return i[s]||(i[s]={})}function _c(t,e,s,i){for(const n of e.getMatchingVisibleMetas(i).reverse()){const r=t[n.index];if(s&&r>0||!s&&r<0)return n.index}return null}function yc(t,e){const{chart:s,_cachedMeta:i}=t,n=s._stacks||(s._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=Hy(r,o,i),h=e.length;let d;for(let f=0;f<h;++f){const m=e[f],{[l]:g,[c]:p}=m,b=m._stacks||(m._stacks={});d=b[c]=zy(n,u,g),d[a]=p,d._top=_c(d,o,!0,i.type),d._bottom=_c(d,o,!1,i.type);const w=d._visualValues||(d._visualValues={});w[a]=p}}function ro(t,e){const s=t.scales;return Object.keys(s).filter(i=>s[i].axis===e).shift()}function Vy(t,e){return oi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function qy(t,e,s){return oi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function fi(t,e){const s=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const n of e){const r=n._stacks;if(!r||r[i]===void 0||r[i][s]===void 0)return;delete r[i][s],r[i]._visualValues!==void 0&&r[i]._visualValues[s]!==void 0&&delete r[i]._visualValues[s]}}}const oo=t=>t==="reset"||t==="none",vc=(t,e)=>e?t:Object.assign({},t),Ky=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:sd(s,!0),values:null};class id{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=no(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&fi(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,i=this.getDataset(),n=(h,d,f,m)=>h==="x"?d:h==="r"?m:f,r=s.xAxisID=ce(i.xAxisID,ro(e,"x")),o=s.yAxisID=ce(i.yAxisID,ro(e,"y")),a=s.rAxisID=ce(i.rAxisID,ro(e,"r")),l=s.indexAxis,c=s.iAxisID=n(l,r,o,a),u=s.vAxisID=n(l,o,r,a);s.xScale=this.getScaleForId(r),s.yScale=this.getScaleForId(o),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ic(this._data,this),e._stacked&&fi(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),i=this._data;if(le(s)){const n=this._cachedMeta;this._data=Uy(s,n)}else if(i!==s){if(i){ic(i,this);const n=this._cachedMeta;fi(n),n._parsed=[]}s&&Object.isExtensible(s)&&K_(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const r=s._stacked;s._stacked=no(s.vScale,s),s.stack!==i.stack&&(n=!0,fi(s),s.stack=i.stack),this._resyncElements(e),(n||r!==s._stacked)&&(yc(this,s._parsed),s._stacked=no(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:i,_data:n}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=e===0&&s===n.length?!0:i._sorted,c=e>0&&i._parsed[e-1],u,h,d;if(this._parsing===!1)i._parsed=n,i._sorted=!0,d=n;else{Le(n[e])?d=this.parseArrayData(i,n,e,s):le(n[e])?d=this.parseObjectData(i,n,e,s):d=this.parsePrimitiveData(i,n,e,s);const f=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<s;++u)i._parsed[u+e]=h=d[u],l&&(f()&&(l=!1),c=h);i._sorted=l}o&&yc(this,d)}parsePrimitiveData(e,s,i,n){const{iScale:r,vScale:o}=e,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(n);let d,f,m;for(d=0,f=n;d<f;++d)m=d+i,h[d]={[a]:u||r.parse(c[m],m),[l]:o.parse(s[m],m)};return h}parseArrayData(e,s,i,n){const{xScale:r,yScale:o}=e,a=new Array(n);let l,c,u,h;for(l=0,c=n;l<c;++l)u=l+i,h=s[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(e,s,i,n){const{xScale:r,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(n);let u,h,d,f;for(u=0,h=n;u<h;++u)d=u+i,f=s[d],c[u]={x:r.parse(ii(f,a),d),y:o.parse(ii(f,l),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,i){const n=this.chart,r=this._cachedMeta,o=s[e.axis],a={keys:sd(n,!0),values:s._stacks[e.axis]._visualValues};return bc(a,o,r.index,{mode:i})}updateRangeFromParsed(e,s,i,n){const r=i[s.axis];let o=r===null?NaN:r;const a=n&&i._stacks[s.axis];n&&a&&(n.values=a,o=bc(n,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,s){const i=this._cachedMeta,n=i._parsed,r=i._sorted&&e===i.iScale,o=n.length,a=this._getOtherScale(e),l=Ky(s,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=Wy(a);let d,f;function m(){f=n[d];const g=f[a.axis];return!ct(f[e.axis])||u>g||h<g}for(d=0;d<o&&!(!m()&&(this.updateRangeFromParsed(c,e,f,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!m()){this.updateRangeFromParsed(c,e,f,l);break}}return c}getAllParsedValues(e){const s=this._cachedMeta._parsed,i=[];let n,r,o;for(n=0,r=s.length;n<r;++n)o=s[n][e.axis],ct(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,i=s.iScale,n=s.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:n?""+n.getLabelForValue(r[n.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=By(ce(this.options.clip,Fy(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,i=this._cachedMeta,n=i.data||[],r=s.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||n.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(e,r,a,l),u=a;u<a+l;++u){const h=n[u];h.hidden||(h.active&&c?o.push(h):h.draw(e,r))}for(u=0;u<o.length;++u)o[u].draw(e,r)}getStyle(e,s){const i=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,s,i){const n=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];r=o.$context||(o.$context=qy(this.getContext(),e,o)),r.parsed=this.getParsed(e),r.raw=n.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Vy(this.chart.getContext(),this.index)),r.dataset=n,r.index=r.datasetIndex=this.index;return r.active=!!s,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",i){const n=s==="active",r=this._cachedDataOpts,o=e+"-"+s,a=r[o],l=this.enableOptionSharing&&Gi(i);if(a)return vc(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),h=n?[`${e}Hover`,"hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),u),f=Object.keys(Ae.elements[e]),m=()=>this.getContext(i,n,s),g=c.resolveNamedOptions(d,f,m,h);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(vc(g,l))),g}_resolveAnimations(e,s,i){const n=this.chart,r=this._cachedDataOpts,o=`animation-${s}`,a=r[o];if(a)return a;let l;if(n.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,s),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(e,i,s))}const c=new td(n,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||oo(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const i=this.resolveDataElementOptions(e,s),n=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(s,r)||r!==n;return this.updateSharedOptions(r,s,i),{sharedOptions:r,includeOptions:o}}updateElement(e,s,i,n){oo(n)?Object.assign(e,i):this._resolveAnimations(s,n).update(e,i)}updateSharedOptions(e,s,i){e&&!oo(s)&&this._resolveAnimations(void 0,s).update(e,i)}_setStyle(e,s,i,n){e.active=n;const r=this.getStyle(s,n);this._resolveAnimations(s,i,n).update(e,{options:!n&&this.getSharedOptions(r)||r})}removeHoverStyle(e,s,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,s,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const n=i.length,r=s.length,o=Math.min(r,n);o&&this.parse(0,o),r>n?this._insertElements(n,r-n,e):r<n&&this._removeElements(r,n-r)}_insertElements(e,s,i=!0){const n=this._cachedMeta,r=n.data,o=e+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=o;a--)c[a]=c[a-s]};for(l(r),a=e;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(n._parsed),this.parse(e,s),i&&this.updateElements(r,e,s,"reset")}updateElements(e,s,i,n){}_removeElements(e,s){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(e,s);i._stacked&&fi(i,n)}i.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,i,n]=e;this[s](i,n)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Gy(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let i=[];for(let n=0,r=s.length;n<r;n++)i=i.concat(s[n].controller.getAllParsedValues(t));t._cache.$bar=Nh(i.sort((n,r)=>n-r))}return t._cache.$bar}function Jy(t){const e=t.iScale,s=Gy(e,t.type);let i=e._length,n,r,o,a;const l=()=>{o===32767||o===-32768||(Gi(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(n=0,r=s.length;n<r;++n)o=e.getPixelForValue(s[n]),l();for(a=void 0,n=0,r=e.ticks.length;n<r;++n)o=e.getPixelForTick(n),l();return i}function Yy(t,e,s,i){const n=s.barThickness;let r,o;return _e(n)?(r=e.min*s.categoryPercentage,o=s.barPercentage):(r=n*i,o=1),{chunk:r/i,ratio:o,start:e.pixels[t]-r/2}}function Xy(t,e,s,i){const n=e.pixels,r=n[t];let o=t>0?n[t-1]:null,a=t<n.length-1?n[t+1]:null;const l=s.categoryPercentage;o===null&&(o=r-(a===null?e.end-e.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:s.barPercentage,start:c}}function Qy(t,e,s,i){const n=s.parse(t[0],i),r=s.parse(t[1],i),o=Math.min(n,r),a=Math.max(n,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[s.axis]=c,e._custom={barStart:l,barEnd:c,start:n,end:r,min:o,max:a}}function nd(t,e,s,i){return Le(t)?Qy(t,e,s,i):e[s.axis]=s.parse(t,i),e}function wc(t,e,s,i){const n=t.iScale,r=t.vScale,o=n.getLabels(),a=n===r,l=[];let c,u,h,d;for(c=s,u=s+i;c<u;++c)d=e[c],h={},h[n.axis]=a||n.parse(o[c],c),l.push(nd(d,h,r,c));return l}function ao(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Zy(t,e,s){return t!==0?os(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function ev(t){let e,s,i,n,r;return t.horizontal?(e=t.base>t.x,s="left",i="right"):(e=t.base<t.y,s="bottom",i="top"),e?(n="end",r="start"):(n="start",r="end"),{start:s,end:i,reverse:e,top:n,bottom:r}}function tv(t,e,s,i){let n=e.borderSkipped;const r={};if(!n){t.borderSkipped=r;return}if(n===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=ev(t);n==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===i?n=c:(s._bottom||0)===i?n=u:(r[xc(u,o,a,l)]=!0,n=c)),r[xc(n,o,a,l)]=!0,t.borderSkipped=r}function xc(t,e,s,i){return i?(t=sv(t,e,s),t=Sc(t,s,e)):t=Sc(t,e,s),t}function sv(t,e,s){return t===e?s:t===s?e:t}function Sc(t,e,s){return t==="start"?e:t==="end"?s:t}function iv(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class nv extends id{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,s,i,n){return wc(e,s,i,n)}parseArrayData(e,s,i,n){return wc(e,s,i,n)}parseObjectData(e,s,i,n){const{iScale:r,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,f,m,g;for(d=i,f=i+n;d<f;++d)g=s[d],m={},m[r.axis]=r.parse(ii(g,c),d),h.push(nd(ii(g,u),m,o,d));return h}updateRangeFromParsed(e,s,i,n){super.updateRangeFromParsed(e,s,i,n);const r=i._custom;r&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:i,vScale:n}=s,r=this.getParsed(e),o=r._custom,a=ao(o)?"["+o.start+", "+o.end+"]":""+n.getLabelForValue(r[n.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,i,n){const r=n==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(s,n);for(let f=s;f<s+i;f++){const m=this.getParsed(f),g=r||_e(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(f),p=this._calculateBarIndexPixels(f,u),b=(m._stacks||{})[a.axis],w={horizontal:c,base:g.base,enableBorderRadius:!b||ao(m._custom)||o===b._top||o===b._bottom,x:c?g.head:p.center,y:c?p.center:g.head,height:c?p.size:Math.abs(g.size),width:c?Math.abs(g.size):p.size};d&&(w.options=h||this.resolveDataElementOptions(f,e[f].active?"active":n));const v=w.options||e[f].options;tv(w,v,b,o),iv(w,v,u.ratio),this.updateElement(e[f],f,w,n)}}_getStacks(e,s){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(s),l=a&&a[i.axis],c=u=>{const h=u._parsed.find(f=>f[i.axis]===l),d=h&&h[u.vScale.axis];if(_e(d)||isNaN(d))return!0};for(const u of n)if(!(s!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,s=this.chart.options.indexAxis;return Object.keys(e).filter(i=>e[i].axis===s).shift()}_getAxis(){const e={},s=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)e[ce(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,s)]=!0;return Object.keys(e)}_getStackIndex(e,s,i){const n=this._getStacks(e,i),r=s!==void 0?n.indexOf(s):-1;return r===-1?n.length-1:r}_getRuler(){const e=this.options,s=this._cachedMeta,i=s.iScale,n=[];let r,o;for(r=0,o=s.data.length;r<o;++r)n.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=e.barThickness;return{min:a||Jy(s),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:i,index:n},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(e),c=l._custom,u=ao(c);let h=l[s.axis],d=0,f=i?this.applyStack(s,l,i):h,m,g;f!==h&&(d=f-h,f=h),u&&(h=c.barStart,f=c.barEnd-c.barStart,h!==0&&os(h)!==os(c.barEnd)&&(d=0),d+=h);const p=!_e(r)&&!u?r:d;let b=s.getPixelForValue(p);if(this.chart.getDataVisibility(e)?m=s.getPixelForValue(d+f):m=b,g=m-b,Math.abs(g)<o){g=Zy(g,s,a)*o,h===a&&(b-=g/2);const w=s.getPixelForDecimal(0),v=s.getPixelForDecimal(1),x=Math.min(w,v),T=Math.max(w,v);b=Math.max(Math.min(b,T),x),m=b+g,i&&!u&&(l._stacks[s.axis]._visualValues[n]=s.getValueForPixel(m)-s.getValueForPixel(b))}if(b===s.getPixelForValue(a)){const w=os(g)*s.getLineWidthForValue(a)/2;b+=w,g-=w}return{size:g,base:b,head:m,center:m+g/2}}_calculateBarIndexPixels(e,s){const i=s.scale,n=this.options,r=n.skipNull,o=ce(n.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(s.grouped){const u=r?this._getStackCount(e):s.stackCount,h=n.barThickness==="flex"?Xy(e,s,n,u*c):Yy(e,s,n,u*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,f=this._getAxis().indexOf(ce(d,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0)+f;a=h.start+h.chunk*m+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,s.min*s.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,s=e.vScale,i=e.data,n=i.length;let r=0;for(;r<n;++r)this.getParsed(r)[s.axis]!==null&&!i[r].hidden&&i[r].draw(this._ctx)}}function _s(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Sa{static override(e){Object.assign(Sa.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return _s()}parse(){return _s()}format(){return _s()}add(){return _s()}diff(){return _s()}startOf(){return _s()}endOf(){return _s()}}var rv={_date:Sa};function ov(t,e,s,i){const{controller:n,data:r,_sorted:o}=t,a=n._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&o&&r.length){const c=a._reversePixels?V_:$o;if(i){if(n._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=c(r,e,s-h),f=c(r,e,s+h);return{lo:d.lo,hi:f.hi}}}}else{const u=c(r,e,s);if(l){const{vScale:h}=n._cachedMeta,{_parsed:d}=t,f=d.slice(0,u.lo+1).reverse().findIndex(g=>!_e(g[h.axis]));u.lo-=Math.max(0,f);const m=d.slice(u.hi).findIndex(g=>!_e(g[h.axis]));u.hi+=Math.max(0,m)}return u}}return{lo:0,hi:r.length-1}}function gr(t,e,s,i,n){const r=t.getSortedVisibleDatasetMetas(),o=s[e];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=ov(r[a],e,o,n);for(let f=h;f<=d;++f){const m=u[f];m.skip||i(m,c,f)}}}function av(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(i,n){const r=e?Math.abs(i.x-n.x):0,o=s?Math.abs(i.y-n.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function lo(t,e,s,i,n){const r=[];return!n&&!t.isPointInArea(e)||gr(t,s,e,function(a,l,c){!n&&!qh(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function lv(t,e,s,i){let n=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=U_(o,{x:e.x,y:e.y});W_(h,c,u)&&n.push({element:o,datasetIndex:a,index:l})}return gr(t,s,e,r),n}function cv(t,e,s,i,n,r){let o=[];const a=av(s);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const f=u.inRange(e.x,e.y,n);if(i&&!f)return;const m=u.getCenterPoint(n);if(!(!!r||t.isPointInArea(m))&&!f)return;const p=a(e,m);p<l?(o=[{element:u,datasetIndex:h,index:d}],l=p):p===l&&o.push({element:u,datasetIndex:h,index:d})}return gr(t,s,e,c),o}function co(t,e,s,i,n,r){return!r&&!t.isPointInArea(e)?[]:s==="r"&&!i?lv(t,e,s,n):cv(t,e,s,i,n,r)}function kc(t,e,s,i,n){const r=[],o=s==="x"?"inXRange":"inYRange";let a=!1;return gr(t,s,e,(l,c,u)=>{l[o]&&l[o](e[s],n)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,n))}),i&&!a?[]:r}var uv={modes:{index(t,e,s,i){const n=ws(e,t),r=s.axis||"x",o=s.includeInvisible||!1,a=s.intersect?lo(t,n,r,i,o):co(t,n,r,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,s,i){const n=ws(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;let a=s.intersect?lo(t,n,r,i,o):co(t,n,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,s,i){const n=ws(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;return lo(t,n,r,i,o)},nearest(t,e,s,i){const n=ws(e,t),r=s.axis||"xy",o=s.includeInvisible||!1;return co(t,n,r,s.intersect,i,o)},x(t,e,s,i){const n=ws(e,t);return kc(t,n,"x",s.intersect,i)},y(t,e,s,i){const n=ws(e,t);return kc(t,n,"y",s.intersect,i)}}};const rd=["left","top","right","bottom"];function gi(t,e){return t.filter(s=>s.pos===e)}function Tc(t,e){return t.filter(s=>rd.indexOf(s.pos)===-1&&s.box.axis===e)}function pi(t,e){return t.sort((s,i)=>{const n=e?i:s,r=e?s:i;return n.weight===r.weight?n.index-r.index:n.weight-r.weight})}function hv(t){const e=[];let s,i,n,r,o,a;for(s=0,i=(t||[]).length;s<i;++s)n=t[s],{position:r,options:{stack:o,stackWeight:a=1}}=n,e.push({index:s,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:o&&r+o,stackWeight:a});return e}function dv(t){const e={};for(const s of t){const{stack:i,pos:n,stackWeight:r}=s;if(!i||!rd.includes(n))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return e}function fv(t,e){const s=dv(t),{vBoxMaxWidth:i,hBoxMaxHeight:n}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:l}=a.box,c=s[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=n):(a.width=i,a.height=u?u*n:l&&e.availableHeight)}return s}function gv(t){const e=hv(t),s=pi(e.filter(c=>c.box.fullSize),!0),i=pi(gi(e,"left"),!0),n=pi(gi(e,"right")),r=pi(gi(e,"top"),!0),o=pi(gi(e,"bottom")),a=Tc(e,"x"),l=Tc(e,"y");return{fullSize:s,leftAndTop:i.concat(r),rightAndBottom:n.concat(l).concat(o).concat(a),chartArea:gi(e,"chartArea"),vertical:i.concat(n).concat(l),horizontal:r.concat(o).concat(a)}}function Oc(t,e,s,i){return Math.max(t[s],e[s])+Math.max(t[i],e[i])}function od(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function pv(t,e,s,i){const{pos:n,box:r}=s,o=t.maxPadding;if(!le(n)){s.size&&(t[n]-=s.size);const h=i[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?r.height:r.width),s.size=h.size/h.count,t[n]+=s.size}r.getPadding&&od(o,r.getPadding());const a=Math.max(0,e.outerWidth-Oc(o,t,"left","right")),l=Math.max(0,e.outerHeight-Oc(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,s.horizontal?{same:c,other:u}:{same:u,other:c}}function mv(t){const e=t.maxPadding;function s(i){const n=Math.max(e[i]-t[i],0);return t[i]+=n,n}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function bv(t,e){const s=e.maxPadding;function i(n){const r={left:0,top:0,right:0,bottom:0};return n.forEach(o=>{r[o]=Math.max(e[o],s[o])}),r}return i(t?["left","right"]:["top","bottom"])}function wi(t,e,s,i){const n=[];let r,o,a,l,c,u;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,bv(a.horizontal,e));const{same:h,other:d}=pv(e,s,a,i);c|=h&&n.length,u=u||d,l.fullSize||n.push(a)}return c&&wi(n,e,s,i)||u}function _n(t,e,s,i,n){t.top=s,t.left=e,t.right=e+i,t.bottom=s+n,t.width=i,t.height=n}function Ec(t,e,s,i){const n=s.padding;let{x:r,y:o}=e;for(const a of t){const l=a.box,c=i[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*u,d=c.size||l.height;Gi(c.start)&&(o=c.start),l.fullSize?_n(l,n.left,o,s.outerWidth-n.right-n.left,d):_n(l,e.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=e.h*u,d=c.size||l.width;Gi(c.start)&&(r=c.start),l.fullSize?_n(l,r,n.top,d,s.outerHeight-n.bottom-n.top):_n(l,r,e.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}e.x=r,e.y=o}var ts={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,i){if(!t)return;const n=yt(t.options.layout.padding),r=Math.max(e-n.width,0),o=Math.max(s-n.height,0),a=gv(t.boxes),l=a.vertical,c=a.horizontal;pe(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,p)=>p.box.options&&p.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:s,padding:n,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},n);od(d,yt(i));const f=Object.assign({maxPadding:d,w:r,h:o,x:n.left,y:n.top},n),m=fv(l.concat(c),h);wi(a.fullSize,f,h,m),wi(l,f,h,m),wi(c,f,h,m)&&wi(l,f,h,m),mv(f),Ec(a.leftAndTop,f,h,m),f.x+=f.w,f.y+=f.h,Ec(a.rightAndBottom,f,h,m),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},pe(a.chartArea,g=>{const p=g.box;Object.assign(p,t.chartArea),p.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class ad{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,i){}removeEventListener(e,s,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,i,n){return s=Math.max(0,s||e.width),i=i||e.height,{width:s,height:Math.max(0,n?Math.floor(s/n):i)}}isAttached(e){return!0}updateConfig(e){}}class _v extends ad{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Cn="$chartjs",yv={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ac=t=>t===null||t==="";function vv(t,e){const s=t.style,i=t.getAttribute("height"),n=t.getAttribute("width");if(t[Cn]={initial:{height:i,width:n,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Ac(n)){const r=gc(t,"width");r!==void 0&&(t.width=r)}if(Ac(i))if(t.style.height==="")t.height=t.width/(e||2);else{const r=gc(t,"height");r!==void 0&&(t.height=r)}return t}const ld=Ry?{passive:!0}:!1;function wv(t,e,s){t&&t.addEventListener(e,s,ld)}function xv(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,ld)}function Sv(t,e){const s=yv[t.type]||t.type,{x:i,y:n}=ws(t,e);return{type:s,chart:e,native:t,x:i!==void 0?i:null,y:n!==void 0?n:null}}function Xn(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function kv(t,e,s){const i=t.canvas,n=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Xn(a.addedNodes,i),o=o&&!Xn(a.removedNodes,i);o&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}function Tv(t,e,s){const i=t.canvas,n=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Xn(a.removedNodes,i),o=o&&!Xn(a.addedNodes,i);o&&s()});return n.observe(document,{childList:!0,subtree:!0}),n}const Ji=new Map;let Rc=0;function cd(){const t=window.devicePixelRatio;t!==Rc&&(Rc=t,Ji.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function Ov(t,e){Ji.size||window.addEventListener("resize",cd),Ji.set(t,e)}function Ev(t){Ji.delete(t),Ji.size||window.removeEventListener("resize",cd)}function Av(t,e,s){const i=t.canvas,n=i&&xa(i);if(!n)return;const r=Bh((a,l)=>{const c=n.clientWidth;s(a,l),c<n.clientWidth&&s()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(n),Ov(t,r),o}function uo(t,e,s){s&&s.disconnect(),e==="resize"&&Ev(t)}function Rv(t,e,s){const i=t.canvas,n=Bh(r=>{t.ctx!==null&&s(Sv(r,t))},t);return wv(i,e,n),n}class Cv extends ad{acquireContext(e,s){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(vv(e,s),i):null}releaseContext(e){const s=e.canvas;if(!s[Cn])return!1;const i=s[Cn].initial;["height","width"].forEach(r=>{const o=i[r];_e(o)?s.removeAttribute(r):s.setAttribute(r,o)});const n=i.style||{};return Object.keys(n).forEach(r=>{s.style[r]=n[r]}),s.width=s.width,delete s[Cn],!0}addEventListener(e,s,i){this.removeEventListener(e,s);const n=e.$proxies||(e.$proxies={}),o={attach:kv,detach:Tv,resize:Av}[s]||Rv;n[s]=o(e,s,i)}removeEventListener(e,s){const i=e.$proxies||(e.$proxies={}),n=i[s];if(!n)return;({attach:uo,detach:uo,resize:uo}[s]||xv)(e,s,n),i[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,i,n){return Ay(e,s,i,n)}isAttached(e){const s=e&&xa(e);return!!(s&&s.isConnected)}}function Pv(t){return!wa()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?_v:Cv}let tn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:s,y:i}=this.getProps(["x","y"],e);return{x:s,y:i}}hasValue(){return Kn(this.x)&&Kn(this.y)}getProps(e,s){const i=this.$animations;if(!s||!i)return this;const n={};return e.forEach(r=>{n[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),n}};function Iv(t,e){const s=t.options.ticks,i=Mv(t),n=Math.min(s.maxTicksLimit||i,i),r=s.major.enabled?Lv(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>n)return jv(e,c,r,o/n),c;const u=Dv(r,e,n);if(o>0){let h,d;const f=o>1?Math.round((l-a)/(o-1)):null;for(yn(e,c,u,_e(f)?0:a-f,a),h=0,d=o-1;h<d;h++)yn(e,c,u,r[h],r[h+1]);return yn(e,c,u,l,_e(f)?e.length:l+f),c}return yn(e,c,u),c}function Mv(t){const e=t.options.offset,s=t._tickSize(),i=t._length/s+(e?0:1),n=t._maxLength/s;return Math.floor(Math.min(i,n))}function Dv(t,e,s){const i=$v(t),n=e.length/s;if(!i)return Math.max(n,1);const r=j_(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>n)return l}return Math.max(n,1)}function Lv(t){const e=[];let s,i;for(s=0,i=t.length;s<i;s++)t[s].major&&e.push(s);return e}function jv(t,e,s,i){let n=0,r=s[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===r&&(e.push(t[o]),n++,r=s[n*i])}function yn(t,e,s,i,n){const r=ce(i,0),o=Math.min(ce(n,t.length),t.length);let a=0,l,c,u;for(s=Math.ceil(s),n&&(l=n-i,s=l/Math.floor(l/s)),u=r;u<0;)a++,u=Math.round(r+a*s);for(c=Math.max(r,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(r+a*s))}function $v(t){const e=t.length;let s,i;if(e<2)return!1;for(i=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==i)return!1;return i}const Nv=t=>t==="left"?"right":t==="right"?"left":t,Cc=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,Pc=(t,e)=>Math.min(e||t,t);function Ic(t,e){const s=[],i=t.length/e,n=t.length;let r=0;for(;r<n;r+=i)s.push(t[Math.floor(r)]);return s}function Fv(t,e,s){const i=t.ticks.length,n=Math.min(e,i-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(n),c;if(!(s&&(i===1?c=Math.max(l-r,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(n-1))/2,l+=n<e?c:-c,l<r-a||l>o+a)))return l}function Bv(t,e){pe(t,s=>{const i=s.gc,n=i.length/2;let r;if(n>e){for(r=0;r<n;++r)delete s.data[i[r]];i.splice(0,n)}})}function mi(t){return t.drawTicks?t.tickLength:0}function Mc(t,e){if(!t.display)return 0;const s=Qe(t.font,e),i=yt(t.padding);return(Le(t.text)?t.text.length:1)*s.lineHeight+i.height}function Uv(t,e){return oi(t,{scale:e,type:"scale"})}function Hv(t,e,s){return oi(t,{tick:s,index:e,type:"tick"})}function Wv(t,e,s){let i=Uh(t);return(s&&e!=="right"||!s&&e==="right")&&(i=Nv(i)),i}function zv(t,e,s,i){const{top:n,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h=0,d,f,m;const g=o-n,p=a-r;if(t.isHorizontal()){if(f=it(i,r,a),le(s)){const b=Object.keys(s)[0],w=s[b];m=u[b].getPixelForValue(w)+g-e}else s==="center"?m=(c.bottom+c.top)/2+g-e:m=Cc(t,s,e);d=a-r}else{if(le(s)){const b=Object.keys(s)[0],w=s[b];f=u[b].getPixelForValue(w)-p+e}else s==="center"?f=(c.left+c.right)/2-p+e:f=Cc(t,s,e);m=it(i,o,n),h=s==="left"?-pt:pt}return{titleX:f,titleY:m,maxWidth:d,rotation:h}}class ai extends tn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:i,_suggestedMax:n}=this;return e=kt(e,Number.POSITIVE_INFINITY),s=kt(s,Number.NEGATIVE_INFINITY),i=kt(i,Number.POSITIVE_INFINITY),n=kt(n,Number.NEGATIVE_INFINITY),{min:kt(e,i),max:kt(s,n),minDefined:ct(e),maxDefined:ct(s)}}getMinMax(e){let{min:s,max:i,minDefined:n,maxDefined:r}=this.getUserBounds(),o;if(n&&r)return{min:s,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),n||(s=Math.min(s,o.min)),r||(i=Math.max(i,o.max));return s=r&&s>i?i:s,i=n&&s>i?s:i,{min:kt(s,kt(i,s)),max:kt(i,kt(s,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xe(this.options.beforeUpdate,[this])}update(e,s,i){const{beginAtZero:n,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=fy(this,r,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Ic(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Iv(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,i;this.isHorizontal()?(s=this.left,i=this.right):(s=this.top,i=this.bottom,e=!e),this._startPixel=s,this._endPixel=i,this._reversePixels=e,this._length=i-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xe(this.options.afterUpdate,[this])}beforeSetDimensions(){xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),xe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let i,n,r;for(i=0,n=e.length;i<n;i++)r=e[i],r.label=xe(s.callback,[r.value,i,e],this)}afterTickToLabelConversion(){xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,i=Pc(this.ticks.length,e.ticks.maxTicksLimit),n=s.minRotation||0,r=s.maxRotation;let o=n,a,l,c;if(!this._isVisible()||!s.display||n>=r||i<=1||!this.isHorizontal()){this.labelRotation=n;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,f=mt(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),h+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-mi(e.grid)-s.padding-Mc(e.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=B_(Math.min(Math.asin(mt((u.highest.height+6)/a,-1,1)),Math.asin(mt(l/c,-1,1))-Math.asin(mt(d/c,-1,1)))),o=Math.max(n,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xe(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:i,title:n,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Mc(n,s.options.font);if(a?(e.width=this.maxWidth,e.height=mi(r)+l):(e.height=this.maxHeight,e.width=mi(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),f=i.padding*2,m=Os(this.labelRotation),g=Math.cos(m),p=Math.sin(m);if(a){const b=i.mirror?0:p*h.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+b+f)}else{const b=i.mirror?0:g*h.width+p*d.height;e.width=Math.min(this.maxWidth,e.width+b+f)}this._calculatePadding(c,u,p,g)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,i,n){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,f=0;l?c?(d=n*e.width,f=i*s.height):(d=i*e.height,f=n*s.width):r==="start"?f=s.width:r==="end"?d=e.width:r!=="inner"&&(d=e.width/2,f=s.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-h+o)*this.width/(this.width-h),0)}else{let u=s.height/2,h=e.height/2;r==="start"?(u=0,h=e.height):r==="end"&&(u=s.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xe(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,i;for(s=0,i=e.length;s<i;s++)_e(e[s].label)&&(e.splice(s,1),i--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let i=this.ticks;s<i.length&&(i=Ic(i,s)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,i){const{ctx:n,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(s/Pc(s,i));let c=0,u=0,h,d,f,m,g,p,b,w,v,x,T;for(h=0;h<s;h+=l){if(m=e[h].label,g=this._resolveTickFontOptions(h),n.font=p=g.string,b=r[p]=r[p]||{data:{},gc:[]},w=g.lineHeight,v=x=0,!_e(m)&&!Le(m))v=lc(n,b.data,b.gc,v,m),x=w;else if(Le(m))for(d=0,f=m.length;d<f;++d)T=m[d],!_e(T)&&!Le(T)&&(v=lc(n,b.data,b.gc,v,T),x+=w);o.push(v),a.push(x),c=Math.max(v,c),u=Math.max(x,u)}Bv(r,s);const P=o.indexOf(c),M=a.indexOf(u),j=H=>({width:o[H]||0,height:a[H]||0});return{first:j(0),last:j(s-1),widest:j(P),highest:j(M),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return z_(this._alignToPixels?bs(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const i=s[e];return i.$context||(i.$context=Hv(this.getContext(),e,i))}return this.$context||(this.$context=Uv(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=Os(this.labelRotation),i=Math.abs(Math.cos(s)),n=Math.abs(Math.sin(s)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*n?a/i:l/n:l*n<a*i?l/i:a/n}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,i=this.chart,n=this.options,{grid:r,position:o,border:a}=n,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=mi(r),f=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,p=g/2,b=function(ne){return bs(i,ne,g)};let w,v,x,T,P,M,j,H,Q,G,ie,ue;if(o==="top")w=b(this.bottom),M=this.bottom-d,H=w-p,G=b(e.top)+p,ue=e.bottom;else if(o==="bottom")w=b(this.top),G=e.top,ue=b(e.bottom)-p,M=w+p,H=this.top+d;else if(o==="left")w=b(this.right),P=this.right-d,j=w-p,Q=b(e.left)+p,ie=e.right;else if(o==="right")w=b(this.left),Q=e.left,ie=b(e.right)-p,P=w+p,j=this.left+d;else if(s==="x"){if(o==="center")w=b((e.top+e.bottom)/2+.5);else if(le(o)){const ne=Object.keys(o)[0],Z=o[ne];w=b(this.chart.scales[ne].getPixelForValue(Z))}G=e.top,ue=e.bottom,M=w+p,H=M+d}else if(s==="y"){if(o==="center")w=b((e.left+e.right)/2);else if(le(o)){const ne=Object.keys(o)[0],Z=o[ne];w=b(this.chart.scales[ne].getPixelForValue(Z))}P=w-p,j=P-d,Q=e.left,ie=e.right}const me=ce(n.ticks.maxTicksLimit,h),he=Math.max(1,Math.ceil(h/me));for(v=0;v<h;v+=he){const ne=this.getContext(v),Z=r.setContext(ne),re=a.setContext(ne),E=Z.lineWidth,k=Z.color,I=re.dash||[],B=re.dashOffset,U=Z.tickWidth,se=Z.tickColor,ke=Z.tickBorderDash||[],de=Z.tickBorderDashOffset;x=Fv(this,v,l),x!==void 0&&(T=bs(i,x,E),c?P=j=Q=ie=T:M=H=G=ue=T,f.push({tx1:P,ty1:M,tx2:j,ty2:H,x1:Q,y1:G,x2:ie,y2:ue,width:E,color:k,borderDash:I,borderDashOffset:B,tickWidth:U,tickColor:se,tickBorderDash:ke,tickBorderDashOffset:de}))}return this._ticksLength=h,this._borderValue=w,f}_computeLabelItems(e){const s=this.axis,i=this.options,{position:n,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=mi(i.grid),f=d+u,m=h?-u:f,g=-Os(this.labelRotation),p=[];let b,w,v,x,T,P,M,j,H,Q,G,ie,ue="middle";if(n==="top")P=this.bottom-m,M=this._getXAxisLabelAlignment();else if(n==="bottom")P=this.top+m,M=this._getXAxisLabelAlignment();else if(n==="left"){const he=this._getYAxisLabelAlignment(d);M=he.textAlign,T=he.x}else if(n==="right"){const he=this._getYAxisLabelAlignment(d);M=he.textAlign,T=he.x}else if(s==="x"){if(n==="center")P=(e.top+e.bottom)/2+f;else if(le(n)){const he=Object.keys(n)[0],ne=n[he];P=this.chart.scales[he].getPixelForValue(ne)+f}M=this._getXAxisLabelAlignment()}else if(s==="y"){if(n==="center")T=(e.left+e.right)/2-f;else if(le(n)){const he=Object.keys(n)[0],ne=n[he];T=this.chart.scales[he].getPixelForValue(ne)}M=this._getYAxisLabelAlignment(d).textAlign}s==="y"&&(l==="start"?ue="top":l==="end"&&(ue="bottom"));const me=this._getLabelSizes();for(b=0,w=a.length;b<w;++b){v=a[b],x=v.label;const he=r.setContext(this.getContext(b));j=this.getPixelForTick(b)+r.labelOffset,H=this._resolveTickFontOptions(b),Q=H.lineHeight,G=Le(x)?x.length:1;const ne=G/2,Z=he.color,re=he.textStrokeColor,E=he.textStrokeWidth;let k=M;o?(T=j,M==="inner"&&(b===w-1?k=this.options.reverse?"left":"right":b===0?k=this.options.reverse?"right":"left":k="center"),n==="top"?c==="near"||g!==0?ie=-G*Q+Q/2:c==="center"?ie=-me.highest.height/2-ne*Q+Q:ie=-me.highest.height+Q/2:c==="near"||g!==0?ie=Q/2:c==="center"?ie=me.highest.height/2-ne*Q:ie=me.highest.height-G*Q,h&&(ie*=-1),g!==0&&!he.showLabelBackdrop&&(T+=Q/2*Math.sin(g))):(P=j,ie=(1-G)*Q/2);let I;if(he.showLabelBackdrop){const B=yt(he.backdropPadding),U=me.heights[b],se=me.widths[b];let ke=ie-B.top,de=0-B.left;switch(ue){case"middle":ke-=U/2;break;case"bottom":ke-=U;break}switch(M){case"center":de-=se/2;break;case"right":de-=se;break;case"inner":b===w-1?de-=se:b>0&&(de-=se/2);break}I={left:de,top:ke,width:se+B.width,height:U+B.height,color:he.backdropColor}}p.push({label:x,font:H,textOffset:ie,options:{rotation:g,color:Z,strokeColor:re,strokeWidth:E,textAlign:k,textBaseline:ue,translation:[T,P],backdrop:I}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-Os(this.labelRotation))return e==="top"?"left":"right";let n="center";return s.align==="start"?n="left":s.align==="end"?n="right":s.align==="inner"&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:i,mirror:n,padding:r}}=this.options,o=this._getLabelSizes(),a=e+r,l=o.widest.width;let c,u;return s==="left"?n?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):s==="right"?n?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:i,top:n,width:r,height:o}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(i,n,r,o),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const n=this.ticks.findIndex(r=>r.value===e);return n>=0?s.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const s=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(s.display)for(r=0,o=n.length;r<o;++r){const l=n[r];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:i,grid:n}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=n.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=bs(e,this.left,o)-o/2,u=bs(e,this.right,a)+a/2,h=d=l):(h=bs(e,this.top,o)-o/2,d=bs(e,this.bottom,a)+a/2,c=u=l),s.save(),s.lineWidth=r.width,s.strokeStyle=r.color,s.beginPath(),s.moveTo(c,h),s.lineTo(u,d),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,n=this._computeLabelArea();n&&ma(i,n);const r=this.getLabelItems(e);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Gn(i,c,0,u,l,a)}n&&ba(i)}drawTitle(){const{ctx:e,options:{position:s,title:i,reverse:n}}=this;if(!i.display)return;const r=Qe(i.font),o=yt(i.padding),a=i.align;let l=r.lineHeight/2;s==="bottom"||s==="center"||le(s)?(l+=o.bottom,Le(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=zv(this,l,s,a);Gn(e,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:d,textAlign:Wv(a,s,n),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,i=ce(e.grid&&e.grid.z,-1),n=ce(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ai.prototype.draw?[{z:s,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:s,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let r,o;for(r=0,o=s.length;r<o;++r){const a=s[r];a[i]===this.id&&(!e||a.type===e)&&n.push(a)}return n}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return Qe(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class vn{constructor(e,s,i){this.type=e,this.scope=s,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let i;Kv(s)&&(i=this.register(s));const n=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in n||(n[r]=e,Vv(e,o,i),this.override&&Ae.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const s=this.items,i=e.id,n=this.scope;i in s&&delete s[i],n&&i in Ae[n]&&(delete Ae[n][i],this.override&&delete Cs[i])}}function Vv(t,e,s){const i=Ki(Object.create(null),[s?Ae.get(s):{},Ae.get(e),t.defaults]);Ae.set(e,i),t.defaultRoutes&&qv(e,t.defaultRoutes),t.descriptors&&Ae.describe(e,t.descriptors)}function qv(t,e){Object.keys(e).forEach(s=>{const i=s.split("."),n=i.pop(),r=[t].concat(i).join("."),o=e[s].split("."),a=o.pop(),l=o.join(".");Ae.route(r,n,l,a)})}function Kv(t){return"id"in t&&"defaults"in t}class Gv{constructor(){this.controllers=new vn(id,"datasets",!0),this.elements=new vn(tn,"elements"),this.plugins=new vn(Object,"plugins"),this.scales=new vn(ai,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,i){[...s].forEach(n=>{const r=i||this._getRegistryForType(n);i||r.isForType(n)||r===this.plugins&&n.id?this._exec(e,r,n):pe(n,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,s,i){const n=ga(e);xe(i["before"+n],[],i),s[e](i),xe(i["after"+n],[],i)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const i=this._typedRegistries[s];if(i.isForType(e))return i}return this.plugins}_get(e,s,i){const n=s.get(e);if(n===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return n}}var Et=new Gv;class Jv{constructor(){this._init=void 0}notify(e,s,i,n){if(s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const r=n?this._descriptors(e).filter(n):this._descriptors(e),o=this._notify(r,e,s,i);return s==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,s,i,n){n=n||{};for(const r of e){const o=r.plugin,a=o[i],l=[s,n,r.options];if(xe(a,l,o)===!1&&n.cancelable)return!1}return!0}invalidate(){_e(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const i=e&&e.config,n=ce(i.options&&i.options.plugins,{}),r=Yv(i);return n===!1&&!s?[]:Qv(e,r,n,s)}_notifyStateChanges(e){const s=this._oldCache||[],i=this._cache,n=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(n(s,i),e,"stop"),this._notify(n(i,s),e,"start")}}function Yv(t){const e={},s=[],i=Object.keys(Et.plugins.items);for(let r=0;r<i.length;r++)s.push(Et.getPlugin(i[r]));const n=t.plugins||[];for(let r=0;r<n.length;r++){const o=n[r];s.indexOf(o)===-1&&(s.push(o),e[o.id]=!0)}return{plugins:s,localIds:e}}function Xv(t,e){return!e&&t===!1?null:t===!0?{}:t}function Qv(t,{plugins:e,localIds:s},i,n){const r=[],o=t.getContext();for(const a of e){const l=a.id,c=Xv(i[l],n);c!==null&&r.push({plugin:a,options:Zv(t.config,{plugin:a,local:s[l]},c,o)})}return r}function Zv(t,{plugin:e,local:s},i,n){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(i,r);return s&&e.defaults&&o.push(e.defaults),t.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Fo(t,e){const s=Ae.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function e0(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function t0(t,e){return t===e?"_index_":"_value_"}function Dc(t){if(t==="x"||t==="y"||t==="r")return t}function s0(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Bo(t,...e){if(Dc(t))return t;for(const s of e){const i=s.axis||s0(s.position)||t.length>1&&Dc(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Lc(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function i0(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(s.length)return Lc(t,"x",s[0])||Lc(t,"y",s[0])}return{}}function n0(t,e){const s=Cs[t.type]||{scales:{}},i=e.scales||{},n=Fo(t.type,e),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!le(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Bo(o,a,i0(o,t),Ae.scales[a.type]),c=t0(l,n),u=s.scales||{};r[o]=Ii(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Fo(a,e),u=(Cs[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=e0(h,l),f=o[d+"AxisID"]||d;r[f]=r[f]||Object.create(null),Ii(r[f],[{axis:d},i[f],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Ii(a,[Ae.scales[a.type],Ae.scale])}),r}function ud(t){const e=t.options||(t.options={});e.plugins=ce(e.plugins,{}),e.scales=n0(t,e)}function hd(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function r0(t){return t=t||{},t.data=hd(t.data),ud(t),t}const jc=new Map,dd=new Set;function wn(t,e){let s=jc.get(t);return s||(s=e(),jc.set(t,s),dd.add(s)),s}const bi=(t,e,s)=>{const i=ii(e,s);i!==void 0&&t.add(i)};class o0{constructor(e){this._config=r0(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=hd(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ud(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return wn(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return wn(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return wn(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,i=this.type;return wn(`${i}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const i=this._scopeCache;let n=i.get(e);return(!n||s)&&(n=new Map,i.set(e,n)),n}getOptionScopes(e,s,i){const{options:n,type:r}=this,o=this._cachedScopes(e,i),a=o.get(s);if(a)return a;const l=new Set;s.forEach(u=>{e&&(l.add(e),u.forEach(h=>bi(l,e,h))),u.forEach(h=>bi(l,n,h)),u.forEach(h=>bi(l,Cs[r]||{},h)),u.forEach(h=>bi(l,Ae,h)),u.forEach(h=>bi(l,No,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),dd.has(s)&&o.set(s,c),c}chartOptionScopes(){const{options:e,type:s}=this;return[e,Cs[s]||{},Ae.datasets[s]||{},{type:s},Ae,No]}resolveNamedOptions(e,s,i,n=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=$c(this._resolverCache,e,n);let l=o;if(l0(o,s)){r.$shared=!1,i=cs(i)?i():i;const c=this.createResolver(e,i,a);l=ni(o,i,c)}for(const c of s)r[c]=l[c];return r}createResolver(e,s,i=[""],n){const{resolver:r}=$c(this._resolverCache,e,i);return le(s)?ni(r,s,void 0,n):r}}function $c(t,e,s){let i=t.get(e);i||(i=new Map,t.set(e,i));const n=s.join();let r=i.get(n);return r||(r={resolver:_a(e,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},i.set(n,r)),r}const a0=t=>le(t)&&Object.getOwnPropertyNames(t).some(e=>cs(t[e]));function l0(t,e){const{isScriptable:s,isIndexable:i}=Jh(t);for(const n of e){const r=s(n),o=i(n),a=(o||r)&&t[n];if(r&&(cs(a)||a0(a))||o&&Le(a))return!0}return!1}var c0="4.5.1";const u0=["top","bottom","left","right","chartArea"];function Nc(t,e){return t==="top"||t==="bottom"||u0.indexOf(t)===-1&&e==="x"}function Fc(t,e){return function(s,i){return s[t]===i[t]?s[e]-i[e]:s[t]-i[t]}}function Bc(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),xe(s&&s.onComplete,[t],e)}function h0(t){const e=t.chart,s=e.options.animation;xe(s&&s.onProgress,[t],e)}function fd(t){return wa()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Pn={},Uc=t=>{const e=fd(t);return Object.values(Pn).filter(s=>s.canvas===e).pop()};function d0(t,e,s){const i=Object.keys(t);for(const n of i){const r=+n;if(r>=e){const o=t[n];delete t[n],(s>0||r>e)&&(t[r+s]=o)}}}function f0(t,e,s,i){return!s||t.type==="mouseout"?null:i?e:t}let pr=class{static defaults=Ae;static instances=Pn;static overrides=Cs;static registry=Et;static version=c0;static getChart=Uc;static register(...e){Et.add(...e),Hc()}static unregister(...e){Et.remove(...e),Hc()}constructor(e,s){const i=this.config=new o0(s),n=fd(e),r=Uc(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||Pv(n)),this.platform.updateConfig(i);const a=this.platform.acquireContext(n,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=A_(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Jv,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=G_(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Pn[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}jt.listen(this,"complete",Bc),jt.listen(this,"progress",h0),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:i,height:n,_aspectRatio:r}=this;return _e(e)?s&&r?r:n?i/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Et}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():fc(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return cc(this.canvas,this.ctx),this}stop(){return jt.stop(this),this}resize(e,s){jt.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const i=this.options,n=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(n,e,s,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,fc(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),xe(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};pe(s,(i,n)=>{i.id=n})}buildOrUpdateScales(){const e=this.options,s=e.scales,i=this.scales,n=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];s&&(r=r.concat(Object.keys(s).map(o=>{const a=s[o],l=Bo(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),pe(r,o=>{const a=o.options,l=a.id,c=Bo(l,a),u=ce(a.type,o.dtype);(a.position===void 0||Nc(a.position,c)!==Nc(o.dposition))&&(a.position=o.dposition),n[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const d=Et.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,e)}),pe(n,(o,a)=>{o||delete i[a]}),pe(i,o=>{ts.configure(this,o,o.options),ts.addBox(this,o)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,i=e.length;if(e.sort((n,r)=>n.index-r.index),i>s){for(let n=s;n<i;++n)this._destroyDatasetMeta(n);e.splice(s,i-s)}this._sortedMetasets=e.slice(0).sort(Fc("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((i,n)=>{s.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=s.length;i<n;i++){const r=s[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Fo(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Et.getController(a),{datasetElementType:c,dataElementType:u}=Ae.datasets[a];Object.assign(l,{dataElementType:Et.getElement(u),datasetElementType:c&&Et.getElement(c)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){pe(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const i=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!n&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),n||pe(r,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Fc("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){pe(this.scales,e=>{ts.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!Zl(s,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:r}of s){const o=i==="_removeElements"?-r:r;d0(e,n,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,i=r=>new Set(e.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),n=i(0);for(let r=1;r<s;r++)if(!Zl(n,i(r)))return;return Array.from(n).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ts.update(this,this.width,this.height,e);const s=this.chartArea,i=s.width<=0||s.height<=0;this._layers=[],pe(this.boxes,n=>{i&&n.position==="chartArea"||(n.configure&&n.configure(),this._layers.push(...n._layers()))},this),this._layers.forEach((n,r)=>{n._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,i=this.data.datasets.length;s<i;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,i=this.data.datasets.length;s<i;++s)this._updateDataset(s,cs(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const i=this.getDatasetMeta(e),n={meta:i,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",n)!==!1&&(i.controller._update(s),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(jt.has(this)?this.attached&&!jt.running(this)&&jt.start(this):(this.draw(),Bc({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:n}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,n)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,i=[];let n,r;for(n=0,r=s.length;n<r;++n){const o=s[n];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,i={meta:e,index:e.index,cancelable:!0},n=My(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(n&&ma(s,n),e.controller.draw(),n&&ba(s),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return qh(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,i,n){const r=uv.modes[s];return typeof r=="function"?r(this,e,i,n):[]}getDatasetMeta(e){const s=this.data.datasets[e],i=this._metasets;let n=i.filter(r=>r&&r._dataset===s).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=oi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!s.hidden}setDatasetVisibility(e,s){const i=this.getDatasetMeta(e);i.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,i){const n=i?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,n);Gi(s)?(r.data[s].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===e?n:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),jt.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),cc(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Pn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,i=(r,o)=>{s.addEventListener(this,r,o),e[r]=o},n=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};pe(this.options.events,r=>i(r,n))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,i=(l,c)=>{s.addEventListener(this,l,c),e[l]=c},n=(l,c)=>{e[l]&&(s.removeEventListener(this,l,c),delete e[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{n("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,n("resize",r),this._stop(),this._resize(0,0),i("attach",a)},s.isAttached(this.canvas)?a():o()}unbindEvents(){pe(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},pe(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,i){const n=i?"set":"remove";let r,o,a,l;for(s==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+n+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[n+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],i=e.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!zn(i,s)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,s))}notifyPlugins(e,s,i){return this._plugins.notify(this,e,s,i)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,i){const n=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(s,e),a=i?e:r(e,s);o.length&&this.updateHoverStyle(o,n.mode,!1),a.length&&n.mode&&this.updateHoverStyle(a,n.mode,!0)}_eventHandler(e,s){const i={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},n=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,n)===!1)return;const r=this._handleEvent(e,s,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(r||i.changed)&&this.render(),this}_handleEvent(e,s,i){const{_active:n=[],options:r}=this,o=s,a=this._getActiveElements(e,n,i,o),l=D_(e),c=f0(e,this._lastEvent,i,l);i&&(this._lastEvent=null,xe(r.onHover,[e,a,this],this),l&&xe(r.onClick,[e,a,this],this));const u=!zn(a,n);return(u||s)&&(this._active=a,this._updateHoverStyles(a,n,s)),this._lastEvent=c,u}_getActiveElements(e,s,i,n){if(e.type==="mouseout")return[];if(!i)return s;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,n)}};function Hc(){return pe(pr.instances,t=>t._plugins.invalidate())}function gd(t,e){const{x:s,y:i,base:n,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(s,n),l=Math.max(s,n),c=i-h,u=i+h):(h=r/2,a=s-h,l=s+h,c=Math.min(i,n),u=Math.max(i,n)),{left:a,top:c,right:l,bottom:u}}function ss(t,e,s,i){return t?0:mt(e,s,i)}function g0(t,e,s){const i=t.options.borderWidth,n=t.borderSkipped,r=Gh(i);return{t:ss(n.top,r.top,0,s),r:ss(n.right,r.right,0,e),b:ss(n.bottom,r.bottom,0,s),l:ss(n.left,r.left,0,e)}}function p0(t,e,s){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),n=t.options.borderRadius,r=Zs(n),o=Math.min(e,s),a=t.borderSkipped,l=i||le(n);return{topLeft:ss(!l||a.top||a.left,r.topLeft,0,o),topRight:ss(!l||a.top||a.right,r.topRight,0,o),bottomLeft:ss(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:ss(!l||a.bottom||a.right,r.bottomRight,0,o)}}function m0(t){const e=gd(t),s=e.right-e.left,i=e.bottom-e.top,n=g0(t,s/2,i/2),r=p0(t,s/2,i/2);return{outer:{x:e.left,y:e.top,w:s,h:i,radius:r},inner:{x:e.left+n.l,y:e.top+n.t,w:s-n.l-n.r,h:i-n.t-n.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(n.t,n.l)),topRight:Math.max(0,r.topRight-Math.max(n.t,n.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(n.b,n.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(n.b,n.r))}}}}function ho(t,e,s,i){const n=e===null,r=s===null,a=t&&!(n&&r)&&gd(t,i);return a&&(n||Ks(e,a.left,a.right))&&(r||Ks(s,a.top,a.bottom))}function b0(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function _0(t,e){t.rect(e.x,e.y,e.w,e.h)}function fo(t,e,s={}){const i=t.x!==s.x?-e:0,n=t.y!==s.y?-e:0,r=(t.x+t.w!==s.x+s.w?e:0)-i,o=(t.y+t.h!==s.y+s.h?e:0)-n;return{x:t.x+i,y:t.y+n,w:t.w+r,h:t.h+o,radius:t.radius}}class y0 extends tn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:i,backgroundColor:n}}=this,{inner:r,outer:o}=m0(this),a=b0(o.radius)?Jn:_0;e.save(),(o.w!==r.w||o.h!==r.h)&&(e.beginPath(),a(e,fo(o,s,r)),e.clip(),a(e,fo(r,-s,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,fo(r,s)),e.fillStyle=n,e.fill(),e.restore()}inRange(e,s,i){return ho(this,e,s,i)}inXRange(e,s){return ho(this,e,null,s)}inYRange(e,s){return ho(this,null,e,s)}getCenterPoint(e){const{x:s,y:i,base:n,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(s+n)/2:s,y:r?i:(i+n)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}const Wc=(t,e)=>{let{boxHeight:s=e,boxWidth:i=e}=t;return t.usePointStyle&&(s=Math.min(s,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:s,itemHeight:Math.max(e,s)}},v0=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class zc extends tn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,i){this.maxWidth=e,this.maxHeight=s,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=xe(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(i=>e.filter(i,this.chart.data))),e.sort&&(s=s.sort((i,n)=>e.sort(i,n,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,n=Qe(i.font),r=n.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Wc(i,r);let c,u;s.font=n.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,n,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,s,i,n){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=n+a;let h=e;r.textAlign="left",r.textBaseline="middle";let d=-1,f=-u;return this.legendItems.forEach((m,g)=>{const p=i+s/2+r.measureText(m.text).width;(g===0||c[c.length-1]+p+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,f+=u,d++),l[g]={left:0,top:f,row:d,width:p,height:n},c[c.length-1]+=p+a}),h}_fitCols(e,s,i,n){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let h=a,d=0,f=0,m=0,g=0;return this.legendItems.forEach((p,b)=>{const{itemWidth:w,itemHeight:v}=w0(i,s,r,p,n);b>0&&f+v+2*a>u&&(h+=d+a,c.push({width:d,height:f}),m+=d+a,g++,d=f=0),l[b]={left:m,top:f,col:g,width:w,height:v},d=Math.max(d,w),f+=v+a}),h+=d,c.push({width:d,height:f}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:i,labels:{padding:n},rtl:r}}=this,o=ei(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=it(i,this.left+n,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=it(i,this.left+n,this.right-this.lineWidths[a])),c.top+=this.top+e+n,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+n}else{let a=0,l=it(i,this.top+e+n,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=it(i,this.top+e+n,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+n,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+n}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ma(e,this),this._draw(),ba(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:i,ctx:n}=this,{align:r,labels:o}=e,a=Ae.color,l=ei(e.rtl,this.left,this.width),c=Qe(o.font),{padding:u}=o,h=c.size,d=h/2;let f;this.drawTitle(),n.textAlign=l.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:p}=Wc(o,h),b=function(P,M,j){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;n.save();const H=ce(j.lineWidth,1);if(n.fillStyle=ce(j.fillStyle,a),n.lineCap=ce(j.lineCap,"butt"),n.lineDashOffset=ce(j.lineDashOffset,0),n.lineJoin=ce(j.lineJoin,"miter"),n.lineWidth=H,n.strokeStyle=ce(j.strokeStyle,a),n.setLineDash(ce(j.lineDash,[])),o.usePointStyle){const Q={radius:g*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:H},G=l.xPlus(P,m/2),ie=M+d;Vh(n,Q,G,ie,o.pointStyleWidth&&m)}else{const Q=M+Math.max((h-g)/2,0),G=l.leftForLtr(P,m),ie=Zs(j.borderRadius);n.beginPath(),Object.values(ie).some(ue=>ue!==0)?Jn(n,{x:G,y:Q,w:m,h:g,radius:ie}):n.rect(G,Q,m,g),n.fill(),H!==0&&n.stroke()}n.restore()},w=function(P,M,j){Gn(n,j.text,P,M+p/2,c,{strikethrough:j.hidden,textAlign:l.textAlign(j.textAlign)})},v=this.isHorizontal(),x=this._computeTitleHeight();v?f={x:it(r,this.left+u,this.right-i[0]),y:this.top+u+x,line:0}:f={x:this.left+u,y:it(r,this.top+x+u,this.bottom-s[0].height),line:0},Zh(this.ctx,e.textDirection);const T=p+u;this.legendItems.forEach((P,M)=>{n.strokeStyle=P.fontColor,n.fillStyle=P.fontColor;const j=n.measureText(P.text).width,H=l.textAlign(P.textAlign||(P.textAlign=o.textAlign)),Q=m+d+j;let G=f.x,ie=f.y;l.setWidth(this.width),v?M>0&&G+Q+u>this.right&&(ie=f.y+=T,f.line++,G=f.x=it(r,this.left+u,this.right-i[f.line])):M>0&&ie+T>this.bottom&&(G=f.x=G+s[f.line].width+u,f.line++,ie=f.y=it(r,this.top+x+u,this.bottom-s[f.line].height));const ue=l.x(G);if(b(ue,ie,P),G=J_(H,G+m+d,v?G+Q:this.right,e.rtl),w(l.x(G),ie,P),v)f.x+=Q+u;else if(typeof P.text!="string"){const me=c.lineHeight;f.y+=pd(P,me)+u}else f.y+=T}),ed(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,i=Qe(s.font),n=yt(s.padding);if(!s.display)return;const r=ei(e.rtl,this.left,this.width),o=this.ctx,a=s.position,l=i.size/2,c=n.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=it(e.align,h,this.right-d);else{const m=this.columnSizes.reduce((g,p)=>Math.max(g,p.height),0);u=c+it(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const f=it(a,h,h+d);o.textAlign=r.textAlign(Uh(a)),o.textBaseline="middle",o.strokeStyle=s.color,o.fillStyle=s.color,o.font=i.string,Gn(o,s.text,f,u,i)}_computeTitleHeight(){const e=this.options.title,s=Qe(e.font),i=yt(e.padding);return e.display?s.lineHeight+i.height:0}_getLegendItemAt(e,s){let i,n,r;if(Ks(e,this.left,this.right)&&Ks(s,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(n=r[i],Ks(e,n.left,n.left+n.width)&&Ks(s,n.top,n.top+n.height))return this.legendItems[i]}return null}handleEvent(e){const s=this.options;if(!k0(e.type,s))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const n=this._hoveredItem,r=v0(n,i);n&&!r&&xe(s.onLeave,[e,n,this],this),this._hoveredItem=i,i&&!r&&xe(s.onHover,[e,i,this],this)}else i&&xe(s.onClick,[e,i,this],this)}}function w0(t,e,s,i,n){const r=x0(i,t,e,s),o=S0(n,i,e.lineHeight);return{itemWidth:r,itemHeight:o}}function x0(t,e,s,i){let n=t.text;return n&&typeof n!="string"&&(n=n.reduce((r,o)=>r.length>o.length?r:o)),e+s.size/2+i.measureText(n).width}function S0(t,e,s){let i=t;return typeof e.text!="string"&&(i=pd(e,s)),i}function pd(t,e){const s=t.text?t.text.length:0;return e*s}function k0(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var T0={id:"legend",_element:zc,start(t,e,s){const i=t.legend=new zc({ctx:t.ctx,options:s,chart:t});ts.configure(t,i,s),ts.addBox(t,i)},stop(t){ts.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const i=t.legend;ts.configure(t,i,s),i.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const i=e.datasetIndex,n=s.chart;n.isDatasetVisible(i)?(n.hide(i),e.hidden=!0):(n.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:i,textAlign:n,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),u=yt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:n||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};const xi={average(t){if(!t.length)return!1;let e,s,i=new Set,n=0,r=0;for(e=0,s=t.length;e<s;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),n+=l.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:n/r}},nearest(t,e){if(!t.length)return!1;let s=e.x,i=e.y,n=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=t.length;r<o;++r){const l=t[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=H_(e,c);u<n&&(n=u,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,i=l.y}return{x:s,y:i}}};function Tt(t,e){return e&&(Le(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function $t(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function O0(t,e){const{element:s,datasetIndex:i,index:n}=e,r=t.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(n);return{chart:t,label:o,parsed:r.getParsed(n),raw:t.data.datasets[i].data[n],formattedValue:a,dataset:r.getDataset(),dataIndex:n,datasetIndex:i,element:s}}function Vc(t,e){const s=t.chart.ctx,{body:i,footer:n,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=Qe(e.bodyFont),c=Qe(e.titleFont),u=Qe(e.footerFont),h=r.length,d=n.length,f=i.length,m=yt(e.padding);let g=m.height,p=0,b=i.reduce((x,T)=>x+T.before.length+T.lines.length+T.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),b){const x=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*x+(b-f)*l.lineHeight+(b-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let w=0;const v=function(x){p=Math.max(p,s.measureText(x).width+w)};return s.save(),s.font=c.string,pe(t.title,v),s.font=l.string,pe(t.beforeBody.concat(t.afterBody),v),w=e.displayColors?o+2+e.boxPadding:0,pe(i,x=>{pe(x.before,v),pe(x.lines,v),pe(x.after,v)}),w=0,s.font=u.string,pe(t.footer,v),s.restore(),p+=m.width,{width:p,height:g}}function E0(t,e){const{y:s,height:i}=e;return s<i/2?"top":s>t.height-i/2?"bottom":"center"}function A0(t,e,s,i){const{x:n,width:r}=i,o=s.caretSize+s.caretPadding;if(t==="left"&&n+r+o>e.width||t==="right"&&n-r-o<0)return!0}function R0(t,e,s,i){const{x:n,width:r}=s,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return i==="center"?c=n<=(a+l)/2?"left":"right":n<=r/2?c="left":n>=o-r/2&&(c="right"),A0(c,t,e,s)&&(c="center"),c}function qc(t,e,s){const i=s.yAlign||e.yAlign||E0(t,s);return{xAlign:s.xAlign||e.xAlign||R0(t,e,s,i),yAlign:i}}function C0(t,e){let{x:s,width:i}=t;return e==="right"?s-=i:e==="center"&&(s-=i/2),s}function P0(t,e,s){let{y:i,height:n}=t;return e==="top"?i+=s:e==="bottom"?i-=n+s:i-=n/2,i}function Kc(t,e,s,i){const{caretSize:n,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=s,c=n+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Zs(o);let m=C0(e,a);const g=P0(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(u,d)+n:a==="right"&&(m+=Math.max(h,f)+n),{x:mt(m,0,i.width-e.width),y:mt(g,0,i.height-e.height)}}function xn(t,e,s){const i=yt(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function Gc(t){return Tt([],$t(t))}function I0(t,e,s){return oi(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function Jc(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const md={beforeTitle:Lt,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,i=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return s[e.dataIndex]}return""},afterTitle:Lt,beforeBody:Lt,beforeLabel:Lt,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return _e(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:Lt,afterBody:Lt,beforeFooter:Lt,footer:Lt,afterFooter:Lt};function qe(t,e,s,i){const n=t[e].call(s,i);return typeof n>"u"?md[e].call(s,i):n}class Yc extends tn{static positioners=xi;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&s.options.animation&&i.animations,r=new td(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=I0(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:i}=s,n=qe(i,"beforeTitle",this,e),r=qe(i,"title",this,e),o=qe(i,"afterTitle",this,e);let a=[];return a=Tt(a,$t(n)),a=Tt(a,$t(r)),a=Tt(a,$t(o)),a}getBeforeBody(e,s){return Gc(qe(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:i}=s,n=[];return pe(e,r=>{const o={before:[],lines:[],after:[]},a=Jc(i,r);Tt(o.before,$t(qe(a,"beforeLabel",this,r))),Tt(o.lines,qe(a,"label",this,r)),Tt(o.after,$t(qe(a,"afterLabel",this,r))),n.push(o)}),n}getAfterBody(e,s){return Gc(qe(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:i}=s,n=qe(i,"beforeFooter",this,e),r=qe(i,"footer",this,e),o=qe(i,"afterFooter",this,e);let a=[];return a=Tt(a,$t(n)),a=Tt(a,$t(r)),a=Tt(a,$t(o)),a}_createItems(e){const s=this._active,i=this.chart.data,n=[],r=[],o=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(O0(this.chart,s[l]));return e.filter&&(a=a.filter((u,h,d)=>e.filter(u,h,d,i))),e.itemSort&&(a=a.sort((u,h)=>e.itemSort(u,h,i))),pe(a,u=>{const h=Jc(e.callbacks,u);n.push(qe(h,"labelColor",this,u)),r.push(qe(h,"labelPointStyle",this,u)),o.push(qe(h,"labelTextColor",this,u))}),this.labelColors=n,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(e,s){const i=this.options.setContext(this.getContext()),n=this._active;let r,o=[];if(!n.length)this.opacity!==0&&(r={opacity:0});else{const a=xi[i.position].call(this,n,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Vc(this,i),c=Object.assign({},a,l),u=qc(this.chart,i,c),h=Kc(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,i,n){const r=this.getCaretPosition(e,i,n);s.lineTo(r.x1,r.y1),s.lineTo(r.x2,r.y2),s.lineTo(r.x3,r.y3)}getCaretPosition(e,s,i){const{xAlign:n,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Zs(a),{x:d,y:f}=e,{width:m,height:g}=s;let p,b,w,v,x,T;return r==="center"?(x=f+g/2,n==="left"?(p=d,b=p-o,v=x+o,T=x-o):(p=d+m,b=p+o,v=x-o,T=x+o),w=p):(n==="left"?b=d+Math.max(l,u)+o:n==="right"?b=d+m-Math.max(c,h)-o:b=this.caretX,r==="top"?(v=f,x=v-o,p=b-o,w=b+o):(v=f+g,x=v+o,p=b+o,w=b-o),T=v),{x1:p,x2:b,x3:w,y1:v,y2:x,y3:T}}drawTitle(e,s,i){const n=this.title,r=n.length;let o,a,l;if(r){const c=ei(i.rtl,this.x,this.width);for(e.x=xn(this,i.titleAlign,i),s.textAlign=c.textAlign(i.titleAlign),s.textBaseline="middle",o=Qe(i.titleFont),a=i.titleSpacing,s.fillStyle=i.titleColor,s.font=o.string,l=0;l<r;++l)s.fillText(n[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===r&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,s,i,n,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=Qe(r.bodyFont),h=xn(this,"left",r),d=n.x(h),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=s.y+f;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},p=n.leftForLtr(d,c)+c/2,b=m+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,uc(e,g,p,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,uc(e,g,p,b)}else{e.lineWidth=le(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const g=n.leftForLtr(d,c),p=n.leftForLtr(n.xPlus(d,1),c-2),b=Zs(o.borderRadius);Object.values(b).some(w=>w!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Jn(e,{x:g,y:m,w:c,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Jn(e,{x:p,y:m+1,w:c-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(g,m,c,l),e.strokeRect(g,m,c,l),e.fillStyle=o.backgroundColor,e.fillRect(p,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,s,i){const{body:n}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=Qe(i.bodyFont);let d=h.lineHeight,f=0;const m=ei(i.rtl,this.x,this.width),g=function(j){s.fillText(j,m.x(e.x+f),e.y+d/2),e.y+=d+r},p=m.textAlign(o);let b,w,v,x,T,P,M;for(s.textAlign=o,s.textBaseline="middle",s.font=h.string,e.x=xn(this,p,i),s.fillStyle=i.bodyColor,pe(this.beforeBody,g),f=a&&p!=="right"?o==="center"?c/2+u:c+2+u:0,x=0,P=n.length;x<P;++x){for(b=n[x],w=this.labelTextColors[x],s.fillStyle=w,pe(b.before,g),v=b.lines,a&&v.length&&(this._drawColorBox(s,e,x,m,i),d=Math.max(h.lineHeight,l)),T=0,M=v.length;T<M;++T)g(v[T]),d=h.lineHeight;pe(b.after,g)}f=0,d=h.lineHeight,pe(this.afterBody,g),e.y-=r}drawFooter(e,s,i){const n=this.footer,r=n.length;let o,a;if(r){const l=ei(i.rtl,this.x,this.width);for(e.x=xn(this,i.footerAlign,i),e.y+=i.footerMarginTop,s.textAlign=l.textAlign(i.footerAlign),s.textBaseline="middle",o=Qe(i.footerFont),s.fillStyle=i.footerColor,s.font=o.string,a=0;a<r;++a)s.fillText(n[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,s,i,n){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=i,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:m}=Zs(n.cornerRadius);s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,s.lineWidth=n.borderWidth,s.beginPath(),s.moveTo(a+h,l),o==="top"&&this.drawCaret(e,s,i,n),s.lineTo(a+c-d,l),s.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(e,s,i,n),s.lineTo(a+c,l+u-m),s.quadraticCurveTo(a+c,l+u,a+c-m,l+u),o==="bottom"&&this.drawCaret(e,s,i,n),s.lineTo(a+f,l+u),s.quadraticCurveTo(a,l+u,a,l+u-f),o==="center"&&r==="left"&&this.drawCaret(e,s,i,n),s.lineTo(a,l+h),s.quadraticCurveTo(a,l,a+h,l),s.closePath(),s.fill(),n.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,i=this.$animations,n=i&&i.x,r=i&&i.y;if(n||r){const o=xi[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Vc(this,e),l=Object.assign({},o,this._size),c=qc(s,e,l),u=Kc(e,l,c,s);(n._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(s);const n={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=yt(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,n,s),Zh(e,s.textDirection),r.y+=o.top,this.drawTitle(r,e,s),this.drawBody(r,e,s),this.drawFooter(r,e,s),ed(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const i=this._active,n=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!zn(i,n),o=this._positionChanged(n,s);(r||o)&&(this._active=n,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,i=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,r=this._active||[],o=this._getActiveElements(e,r,s,i),a=this._positionChanged(o,e),l=s||!zn(o,r)||a;return l&&(this._active=o,(n.enabled||n.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),l}_getActiveElements(e,s,i,n){const r=this.options;if(e.type==="mouseout")return[];if(!n)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(e,s){const{caretX:i,caretY:n,options:r}=this,o=xi[r.position].call(this,e,s);return o!==!1&&(i!==o.x||n!==o.y)}}var M0={id:"tooltip",_element:Yc,positioners:xi,afterInit(t,e,s){s&&(t.tooltip=new Yc({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:md},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const D0=(t,e,s,i)=>(typeof e=="string"?(s=t.push(e)-1,i.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function L0(t,e,s,i){const n=t.indexOf(e);if(n===-1)return D0(t,e,s,i);const r=t.lastIndexOf(e);return n!==r?s:n}const j0=(t,e)=>t===null?null:mt(Math.round(t),0,e);function Xc(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class $0 extends ai{static id="category";static defaults={ticks:{callback:Xc}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const i=this.getLabels();for(const{index:n,label:r}of s)i[n]===r&&i.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(_e(e))return null;const i=this.getLabels();return s=isFinite(s)&&i[s]===e?s:L0(i,e,ce(s,e),this._addedLabels),j0(s,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),s||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const e=this.min,s=this.max,i=this.options.offset,n=[];let r=this.getLabels();r=e===0&&s===r.length-1?r:r.slice(e,s+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=s;o++)n.push({value:o});return n}getLabelForValue(e){return Xc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function N0(t,e){const s=[],{bounds:n,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=t,f=r||1,m=u-1,{min:g,max:p}=e,b=!_e(o),w=!_e(a),v=!_e(c),x=(p-g)/(h+1);let T=tc((p-g)/m/f)*f,P,M,j,H;if(T<1e-14&&!b&&!w)return[{value:g},{value:p}];H=Math.ceil(p/T)-Math.floor(g/T),H>m&&(T=tc(H*T/m/f)*f),_e(l)||(P=Math.pow(10,l),T=Math.ceil(T*P)/P),n==="ticks"?(M=Math.floor(g/T)*T,j=Math.ceil(p/T)*T):(M=g,j=p),b&&w&&r&&N_((a-o)/r,T/1e3)?(H=Math.round(Math.min((a-o)/T,u)),T=(a-o)/H,M=o,j=a):v?(M=b?o:M,j=w?a:j,H=c-1,T=(j-M)/H):(H=(j-M)/T,Rn(H,Math.round(H),T/1e3)?H=Math.round(H):H=Math.ceil(H));const Q=Math.max(sc(T),sc(M));P=Math.pow(10,_e(l)?Q:l),M=Math.round(M*P)/P,j=Math.round(j*P)/P;let G=0;for(b&&(d&&M!==o?(s.push({value:o}),M<o&&G++,Rn(Math.round((M+G*T)*P)/P,o,Qc(o,x,t))&&G++):M<o&&G++);G<H;++G){const ie=Math.round((M+G*T)*P)/P;if(w&&ie>a)break;s.push({value:ie})}return w&&d&&j!==a?s.length&&Rn(s[s.length-1].value,a,Qc(a,x,t))?s[s.length-1].value=a:s.push({value:a}):(!w||j===a)&&s.push({value:j}),s}function Qc(t,e,{horizontal:s,minRotation:i}){const n=Os(i),r=(s?Math.sin(n):Math.cos(n))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}class F0 extends ai{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return _e(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:i}=this.getUserBounds();let{min:n,max:r}=this;const o=l=>n=s?n:l,a=l=>r=i?r:l;if(e){const l=os(n),c=os(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(n===r){let l=r===0?1:Math.abs(r*.05);a(r+l),e||o(n-l)}this.min=n,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:i}=e,n;return i?(n=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,n>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${n} ticks. Limiting to 1000.`),n=1e3)):(n=this.computeTickLimit(),s=s||11),s&&(n=Math.min(s,n)),n}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},r=this._range||this,o=N0(n,r);return e.bounds==="ticks"&&F_(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let s=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const n=(i-s)/Math.max(e.length-1,1)/2;s-=n,i+=n}this._startValue=s,this._endValue=i,this._valueRange=i-s}getLabelForValue(e){return Wh(e,this.chart.options.locale,this.options.ticks.format)}}class B0 extends F0{static id="linear";static defaults={ticks:{callback:zh.formatters.numeric}};determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=ct(e)?e:0,this.max=ct(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,i=Os(this.options.ticks.minRotation),n=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,r.lineHeight/n))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const mr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ye=Object.keys(mr);function Zc(t,e){return t-e}function eu(t,e){if(_e(e))return null;const s=t._adapter,{parser:i,round:n,isoWeekday:r}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),ct(o)||(o=typeof i=="string"?s.parse(o,i):s.parse(o)),o===null?null:(n&&(o=n==="week"&&(Kn(r)||r===!0)?s.startOf(o,"isoWeek",r):s.startOf(o,n)),+o)}function tu(t,e,s,i){const n=Ye.length;for(let r=Ye.indexOf(t);r<n-1;++r){const o=mr[Ye[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((s-e)/(a*o.size))<=i)return Ye[r]}return Ye[n-1]}function U0(t,e,s,i,n){for(let r=Ye.length-1;r>=Ye.indexOf(s);r--){const o=Ye[r];if(mr[o].common&&t._adapter.diff(n,i,o)>=e-1)return o}return Ye[s?Ye.indexOf(s):0]}function H0(t){for(let e=Ye.indexOf(t)+1,s=Ye.length;e<s;++e)if(mr[Ye[e]].common)return Ye[e]}function su(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:i,hi:n}=pa(s,e),r=s[i]>=e?s[i]:s[n];t[r]=!0}}function W0(t,e,s,i){const n=t._adapter,r=+n.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+n.add(a,1,i))l=s[a],l>=0&&(e[l].major=!0);return e}function iu(t,e,s){const i=[],n={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],n[a]=o,i.push({value:a,major:!1});return r===0||!s?i:W0(t,i,n,s)}class nu extends ai{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const i=e.time||(e.time={}),n=this._adapter=new rv._date(e.adapters.date);n.init(s),Ii(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:eu(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,i=e.time.unit||"day";let{min:n,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(n=Math.min(n,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),n=ct(n)&&!isNaN(n)?n:+s.startOf(Date.now(),i),r=ct(r)&&!isNaN(r)?r:+s.endOf(Date.now(),i)+1,this.min=Math.min(n,r-1),this.max=Math.max(n+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],i=e[e.length-1]),{min:s,max:i}}buildTicks(){const e=this.options,s=e.time,i=e.ticks,n=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const r=this.min,o=this.max,a=q_(n,r,o);return this._unit=s.unit||(i.autoSkip?tu(s.minUnit,this.min,this.max,this._getLabelCapacity(r)):U0(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:H0(this._unit),this.initOffsets(n),e.reverse&&a.reverse(),iu(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,i=0,n,r;this.options.offset&&e.length&&(n=this.getDecimalForValue(e[0]),e.length===1?s=1-n:s=(this.getDecimalForValue(e[1])-n)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;s=mt(s,0,o),i=mt(i,0,o),this._offsets={start:s,end:i,factor:1/(s+1+i)}}_generate(){const e=this._adapter,s=this.min,i=this.max,n=this.options,r=n.time,o=r.unit||tu(r.minUnit,s,i,this._getLabelCapacity(s)),a=ce(n.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Kn(l)||l===!0,u={};let h=s,d,f;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":o),e.diff(i,s,o)>1e5*a)throw new Error(s+" and "+i+" are too far apart with stepSize of "+a+" "+o);const m=n.ticks.source==="data"&&this.getDataTimestamps();for(d=h,f=0;d<i;d=+e.add(d,a,o),f++)su(u,d,m);return(d===i||n.bounds==="ticks"||f===1)&&su(u,d,m),Object.keys(u).sort(Zc).map(g=>+g)}getLabelForValue(e){const s=this._adapter,i=this.options.time;return i.tooltipFormat?s.format(e,i.tooltipFormat):s.format(e,i.displayFormats.datetime)}format(e,s){const n=this.options.time.displayFormats,r=this._unit,o=s||n[r];return this._adapter.format(e,o)}_tickFormatFunction(e,s,i,n){const r=this.options,o=r.ticks.callback;if(o)return xe(o,[e,s,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=i[s],f=c&&h&&d&&d.major;return this._adapter.format(e,n||(f?h:u))}generateTickLabels(e){let s,i,n;for(s=0,i=e.length;s<i;++s)n=e[s],n.label=this._tickFormatFunction(n.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+i)*s.factor)}getValueForPixel(e){const s=this._offsets,i=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,i=this.ctx.measureText(e).width,n=Os(this.isHorizontal()?s.maxRotation:s.minRotation),r=Math.cos(n),o=Math.sin(n),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(e){const s=this.options.time,i=s.displayFormats,n=i[s.unit]||i.millisecond,r=this._tickFormatFunction(e,0,iu(this,[e],this._majorUnit),n),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],s,i;if(e.length)return e;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(s=0,i=n.length;s<i;++s)e=e.concat(n[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,i;if(e.length)return e;const n=this.getLabels();for(s=0,i=n.length;s<i;++s)e.push(eu(this,n[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Nh(e.sort(Zc))}}function Sn(t,e,s){let i=0,n=t.length-1,r,o,a,l;s?(e>=t[i].pos&&e<=t[n].pos&&({lo:i,hi:n}=$o(t,"pos",e)),{pos:r,time:a}=t[i],{pos:o,time:l}=t[n]):(e>=t[i].time&&e<=t[n].time&&({lo:i,hi:n}=$o(t,"time",e)),{time:r,pos:a}=t[i],{time:o,pos:l}=t[n]);const c=o-r;return c?a+(l-a)*(e-r)/c:a}class uw extends nu{static id="timeseries";static defaults=nu.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=Sn(s,this.min),this._tableRange=Sn(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:i}=this,n=[],r=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=s&&c<=i&&n.push(c);if(n.length<2)return[{time:s,pos:0},{time:i,pos:1}];for(o=0,a=n.length;o<a;++o)u=n[o+1],l=n[o-1],c=n[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const e=this.min,s=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(s)||i.length===1)&&i.push(s),i.sort((n,r)=>n-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),i=this.getLabelTimestamps();return s.length&&i.length?e=this.normalize(s.concat(i)):e=s.length?s:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Sn(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,i=this.getDecimalForPixel(e)/s.factor-s.end;return Sn(this._table,i*this._tableRange+this._minPos,!0)}}const bd={data:{type:Object,required:!0},options:{type:Object,default:()=>({})},plugins:{type:Array,default:()=>[]},datasetIdKey:{type:String,default:"label"},updateMode:{type:String,default:void 0}},z0={ariaLabel:{type:String},ariaDescribedby:{type:String}},V0={type:{type:String,required:!0},destroyDelay:{type:Number,default:0},...bd,...z0},q0=hh[0]==="2"?(t,e)=>Object.assign(t,{attrs:e}):(t,e)=>Object.assign(t,e);function Bs(t){return Yi(t)?ae(t):t}function K0(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t;return Yi(e)?new Proxy(t,{}):t}function G0(t,e){const s=t.options;s&&e&&Object.assign(s,e)}function _d(t,e){t.labels=e}function yd(t,e,s){const i=[];t.datasets=e.map(n=>{const r=t.datasets.find(o=>o[s]===n[s]);return!r||!n.data||i.includes(r)?{...n}:(i.push(r),Object.assign(r,n),r)})}function J0(t,e){const s={labels:[],datasets:[]};return _d(s,t.labels),yd(s,t.datasets,e),s}const Y0=Uu({props:V0,setup(t,e){let{expose:s,slots:i}=e;const n=Je(null),r=Ru(null);s({chart:r});const o=()=>{if(!n.value)return;const{type:c,data:u,options:h,plugins:d,datasetIdKey:f}=t,m=J0(u,f),g=K0(m,u);r.value=new pr(n.value,{type:c,data:g,options:{...h},plugins:d})},a=()=>{const c=ae(r.value);c&&(t.destroyDelay>0?setTimeout(()=>{c.destroy(),r.value=null},t.destroyDelay):(c.destroy(),r.value=null))},l=c=>{c.update(t.updateMode)};return rr(o),sa(a),On([()=>t.options,()=>t.data],(c,u)=>{let[h,d]=c,[f,m]=u;const g=ae(r.value);if(!g)return;let p=!1;if(h){const b=Bs(h),w=Bs(f);b&&b!==w&&(G0(g,b),p=!0)}if(d){const b=Bs(d.labels),w=Bs(m.labels),v=Bs(d.datasets),x=Bs(m.datasets);b!==w&&(_d(g.config.data,b),p=!0),v&&v!==x&&(yd(g.config.data,v,t.datasetIdKey),p=!0)}p&&Du(()=>{l(g)})},{deep:!0}),()=>ko("canvas",{role:"img","aria-label":t.ariaLabel,"aria-describedby":t.ariaDescribedby,ref:n},[ko("p",{},[i.default?i.default():""])])}});function X0(t,e){return pr.register(e),Uu({props:bd,setup(s,i){let{expose:n}=i;const r=Ru(null),o=a=>{r.value=a?.chart};return n({chart:r}),()=>ko(Y0,q0({ref:o},{type:t,...s}))}})}const Q0=X0("bar",nv),Z0={__name:"MealChart",props:{total:Object,goal:Object,proteinGram:Number,fatGram:Number,carbGram:Number},setup(t){pr.register(M0,T0,y0,$0,B0);const e=t,s=gt(()=>({labels:["Protein(g)","Fat(g)","Carb(g)"],datasets:[{label:"",backgroundColor:"#4caf50",data:[e.total.protein,e.total.fat,e.total.carb]},{label:"",backgroundColor:"#2196f3",data:[e.proteinGram,e.fatGram,e.carbGram]}]})),i={indexAxis:"y",responsive:!0,plugins:{legend:{position:"top"}},scales:{x:{beginAtZero:!0},y:{beginAtZero:!0}}};return(n,r)=>(De(),Nn(Pu(Q0),{data:s.value,options:i},null,8,["data"]))}},ew={class:"login"},tw={key:0,class:"loginform"},sw={key:1},iw={class:"header"},nw={class:"main-contents"},rw={class:"card"},ow={__name:"App",setup(t){const e=Je(""),s=Je(!1),i=Je(!1),n=()=>{i.value=!i.value},r=Je(!1),o=()=>{r.value=!r.value},a=()=>{localStorage.setItem("goal",JSON.stringify(c.value)),alert(""),i.value=!1},l=()=>{e.value&&(localStorage.setItem("username",e.value),s.value=!0)};rr(()=>{const w=localStorage.getItem("username");w&&(e.value=w,s.value=!0);const v=localStorage.getItem("goal");v&&(c.value=JSON.parse(v));const x=localStorage.getItem("meals");x&&(f.value=JSON.parse(x))});const c=Je({calorie:2e3,ratioProtein:30,ratioFat:20,ratioCarb:50}),u=gt(()=>Math.round(c.value.calorie*c.value.ratioProtein/100/4)),h=gt(()=>Math.round(c.value.calorie*c.value.ratioFat/100/9)),d=gt(()=>Math.round(c.value.calorie*c.value.ratioCarb/100/4)),f=Je([]),m=Je({name:"",calorie:0,protein:0,fat:0,carb:0}),g=w=>{!w||!w.name||(f.value.push({...w}),localStorage.setItem("meals",JSON.stringify(f.value)))},p=gt(()=>f.value.reduce((w,v)=>(w.calorie+=Number(v.calorie),w.protein+=Number(v.protein),w.fat+=Number(v.fat),w.carb+=Number(v.carb),w),{calorie:0,protein:0,fat:0,carb:0})),b=()=>{f.value=[],localStorage.removeItem("meals"),m.value={name:"",calorie:0,protein:0,fat:0,carb:0}};return(w,v)=>(De(),Ge("main",null,[F("div",ew,[s.value?(De(),Ge("div",sw,[F("div",iw,[F("h1",null,"Welcome "+Oe(e.value)+" ",1)]),F("div",nw,[F("button",{onClick:n},Oe(i.value?"":""),1),i.value?(De(),Nn(zg,{key:0,goal:c.value,onSave:a},null,8,["goal"])):ks("",!0),v[3]||(v[3]=F("h2",null," ",-1)),F("div",{class:"meal-buttons"},[F("button",{onClick:o},""),F("button",{onClick:b,class:"reset-btn"},"")]),r.value?(De(),Nn(r_,{key:1,onAdd:g,onClose:v[1]||(v[1]=x=>r.value=!1)})):ks("",!0),v[4]||(v[4]=F("h2",null," ",-1)),F("div",rw,[F("p",null,"Calories: "+Oe(p.value.calorie)+" / "+Oe(c.value.calorie),1),F("p",null,"Protein: "+Oe(p.value.protein.toFixed(1))+" / "+Oe(u.value.toFixed(1)),1),F("p",null,"Fat: "+Oe(p.value.fat.toFixed(1))+" / "+Oe(h.value.toFixed(1)),1),F("p",null,"Carb: "+Oe(p.value.carb.toFixed(1))+" / "+Oe(d.value.toFixed(1)),1)]),v[5]||(v[5]=F("h2",null," ",-1)),Xe(Z0,{total:p.value,goal:c.value,proteinGram:u.value,fatGram:h.value,carbGram:d.value},null,8,["total","goal","proteinGram","fatGram","carbGram"])])])):(De(),Ge("div",tw,[v[2]||(v[2]=F("h2",null,"",-1)),Rt(F("input",{"onUpdate:modelValue":v[0]||(v[0]=x=>e.value=x),placeholder:"Name"},null,512),[[Ct,e.value]]),F("button",{onClick:l},"Start")]))])]))}},aw=oa(ow,[["__scopeId","data-v-ae1eb39c"]]);$g(aw).mount("#app");
